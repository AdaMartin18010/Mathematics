# 01-åŸºæœ¬æ„æˆè§„åˆ™ | Basic Composition Rules

## ğŸ“‹ ç›®å½• | Table of Contents

- [01-åŸºæœ¬æ„æˆè§„åˆ™ | Basic Composition Rules](#01-åŸºæœ¬æ„æˆè§„åˆ™--basic-composition-rules)
  - [ğŸ“‹ ç›®å½• | Table of Contents](#-ç›®å½•--table-of-contents)
  - [1. ä¸»é¢˜ç®€ä»‹ | Topic Introduction](#1-ä¸»é¢˜ç®€ä»‹--topic-introduction)
  - [2. ä¸»é¢˜ä¸»çº¿ä¸æ ‘å½¢ç»“æ„ | Mainline & Tree Structure](#2-ä¸»é¢˜ä¸»çº¿ä¸æ ‘å½¢ç»“æ„--mainline--tree-structure)
    - [2.1 é¦–å­—ç¬¦è§„åˆ™ | First Character Rules](#21-é¦–å­—ç¬¦è§„åˆ™--first-character-rules)
    - [2.2 åç»­å­—ç¬¦è§„åˆ™ | Subsequent Character Rules](#22-åç»­å­—ç¬¦è§„åˆ™--subsequent-character-rules)
    - [2.3 å­—æ¯æ•°å­—ç»„åˆ | Alphanumeric Combinations](#23-å­—æ¯æ•°å­—ç»„åˆ--alphanumeric-combinations)
    - [2.4 ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨ | Special Character Usage](#24-ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨--special-character-usage)
  - [3. æ¦‚å¿µå®šä¹‰ | Concept Definition](#3-æ¦‚å¿µå®šä¹‰--concept-definition)
  - [4. ç†è®ºå†å²ä¸ä»£è¡¨äººç‰© | Theoretical History & Key Figures](#4-ç†è®ºå†å²ä¸ä»£è¡¨äººç‰©--theoretical-history--key-figures)
  - [5. ç°ä»£å‘å±•ä¸å‰æ²¿æŒ‘æˆ˜ | Modern Development & Frontier Challenges](#5-ç°ä»£å‘å±•ä¸å‰æ²¿æŒ‘æˆ˜--modern-development--frontier-challenges)
  - [6. ç›¸å…³æ€§ä¸æœ¬åœ°è·³è½¬ | Relevance & Local Navigation](#6-ç›¸å…³æ€§ä¸æœ¬åœ°è·³è½¬--relevance--local-navigation)
  - [7. è¿›åº¦æ—¥å¿—ä¸æ–­ç‚¹æ ‡è®° | Progress Log & Breakpoint Marking](#7-è¿›åº¦æ—¥å¿—ä¸æ–­ç‚¹æ ‡è®°--progress-log--breakpoint-marking)
  - [8. ä»£ç ç¤ºä¾‹ | Code Examples](#8-ä»£ç ç¤ºä¾‹--code-examples)

---

## 1. ä¸»é¢˜ç®€ä»‹ | Topic Introduction

æœ¬ä¸»é¢˜æ·±å…¥æ¢è®¨Leanè¯­è¨€ä¸­æ ‡è¯†ç¬¦çš„åŸºæœ¬æ„æˆè§„åˆ™ï¼ŒåŒ…æ‹¬é¦–å­—ç¬¦è§„åˆ™ã€åç»­å­—ç¬¦è§„åˆ™ã€å­—æ¯æ•°å­—ç»„åˆè§„åˆ™ã€ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨è§„åˆ™ç­‰æ ¸å¿ƒæ¦‚å¿µï¼Œä¸ºç†è§£Leanè¯­è¨€æ ‡è¯†ç¬¦ç³»ç»Ÿçš„æŠ€æœ¯ç»†èŠ‚æä¾›å…¨é¢çš„ç†è®ºæŒ‡å¯¼ã€‚

This topic provides an in-depth exploration of the basic composition rules for identifiers in Lean, including first character rules, subsequent character rules, alphanumeric combination rules, special character usage rules, and other core concepts, offering comprehensive theoretical guidance for understanding the technical details of Lean's identifier system.

---

## 2. ä¸»é¢˜ä¸»çº¿ä¸æ ‘å½¢ç»“æ„ | Mainline & Tree Structure

### 2.1 é¦–å­—ç¬¦è§„åˆ™ | First Character Rules

- å­—æ¯å­—ç¬¦è¦æ±‚
- ä¸‹åˆ’çº¿å­—ç¬¦è§„åˆ™
- æ•°å­—å­—ç¬¦é™åˆ¶

### 2.2 åç»­å­—ç¬¦è§„åˆ™ | Subsequent Character Rules

- å­—æ¯æ•°å­—ç»„åˆ
- ä¸‹åˆ’çº¿ä½¿ç”¨è§„åˆ™
- ç‰¹æ®Šå­—ç¬¦é™åˆ¶

### 2.3 å­—æ¯æ•°å­—ç»„åˆ | Alphanumeric Combinations

- å­—æ¯ä¸æ•°å­—æ··åˆ
- å¤§å°å†™å­—æ¯è§„åˆ™
- æ•°å­—ä½ç½®é™åˆ¶

### 2.4 ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨ | Special Character Usage

- åå¼•å·è½¬ä¹‰è§„åˆ™
- Unicodeå­—ç¬¦æ”¯æŒ
- æ•°å­¦ç¬¦å·ä½¿ç”¨

---

## 3. æ¦‚å¿µå®šä¹‰ | Concept Definition

### 3.1 é¦–å­—ç¬¦è§„åˆ™ | First Character Rules

- **ä¸­æ–‡å®šä¹‰**ï¼šé¦–å­—ç¬¦è§„åˆ™æ˜¯Leanè¯­è¨€ä¸­æ ‡è¯†ç¬¦ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»éµå¾ªçš„è§„åˆ™ï¼Œå†³å®šäº†æ ‡è¯†ç¬¦çš„åˆæ³•æ€§ã€‚
- **English Definition**: First character rules are the rules that the first character of an identifier in Lean must follow, determining the validity of the identifier.

### 3.2 åç»­å­—ç¬¦è§„åˆ™ | Subsequent Character Rules

- **ä¸­æ–‡å®šä¹‰**ï¼šåç»­å­—ç¬¦è§„åˆ™æ˜¯Leanè¯­è¨€ä¸­æ ‡è¯†ç¬¦é™¤é¦–å­—ç¬¦å¤–çš„å…¶ä»–å­—ç¬¦å¿…é¡»éµå¾ªçš„è§„åˆ™ã€‚
- **English Definition**: Subsequent character rules are the rules that characters other than the first character of an identifier in Lean must follow.

### 3.3 å­—æ¯æ•°å­—ç»„åˆ | Alphanumeric Combinations

- **ä¸­æ–‡å®šä¹‰**ï¼šå­—æ¯æ•°å­—ç»„åˆæ˜¯Leanè¯­è¨€ä¸­æ ‡è¯†ç¬¦å¯ä»¥ä½¿ç”¨çš„å­—æ¯å’Œæ•°å­—çš„ç»„åˆè§„åˆ™ã€‚
- **English Definition**: Alphanumeric combinations are the combination rules for letters and numbers that identifiers in Lean can use.

### 3.4 ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨ | Special Character Usage

- **ä¸­æ–‡å®šä¹‰**ï¼šç‰¹æ®Šå­—ç¬¦ä½¿ç”¨æ˜¯Leanè¯­è¨€ä¸­æ ‡è¯†ç¬¦å¯ä»¥ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦çš„è§„åˆ™å’Œé™åˆ¶ã€‚
- **English Definition**: Special character usage are the rules and limitations for using special characters in identifiers in Lean.

---

## 4. ç†è®ºå†å²ä¸ä»£è¡¨äººç‰© | Theoretical History & Key Figures

### 4.1 ç¼–ç¨‹è¯­è¨€æ ‡è¯†ç¬¦æ„æˆè§„åˆ™ | Programming Language Identifier Composition Rules

- **å†å²èƒŒæ™¯**ï¼šä»æ—©æœŸç¼–ç¨‹è¯­è¨€åˆ°ç°ä»£è¯­è¨€çš„æ ‡è¯†ç¬¦æ„æˆè§„åˆ™æ¼”è¿›
- **è®¾è®¡åŸåˆ™**ï¼šå¯è¯»æ€§ã€ä¸€è‡´æ€§ã€ç®€æ´æ€§ç­‰æ ‡è¯†ç¬¦æ„æˆè§„åˆ™è®¾è®¡åŸåˆ™
- **æŠ€æœ¯å½±å“**ï¼šæ ‡è¯†ç¬¦æ„æˆè§„åˆ™å¯¹è¯­è¨€ä½¿ç”¨å’Œå¼€å‘æ•ˆç‡çš„å½±å“

### 4.2 Leanè¯­è¨€æ ‡è¯†ç¬¦æ„æˆè§„åˆ™ç‰¹è‰² | Lean Language Identifier Composition Rule Features

- **è®¾è®¡ç†å¿µ**ï¼šåŸºäºæ•°å­¦ç¬¦å·å’Œé€»è¾‘è¡¨è¾¾å¼çš„æ ‡è¯†ç¬¦æ„æˆè§„åˆ™è®¾è®¡
- **æŠ€æœ¯ä¼˜åŠ¿**ï¼šç±»å‹å®‰å…¨ã€è¡¨è¾¾åŠ›å¼ºã€æ˜“äºå½¢å¼åŒ–éªŒè¯
- **åº”ç”¨ä»·å€¼**ï¼šåœ¨æ•°å­¦è¯æ˜å’Œè½¯ä»¶éªŒè¯ä¸­çš„ç‹¬ç‰¹ä¼˜åŠ¿

---

## 5. ç°ä»£å‘å±•ä¸å‰æ²¿æŒ‘æˆ˜ | Modern Development & Frontier Challenges

### 5.1 æ ‡è¯†ç¬¦æ„æˆè§„åˆ™æ‰©å±• | Identifier Composition Rule Extension

- **Unicodeæ”¯æŒ**ï¼šæ”¯æŒUnicodeå­—ç¬¦çš„æ ‡è¯†ç¬¦æ„æˆè§„åˆ™
- **å›½é™…åŒ–**ï¼šå¤šè¯­è¨€æ ‡è¯†ç¬¦æ„æˆè§„åˆ™æ”¯æŒ
- **ç‰¹æ®Šå­—ç¬¦**ï¼šæ•°å­¦ç¬¦å·å’Œç‰¹æ®Šå­—ç¬¦çš„æ ‡è¯†ç¬¦æ„æˆè§„åˆ™æ”¯æŒ

### 5.2 å·¥å…·æ”¯æŒä¸å¼€å‘ä½“éªŒ | Tool Support & Development Experience

- **è‡ªåŠ¨è¡¥å…¨**ï¼šåŸºäºæ ‡è¯†ç¬¦æ„æˆè§„åˆ™çš„æ™ºèƒ½ä»£ç è¡¥å…¨
- **é‡æ„å·¥å…·**ï¼šæ ‡è¯†ç¬¦æ„æˆè§„åˆ™æ„ŸçŸ¥çš„ä»£ç é‡æ„
- **é”™è¯¯æ£€æµ‹**ï¼šæ ‡è¯†ç¬¦æ„æˆè§„åˆ™è¿åçš„æ£€æµ‹å’Œä¿®å¤

---

## 6. ç›¸å…³æ€§ä¸æœ¬åœ°è·³è½¬ | Relevance & Local Navigation

### 6.1 ä¸Analysisç›®å½•çš„å…³è”

- **å½¢å¼åŒ–æ–¹æ³•**ï¼šä¸Analysis/03-å½¢å¼åŒ–æ–¹æ³•ä¸å…ƒæ•°å­¦/å…³è”
- **é€»è¾‘åŸºç¡€**ï¼šä¸Analysis/04-é€»è¾‘ä¸å…¬ç†ç³»ç»Ÿ/å…³è”
- **å¯è®¡ç®—æ€§**ï¼šä¸Analysis/06-å¯è®¡ç®—æ€§ä¸è‡ªåŠ¨æœºç†è®º/å…³è”

### 6.2 ä¸Refactorç›®å½•çš„å…³è”

- **æ•°å­¦åŸºç¡€**ï¼šä¸Refactor/02-æ•°å­¦åŸºç¡€ä¸é€»è¾‘/å…³è”
- **ä»£æ•°ç»“æ„**ï¼šä¸Refactor/03-ä»£æ•°ç»“æ„ä¸ç†è®º/å…³è”
- **åˆ†æå­¦**ï¼šä¸Refactor/04-åˆ†æå­¦/å…³è”

### 6.3 æœ¬åœ°è·³è½¬é“¾æ¥

- [01-é¦–å­—ç¬¦è§„åˆ™/01-æ€»è§ˆ.md](01-é¦–å­—ç¬¦è§„åˆ™/01-æ€»è§ˆ.md)
- [02-åç»­å­—ç¬¦è§„åˆ™/01-æ€»è§ˆ.md](02-åç»­å­—ç¬¦è§„åˆ™/01-æ€»è§ˆ.md)
- [03-å­—æ¯æ•°å­—ç»„åˆ/01-æ€»è§ˆ.md](03-å­—æ¯æ•°å­—ç»„åˆ/01-æ€»è§ˆ.md)
- [04-ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨/01-æ€»è§ˆ.md](04-ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨/01-æ€»è§ˆ.md)

---

## 7. è¿›åº¦æ—¥å¿—ä¸æ–­ç‚¹æ ‡è®° | Progress Log & Breakpoint Marking

### 7.1 å½“å‰è¿›åº¦

- âœ… åˆ›å»ºåŸºæœ¬æ„æˆè§„åˆ™æ€»è§ˆæ–‡ä»¶
- ğŸ”„ å»ºç«‹å­ç›®å½•ç»“æ„
- â³ å¼€å‘å„ä¸»é¢˜è¯¦ç»†å†…å®¹

### 7.2 æ–­ç‚¹æ ‡è®°

- **æ–­ç‚¹1**ï¼šå®Œæˆæ€»è§ˆæ–‡ä»¶åˆ›å»º
- **æ–­ç‚¹2**ï¼šå»ºç«‹01-é¦–å­—ç¬¦è§„åˆ™ç›®å½•
- **æ–­ç‚¹3**ï¼šå»ºç«‹02-åç»­å­—ç¬¦è§„åˆ™ç›®å½•
- **æ–­ç‚¹4**ï¼šå»ºç«‹03-å­—æ¯æ•°å­—ç»„åˆç›®å½•
- **æ–­ç‚¹5**ï¼šå»ºç«‹04-ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨ç›®å½•

### 7.3 ä¸‹ä¸€æ­¥è®¡åˆ’

1. åˆ›å»º01-é¦–å­—ç¬¦è§„åˆ™ç›®å½•åŠå…¶å†…å®¹
2. åˆ›å»º02-åç»­å­—ç¬¦è§„åˆ™ç›®å½•åŠå…¶å†…å®¹
3. åˆ›å»º03-å­—æ¯æ•°å­—ç»„åˆç›®å½•åŠå…¶å†…å®¹
4. åˆ›å»º04-ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨ç›®å½•åŠå…¶å†…å®¹
5. å®Œå–„å„ç›®å½•é—´çš„å…³è”å’Œæœ¬åœ°è·³è½¬

---

## 8. ä»£ç ç¤ºä¾‹ | Code Examples

### 8.1 é¦–å­—ç¬¦è§„åˆ™ç¤ºä¾‹

```lean
-- æœ‰æ•ˆé¦–å­—ç¬¦ï¼šå­—æ¯
def myFunction := 42
def MyType := Type
def variable := "valid"

-- æœ‰æ•ˆé¦–å­—ç¬¦ï¼šä¸‹åˆ’çº¿
def _private := "private"
def __system := "system"

-- æ— æ•ˆé¦–å­—ç¬¦ï¼šæ•°å­—
-- def 123invalid := 42  -- é”™è¯¯ï¼

-- ä½¿ç”¨åå¼•å·ç»•è¿‡é™åˆ¶
def `123valid` := 123
def `2nd_element` := "second"
```

### 8.2 åç»­å­—ç¬¦è§„åˆ™ç¤ºä¾‹

```lean
-- æœ‰æ•ˆåç»­å­—ç¬¦ï¼šå­—æ¯
def myFunction := 42
def MyType := Type
def variable := "valid"

-- æœ‰æ•ˆåç»­å­—ç¬¦ï¼šæ•°å­—
def myFunction123 := 42
def MyType456 := Type
def variable789 := "valid"

-- æœ‰æ•ˆåç»­å­—ç¬¦ï¼šä¸‹åˆ’çº¿
def my_function := 42
def My_Type := Type
def variable_name := "valid"

-- æœ‰æ•ˆåç»­å­—ç¬¦ï¼šå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ç»„åˆ
def myFunction123_456 := 42
def My_Type_789 := Type
def variable_name_123 := "valid"
```

### 8.3 å­—æ¯æ•°å­—ç»„åˆç¤ºä¾‹

```lean
-- å­—æ¯ä¸æ•°å­—æ··åˆ
def function123 := 42
def type456 := Type
def variable789 := "valid"

-- å¤§å°å†™å­—æ¯æ··åˆ
def myFunction := 42
def MyType := Type
def variableName := "valid"

-- æ•°å­—ä½ç½®ï¼ˆä¸èƒ½åœ¨å¼€å¤´ï¼‰
def my123Function := 42
def My456Type := Type
def variable789Name := "valid"

-- ä¸‹åˆ’çº¿åˆ†éš”
def my_function_123 := 42
def My_Type_456 := Type
def variable_name_789 := "valid"
```

### 8.4 ç‰¹æ®Šå­—ç¬¦ä½¿ç”¨ç¤ºä¾‹

```lean
-- åå¼•å·è½¬ä¹‰è§„åˆ™
def `special-name` := "special"
def `with spaces` := "spaces"
def `with-dashes` := "dashes"
def `with.dots` := "dots"
def `with_underscores` := "underscores"

-- Unicodeå­—ç¬¦æ”¯æŒ
def unicode_æ ‡è¯†ç¬¦ := 42
def ä¸­æ–‡æ ‡è¯†ç¬¦ := 42
def Î±Î²Î³ := 42
def Ï€ := 3.14159

-- æ•°å­¦ç¬¦å·ä½¿ç”¨
def `Î±-Î²-Î³` := 42
def `Ï€-Ï„-Ï†` := 42
def `âˆ‘-âˆ-âˆ«` := 42
def `âˆ-âˆ-âˆ` := 42

-- ç‰¹æ®ŠUnicodeå­—ç¬¦
def `â˜…-â˜†-âœ¦` := 42
def `â†’-â†-â†”` := 42
def `â‰¤-â‰¥-â‰ ` := 42
```

---

*æœ€åæ›´æ–°æ—¶é—´ï¼š2025å¹´1æœˆ*
*ç‰ˆæœ¬ï¼š1.0*
*çŠ¶æ€ï¼šè¿›è¡Œä¸­*
