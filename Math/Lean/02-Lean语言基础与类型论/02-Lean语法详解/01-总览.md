# 02-Leanè¯­æ³•è¯¦è§£ | Lean Syntax Details

## ğŸ“‹ ç›®å½• | Table of Contents

- [02-Leanè¯­æ³•è¯¦è§£ | Lean Syntax Details](#02-leanè¯­æ³•è¯¦è§£--lean-syntax-details)
  - [ğŸ“‹ ç›®å½• | Table of Contents](#-ç›®å½•--table-of-contents)
  - [1. ä¸»é¢˜ç®€ä»‹ | Topic Introduction](#1-ä¸»é¢˜ç®€ä»‹--topic-introduction)
  - [2. ä¸»é¢˜ä¸»çº¿ä¸æ ‘å½¢ç»“æ„ | Mainline & Tree Structure](#2-ä¸»é¢˜ä¸»çº¿ä¸æ ‘å½¢ç»“æ„--mainline--tree-structure)
    - [2.1 åŸºæœ¬è¯­æ³•å…ƒç´  | Basic Syntax Elements](#21-åŸºæœ¬è¯­æ³•å…ƒç´ --basic-syntax-elements)
    - [2.2 è¡¨è¾¾å¼ç³»ç»Ÿ | Expression System](#22-è¡¨è¾¾å¼ç³»ç»Ÿ--expression-system)
    - [2.3 å£°æ˜æœºåˆ¶ | Declaration Mechanism](#23-å£°æ˜æœºåˆ¶--declaration-mechanism)
    - [2.4 æ¨¡å—ç³»ç»Ÿ | Module System](#24-æ¨¡å—ç³»ç»Ÿ--module-system)
  - [3. æ¦‚å¿µå®šä¹‰ | Concept Definition](#3-æ¦‚å¿µå®šä¹‰--concept-definition)
    - [3.1 è¯­æ³•å…ƒç´  | Syntax Elements](#31-è¯­æ³•å…ƒç´ --syntax-elements)
    - [3.2 è¡¨è¾¾å¼ | Expressions](#32-è¡¨è¾¾å¼--expressions)
    - [3.3 å£°æ˜ | Declarations](#33-å£°æ˜--declarations)
    - [3.4 æ¨¡å— | Modules](#34-æ¨¡å—--modules)
  - [4. ç†è®ºå†å²ä¸ä»£è¡¨äººç‰© | Theoretical History & Key Figures](#4-ç†è®ºå†å²ä¸ä»£è¡¨äººç‰©--theoretical-history--key-figures)
  - [5. ç°ä»£å‘å±•ä¸å‰æ²¿æŒ‘æˆ˜ | Modern Development & Frontier Challenges](#5-ç°ä»£å‘å±•ä¸å‰æ²¿æŒ‘æˆ˜--modern-development--frontier-challenges)
  - [6. ç›¸å…³æ€§ä¸æœ¬åœ°è·³è½¬ | Relevance & Local Navigation](#6-ç›¸å…³æ€§ä¸æœ¬åœ°è·³è½¬--relevance--local-navigation)
  - [7. è¿›åº¦æ—¥å¿—ä¸æ–­ç‚¹æ ‡è®° | Progress Log & Breakpoint Marking](#7-è¿›åº¦æ—¥å¿—ä¸æ–­ç‚¹æ ‡è®°--progress-log--breakpoint-marking)
  - [8. ä»£ç ç¤ºä¾‹ | Code Examples](#8-ä»£ç ç¤ºä¾‹--code-examples)

---

## 1. ä¸»é¢˜ç®€ä»‹ | Topic Introduction

æœ¬ä¸»é¢˜æ·±å…¥æ¢è®¨Leanè¯­è¨€çš„è¯­æ³•ç»“æ„ï¼ŒåŒ…æ‹¬åŸºæœ¬è¯­æ³•å…ƒç´ ã€è¡¨è¾¾å¼ç³»ç»Ÿã€å£°æ˜æœºåˆ¶å’Œæ¨¡å—ç³»ç»Ÿï¼Œä¸ºç†è§£Leanè¯­è¨€çš„æ ¸å¿ƒè¯­æ³•ç‰¹æ€§æä¾›å…¨é¢çš„ç†è®ºåŸºç¡€ã€‚

This topic provides an in-depth exploration of Lean's syntax structure, including basic syntax elements, expression systems, declaration mechanisms, and module systems, offering a comprehensive theoretical foundation for understanding Lean's core syntactic features.

---

## 2. ä¸»é¢˜ä¸»çº¿ä¸æ ‘å½¢ç»“æ„ | Mainline & Tree Structure

### 2.1 åŸºæœ¬è¯­æ³•å…ƒç´  | Basic Syntax Elements

- æ ‡è¯†ç¬¦ä¸å‘½å
- è¿ç®—ç¬¦ä¸æ³¨é‡Š
- å…³é”®å­—ä¸ä¿ç•™å­—
- å­—é¢é‡ä¸å¸¸é‡

### 2.2 è¡¨è¾¾å¼ç³»ç»Ÿ | Expression System

- å‡½æ•°è¡¨è¾¾å¼
- ç±»å‹è¡¨è¾¾å¼
- æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼
- è®¡ç®—è¡¨è¾¾å¼

### 2.3 å£°æ˜æœºåˆ¶ | Declaration Mechanism

- å˜é‡å£°æ˜
- å‡½æ•°å£°æ˜
- ç±»å‹å£°æ˜
- ç±»å£°æ˜

### 2.4 æ¨¡å—ç³»ç»Ÿ | Module System

- æ¨¡å—å®šä¹‰
- å¯¼å…¥å¯¼å‡º
- å‘½åç©ºé—´
- å¯è§æ€§æ§åˆ¶

---

## 3. æ¦‚å¿µå®šä¹‰ | Concept Definition

### 3.1 è¯­æ³•å…ƒç´  | Syntax Elements

- **ä¸­æ–‡å®šä¹‰**ï¼šè¯­æ³•å…ƒç´ æ˜¯æ„æˆLeanè¯­è¨€ç¨‹åºçš„åŸºæœ¬å•ä½ï¼ŒåŒ…æ‹¬æ ‡è¯†ç¬¦ã€å…³é”®å­—ã€è¿ç®—ç¬¦ã€å­—é¢é‡ç­‰ã€‚
- **English Definition**: Syntax elements are the basic units that constitute Lean language programs, including identifiers, keywords, operators, literals, etc.

### 3.2 è¡¨è¾¾å¼ | Expressions

- **ä¸­æ–‡å®šä¹‰**ï¼šè¡¨è¾¾å¼æ˜¯Leanè¯­è¨€ä¸­ç”¨äºè®¡ç®—å’Œè¡¨ç¤ºå€¼çš„è¯­æ³•æ„é€ ï¼ŒåŒ…æ‹¬å‡½æ•°åº”ç”¨ã€ç±»å‹æ„é€ ã€æ¨¡å¼åŒ¹é…ç­‰ã€‚
- **English Definition**: Expressions are syntactic constructs in Lean used for computation and value representation, including function application, type construction, pattern matching, etc.

### 3.3 å£°æ˜ | Declarations

- **ä¸­æ–‡å®šä¹‰**ï¼šå£°æ˜æ˜¯Leanè¯­è¨€ä¸­ç”¨äºå®šä¹‰å˜é‡ã€å‡½æ•°ã€ç±»å‹ç­‰ç¨‹åºå®ä½“çš„è¯­æ³•æ„é€ ã€‚
- **English Definition**: Declarations are syntactic constructs in Lean used to define program entities such as variables, functions, types, etc.

### 3.4 æ¨¡å— | Modules

- **ä¸­æ–‡å®šä¹‰**ï¼šæ¨¡å—æ˜¯Leanè¯­è¨€ä¸­ç”¨äºç»„ç»‡ä»£ç å’Œå®ç°ä»£ç å¤ç”¨çš„åŸºæœ¬å•ä½ã€‚
- **English Definition**: Modules are the basic units in Lean for organizing code and implementing code reuse.

---

## 4. ç†è®ºå†å²ä¸ä»£è¡¨äººç‰© | Theoretical History & Key Figures

### 4.1 å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å‘å±• | Functional Programming Language Development

- **å†å²èƒŒæ™¯**ï¼šä»Lispåˆ°MLï¼Œå†åˆ°ç°ä»£å‡½æ•°å¼è¯­è¨€çš„å‘å±•å†ç¨‹
- **æŠ€æœ¯æ¼”è¿›**ï¼šç±»å‹ç³»ç»Ÿã€æ¨¡å¼åŒ¹é…ã€æ¨¡å—ç³»ç»Ÿç­‰æŠ€æœ¯çš„æ¼”è¿›
- **å½±å“ä¸æ„ä¹‰**ï¼šä¸ºç°ä»£ç¼–ç¨‹è¯­è¨€è®¾è®¡æä¾›äº†é‡è¦ç†è®ºåŸºç¡€

### 4.2 Leanè¯­è¨€è®¾è®¡ç†å¿µ | Lean Language Design Philosophy

- **è®¾è®¡åŸåˆ™**ï¼šç®€æ´æ€§ã€è¡¨è¾¾åŠ›ã€ç±»å‹å®‰å…¨
- **æŠ€æœ¯ç‰¹è‰²**ï¼šä¾èµ–ç±»å‹ã€è¯æ˜åŠ©æ‰‹ã€å…ƒç¼–ç¨‹
- **åº”ç”¨é¢†åŸŸ**ï¼šå½¢å¼åŒ–æ•°å­¦ã€è½¯ä»¶éªŒè¯ã€æ•™è‚²

---

## 5. ç°ä»£å‘å±•ä¸å‰æ²¿æŒ‘æˆ˜ | Modern Development & Frontier Challenges

### 5.1 Lean 4è¯­æ³•åˆ›æ–° | Lean 4 Syntax Innovations

- **ç°ä»£åŒ–è¯­æ³•**ï¼šæ›´ç®€æ´ã€æ›´ç›´è§‚çš„è¯­æ³•è®¾è®¡
- **æ€§èƒ½ä¼˜åŒ–**ï¼šç¼–è¯‘æ—¶ä¼˜åŒ–å’Œè¿è¡Œæ—¶æ€§èƒ½æå‡
- **å·¥å…·æ”¯æŒ**ï¼šæ›´å¥½çš„IDEæ”¯æŒå’Œè°ƒè¯•å·¥å…·

### 5.2 è¯­æ³•æ‰©å±•ä¸å…ƒç¼–ç¨‹ | Syntax Extension & Metaprogramming

- **å®ç³»ç»Ÿ**ï¼šå¼ºå¤§çš„å®ç³»ç»Ÿæ”¯æŒè¯­æ³•æ‰©å±•
- **å…ƒç¼–ç¨‹**ï¼šç¼–è¯‘æ—¶ä»£ç ç”Ÿæˆå’Œè½¬æ¢
- **DSLæ”¯æŒ**ï¼šé¢†åŸŸç‰¹å®šè¯­è¨€çš„è¯­æ³•æ”¯æŒ

---

## 6. ç›¸å…³æ€§ä¸æœ¬åœ°è·³è½¬ | Relevance & Local Navigation

### 6.1 ä¸Analysisç›®å½•çš„å…³è”

- **å½¢å¼åŒ–æ–¹æ³•**ï¼šä¸Analysis/03-å½¢å¼åŒ–æ–¹æ³•ä¸å…ƒæ•°å­¦/å…³è”
- **é€»è¾‘åŸºç¡€**ï¼šä¸Analysis/04-é€»è¾‘ä¸å…¬ç†ç³»ç»Ÿ/å…³è”
- **å¯è®¡ç®—æ€§**ï¼šä¸Analysis/06-å¯è®¡ç®—æ€§ä¸è‡ªåŠ¨æœºç†è®º/å…³è”

### 6.2 ä¸Refactorç›®å½•çš„å…³è”

- **æ•°å­¦åŸºç¡€**ï¼šä¸Refactor/02-æ•°å­¦åŸºç¡€ä¸é€»è¾‘/å…³è”
- **ä»£æ•°ç»“æ„**ï¼šä¸Refactor/03-ä»£æ•°ç»“æ„ä¸ç†è®º/å…³è”
- **åˆ†æå­¦**ï¼šä¸Refactor/04-åˆ†æå­¦/å…³è”

### 6.3 æœ¬åœ°è·³è½¬é“¾æ¥

- [01-åŸºæœ¬è¯­æ³•å…ƒç´ /01-æ€»è§ˆ.md](01-åŸºæœ¬è¯­æ³•å…ƒç´ /01-æ€»è§ˆ.md)
- [02-è¡¨è¾¾å¼ç³»ç»Ÿ/01-æ€»è§ˆ.md](02-è¡¨è¾¾å¼ç³»ç»Ÿ/01-æ€»è§ˆ.md)
- [03-å£°æ˜æœºåˆ¶/01-æ€»è§ˆ.md](03-å£°æ˜æœºåˆ¶/01-æ€»è§ˆ.md)
- [04-æ¨¡å—ç³»ç»Ÿ/01-æ€»è§ˆ.md](04-æ¨¡å—ç³»ç»Ÿ/01-æ€»è§ˆ.md)

---

## 7. è¿›åº¦æ—¥å¿—ä¸æ–­ç‚¹æ ‡è®° | Progress Log & Breakpoint Marking

### 7.1 å½“å‰è¿›åº¦

- âœ… åˆ›å»ºLeanè¯­æ³•è¯¦è§£æ€»è§ˆæ–‡ä»¶
- ğŸ”„ å»ºç«‹å­ç›®å½•ç»“æ„
- â³ å¼€å‘å„ä¸»é¢˜è¯¦ç»†å†…å®¹

### 7.2 æ–­ç‚¹æ ‡è®°

- **æ–­ç‚¹1**ï¼šå®Œæˆæ€»è§ˆæ–‡ä»¶åˆ›å»º
- **æ–­ç‚¹2**ï¼šå»ºç«‹01-åŸºæœ¬è¯­æ³•å…ƒç´ ç›®å½•
- **æ–­ç‚¹3**ï¼šå»ºç«‹02-è¡¨è¾¾å¼ç³»ç»Ÿç›®å½•
- **æ–­ç‚¹4**ï¼šå»ºç«‹03-å£°æ˜æœºåˆ¶ç›®å½•
- **æ–­ç‚¹5**ï¼šå»ºç«‹04-æ¨¡å—ç³»ç»Ÿç›®å½•

### 7.3 ä¸‹ä¸€æ­¥è®¡åˆ’

1. åˆ›å»º01-åŸºæœ¬è¯­æ³•å…ƒç´ ç›®å½•åŠå…¶å†…å®¹
2. åˆ›å»º02-è¡¨è¾¾å¼ç³»ç»Ÿç›®å½•åŠå…¶å†…å®¹
3. åˆ›å»º03-å£°æ˜æœºåˆ¶ç›®å½•åŠå…¶å†…å®¹
4. åˆ›å»º04-æ¨¡å—ç³»ç»Ÿç›®å½•åŠå…¶å†…å®¹
5. å®Œå–„å„ç›®å½•é—´çš„å…³è”å’Œæœ¬åœ°è·³è½¬

---

## 8. ä»£ç ç¤ºä¾‹ | Code Examples

### 8.1 åŸºæœ¬è¯­æ³•å…ƒç´ ç¤ºä¾‹

```lean
-- æ ‡è¯†ç¬¦
def myFunction := 42
def MyType := Type
def _private := "private"

-- è¿ç®—ç¬¦
def add (a b : Nat) := a + b
def multiply (a b : Nat) := a * b

-- å­—é¢é‡
def number := 42
def text := "Hello, World!"
def boolean := true
```

### 8.2 è¡¨è¾¾å¼ç³»ç»Ÿç¤ºä¾‹

```lean
-- å‡½æ•°è¡¨è¾¾å¼
def square (x : Nat) : Nat := x * x

-- ç±»å‹è¡¨è¾¾å¼
def Vector (Î± : Type) (n : Nat) := List Î±

-- æ¨¡å¼åŒ¹é…è¡¨è¾¾å¼
def length {Î± : Type} : List Î± â†’ Nat
  | [] => 0
  | _ :: xs => 1 + length xs

-- è®¡ç®—è¡¨è¾¾å¼
def factorial : Nat â†’ Nat
  | 0 => 1
  | n + 1 => (n + 1) * factorial n
```

### 8.3 å£°æ˜æœºåˆ¶ç¤ºä¾‹

```lean
-- å˜é‡å£°æ˜
variable (Î± : Type)

-- å‡½æ•°å£°æ˜
def map {Î± Î² : Type} (f : Î± â†’ Î²) : List Î± â†’ List Î²
  | [] => []
  | x :: xs => f x :: map f xs

-- ç±»å‹å£°æ˜
inductive Tree (Î± : Type) where
  | leaf : Î± â†’ Tree Î±
  | node : Tree Î± â†’ Tree Î± â†’ Tree Î±

-- ç±»å£°æ˜
class Monoid (Î± : Type) where
  mul : Î± â†’ Î± â†’ Î±
  one : Î±
  mul_assoc : âˆ€ a b c, mul (mul a b) c = mul a (mul b c)
  one_mul : âˆ€ a, mul one a = a
  mul_one : âˆ€ a, mul a one = a
```

### 8.4 æ¨¡å—ç³»ç»Ÿç¤ºä¾‹

```lean
-- æ¨¡å—å®šä¹‰
namespace MyModule

-- ç§æœ‰å®šä¹‰
private def helper := 42

-- å…¬å¼€å®šä¹‰
def public_function := helper + 1

-- å¯¼å‡º
export MyModule (public_function)

end MyModule

-- å¯¼å…¥
import MyModule

-- ä½¿ç”¨
#eval MyModule.public_function
```

---

*æœ€åæ›´æ–°æ—¶é—´ï¼š2025å¹´1æœˆ*
*ç‰ˆæœ¬ï¼š1.0*
*çŠ¶æ€ï¼šè¿›è¡Œä¸­*
