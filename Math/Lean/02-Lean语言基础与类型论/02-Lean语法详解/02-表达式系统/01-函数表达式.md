# 01-函数表达式 | Function Expressions (Flat Entry)

## 覆盖范围

- 函数定义与调用（def/lemma/theorem 中的 `def` 用法）
- 高阶函数、函数组合、匿名函数（λ）与闭包
- 模式：点式定义、`where`、模式匹配定义

## 与基础体系的对齐

- 关联：`../02-基础语法与类型系统/01-基础语法元素.md`、`../02-基础语法与类型系统/03-表达式与声明.md`
- 命名风格：采用两位编号 + 简短标题（与基础语法目录一致）

## 快速示例（Lean）

```lean
def square (x : Nat) : Nat := x * x
def compose {α β γ} (f : β → γ) (g : α → β) : α → γ := fun x => f (g x)
def apply_twice {α} (f : α → α) (x : α) : α := f (f x)
```

## 深层目录映射（兼容）

- 旧：`01-函数表达式/01-函数定义与调用/01-总览.md` → 新：本文件 + 相关小节
- 旧：`.../01-基本函数定义语法/.../def关键字/.../总览.md` → 新：本文件“def 关键字速览”小节

## def 关键字速览（并入原“01-def关键字/01-总览.md”要点）

- 功能：定义函数/变量/常量；形如 `def name (args) : Type := body`
- 语法要点：标识符、参数列表、类型注解（可省略）、函数体；支持模式匹配与递归
- 语义：在环境中引入具名常量（或定义），可被后续引用

示例：

```lean
-- 基本与带注解
def id' {α : Type} (x : α) : α := x
def add (a b : Nat) : Nat := a + b

-- 模式匹配与递归
def len {α} : List α → Nat
  | [] => 0
  | _ :: xs => 1 + len xs
```

---

相关：

- [00-平铺索引](./00-平铺索引.md)
- [02-类型表达式](./02-类型表达式.md)
- [03-模式匹配表达式](./03-模式匹配表达式.md)
- [04-计算表达式](./04-计算表达式.md)
