# 02-类型系统基础 | Foundations of Type Systems

## 目录

- [02-类型系统基础 | Foundations of Type Systems](#02-类型系统基础--foundations-of-type-systems)
  - [目录](#目录)
  - [1. 主题简介 | Topic Introduction](#1-主题简介--topic-introduction)
  - [2. Lean类型系统概述 | Overview of Lean Type System](#2-lean类型系统概述--overview-of-lean-type-system)
  - [3. 类型分类 | Type Categories](#3-类型分类--type-categories)
  - [4. 类型推导 | Type Inference](#4-类型推导--type-inference)
  - [5. 类型检查 | Type Checking](#5-类型检查--type-checking)
  - [6. 代码示例 | Code Examples](#6-代码示例--code-examples)
  - [7. 相关性与本地跳转 | Relevance \& Local Navigation](#7-相关性与本地跳转--relevance--local-navigation)

---

## 1. 主题简介 | Topic Introduction

本主题介绍Lean类型系统的基本原理，包括类型的定义、分类、推导与检查机制。

This topic introduces the basic principles of Lean's type system, including the definition, classification, inference, and checking mechanisms of types.

---

## 2. Lean类型系统概述 | Overview of Lean Type System

- Lean采用强类型、静态类型系统。
- 支持依赖类型、归纳类型、类型类等高级特性。
- 类型系统是Lean形式化证明和函数式编程的基础。

---

## 3. 类型分类 | Type Categories

- 基本类型（Nat, Int, Bool, String）
- 复合类型（List, Option, Tuple, Record）
- 依赖类型（Π-type, Σ-type）
- 类型类（Typeclass）

```lean
-- 基本类型
def n : Nat := 1
def b : Bool := true
-- 复合类型
def l : List Nat := [1,2,3]
def o : Option Nat := some 5
-- 依赖类型示例
def vector (α : Type) (n : Nat) := {l : List α // l.length = n}
```

---

## 4. 类型推导 | Type Inference

- Lean支持类型自动推导，大多数情况下无需显式注解。
- 复杂表达式可通过类型注解提升可读性。

```lean
-- 自动推导
def add := λ x y => x + y  -- Lean自动推导为Nat → Nat → Nat
-- 显式注解
def add_explicit : Nat → Nat → Nat := λ x y => x + y
```

---

## 5. 类型检查 | Type Checking

- Lean在编译期进行类型检查，保证类型安全。
- 类型不匹配会报错，防止运行时错误。

```lean
-- 正确类型
def correct : Nat := 1 + 2
-- 错误类型（会报错）
-- def error : Nat := true
```

---

## 6. 代码示例 | Code Examples

```lean
-- 依赖类型示例
def length_eq (l : List Nat) (n : Nat) : Prop := l.length = n
-- 类型类示例
class Addable (α : Type) where
  add : α → α → α
instance : Addable Nat where add := Nat.add

def add_two [Addable α] (a b : α) : α := Addable.add a b
```

---

## 7. 相关性与本地跳转 | Relevance & Local Navigation

- [返回上级目录](../01-总览.md)
- [类型论深入总览](01-总览.md)
- [Lean语法详解](../02-Lean语法详解/01-总览.md)
- [函数式编程实践](../04-函数式编程实践/01-总览.md)

---

*最后更新时间：2025年1月*
*版本：1.0*
*状态：已完成*
