# é€»è¾‘è¿ç®—ç¬¦ | Logical Operators

## ğŸ“‹ ç›®å½• | Table of Contents

- [é€»è¾‘è¿ç®—ç¬¦ | Logical Operators](#é€»è¾‘è¿ç®—ç¬¦--logical-operators)
  - [ğŸ“‹ ç›®å½• | Table of Contents](#-ç›®å½•--table-of-contents)
  - [æ¦‚è¿° | Overview](#æ¦‚è¿°--overview)
  - [åŸºæœ¬é€»è¾‘è¿ç®—ç¬¦ | Basic Logical Operators](#åŸºæœ¬é€»è¾‘è¿ç®—ç¬¦--basic-logical-operators)
    - [1. é€»è¾‘ä¸ | Logical AND](#1-é€»è¾‘ä¸--logical-and)
    - [2. é€»è¾‘æˆ– | Logical OR](#2-é€»è¾‘æˆ–--logical-or)
    - [3. é€»è¾‘é | Logical NOT](#3-é€»è¾‘é--logical-not)
  - [æ¡ä»¶é€»è¾‘ | Conditional Logic](#æ¡ä»¶é€»è¾‘--conditional-logic)
    - [1. æ¡ä»¶è¡¨è¾¾å¼ | Conditional Expressions](#1-æ¡ä»¶è¡¨è¾¾å¼--conditional-expressions)
    - [2. æ¡ä»¶é€»è¾‘å‡½æ•° | Conditional Logic Functions](#2-æ¡ä»¶é€»è¾‘å‡½æ•°--conditional-logic-functions)
  - [é€»è¾‘ç­‰ä»·æ€§ | Logical Equivalence](#é€»è¾‘ç­‰ä»·æ€§--logical-equivalence)
    - [1. ç­‰ä»·è¿ç®—ç¬¦ | Equivalence Operator](#1-ç­‰ä»·è¿ç®—ç¬¦--equivalence-operator)
    - [2. å¾·æ‘©æ ¹å®šå¾‹ | De Morgan's Laws](#2-å¾·æ‘©æ ¹å®šå¾‹--de-morgans-laws)
  - [é€»è¾‘æ¨ç† | Logical Reasoning](#é€»è¾‘æ¨ç†--logical-reasoning)
    - [1. è•´å«å…³ç³» | Implication](#1-è•´å«å…³ç³»--implication)
    - [2. é€»è¾‘æ¨ç†è§„åˆ™ | Logical Reasoning Rules](#2-é€»è¾‘æ¨ç†è§„åˆ™--logical-reasoning-rules)
  - [é‡è¯é€»è¾‘ | Quantifier Logic](#é‡è¯é€»è¾‘--quantifier-logic)
    - [1. å…¨ç§°é‡è¯ | Universal Quantifier](#1-å…¨ç§°é‡è¯--universal-quantifier)
    - [2. å­˜åœ¨é‡è¯ | Existential Quantifier](#2-å­˜åœ¨é‡è¯--existential-quantifier)
  - [é€»è¾‘è¯æ˜ | Logical Proofs](#é€»è¾‘è¯æ˜--logical-proofs)
    - [1. åŸºæœ¬é€»è¾‘è¯æ˜ | Basic Logical Proofs](#1-åŸºæœ¬é€»è¾‘è¯æ˜--basic-logical-proofs)
    - [2. å¤æ‚é€»è¾‘è¯æ˜ | Complex Logical Proofs](#2-å¤æ‚é€»è¾‘è¯æ˜--complex-logical-proofs)
  - [é€»è¾‘å‡½æ•°åº“ | Logical Function Library](#é€»è¾‘å‡½æ•°åº“--logical-function-library)
    - [1. å¸¸ç”¨é€»è¾‘å‡½æ•° | Common Logical Functions](#1-å¸¸ç”¨é€»è¾‘å‡½æ•°--common-logical-functions)
    - [2. é€»è¾‘å·¥å…·å‡½æ•° | Logical Utility Functions](#2-é€»è¾‘å·¥å…·å‡½æ•°--logical-utility-functions)
  - [å®é™…åº”ç”¨ç¤ºä¾‹ | Practical Application Examples](#å®é™…åº”ç”¨ç¤ºä¾‹--practical-application-examples)
    - [1. æ¡ä»¶é€»è¾‘åº”ç”¨ | Conditional Logic Applications](#1-æ¡ä»¶é€»è¾‘åº”ç”¨--conditional-logic-applications)
    - [2. é€»è¾‘éªŒè¯ | Logical Verification](#2-é€»è¾‘éªŒè¯--logical-verification)
  - [æœ€ä½³å®è·µ | Best Practices](#æœ€ä½³å®è·µ--best-practices)
    - [1. é€»è¾‘è¿ç®—ç¬¦ä½¿ç”¨ | Logical Operator Usage](#1-é€»è¾‘è¿ç®—ç¬¦ä½¿ç”¨--logical-operator-usage)
    - [2. é€»è¾‘è¯æ˜ç­–ç•¥ | Logical Proof Strategies](#2-é€»è¾‘è¯æ˜ç­–ç•¥--logical-proof-strategies)
  - [ç›¸å…³é“¾æ¥ | Related Links](#ç›¸å…³é“¾æ¥--related-links)
  - [ç»ƒä¹  | Exercises](#ç»ƒä¹ --exercises)

## æ¦‚è¿° | Overview

Leanä¸­çš„é€»è¾‘è¿ç®—ç¬¦ç”¨äºæ„å»ºå¸ƒå°”è¡¨è¾¾å¼å’Œé€»è¾‘æ¨ç†ã€‚è¿™äº›è¿ç®—ç¬¦æ˜¯å½¢å¼åŒ–è¯æ˜å’Œæ¡ä»¶é€»è¾‘çš„åŸºç¡€ã€‚

Logical operators in Lean are used to construct boolean expressions and logical reasoning. These operators are fundamental to formal proofs and conditional logic.

## åŸºæœ¬é€»è¾‘è¿ç®—ç¬¦ | Basic Logical Operators

### 1. é€»è¾‘ä¸ | Logical AND

```lean
-- é€»è¾‘ä¸è¿ç®—ç¬¦ | Logical AND operator
#eval true && true   -- ç»“æœ: true
#eval true && false  -- ç»“æœ: false
#eval false && true  -- ç»“æœ: false
#eval false && false -- ç»“æœ: false

-- å‡½æ•°ä¸­çš„é€»è¾‘ä¸ | Logical AND in functions
def bothTrue (a b : Bool) : Bool := a && b
#eval bothTrue true false  -- ç»“æœ: false
```

### 2. é€»è¾‘æˆ– | Logical OR

```lean
-- é€»è¾‘æˆ–è¿ç®—ç¬¦ | Logical OR operator
#eval true || true   -- ç»“æœ: true
#eval true || false  -- ç»“æœ: true
#eval false || true  -- ç»“æœ: true
#eval false || false -- ç»“æœ: false

-- å‡½æ•°ä¸­çš„é€»è¾‘æˆ– | Logical OR in functions
def eitherTrue (a b : Bool) : Bool := a || b
#eval eitherTrue false true  -- ç»“æœ: true
```

### 3. é€»è¾‘é | Logical NOT

```lean
-- é€»è¾‘éè¿ç®—ç¬¦ | Logical NOT operator
#eval !true   -- ç»“æœ: false
#eval !false  -- ç»“æœ: true

-- å‡½æ•°ä¸­çš„é€»è¾‘é | Logical NOT in functions
def notTrue (a : Bool) : Bool := !a
#eval notTrue true   -- ç»“æœ: false
#eval notTrue false  -- ç»“æœ: true
```

## æ¡ä»¶é€»è¾‘ | Conditional Logic

### 1. æ¡ä»¶è¡¨è¾¾å¼ | Conditional Expressions

```lean
-- if-then-elseè¡¨è¾¾å¼ | if-then-else expressions
def max (a b : Nat) : Nat :=
  if a > b then a else b

-- åµŒå¥—æ¡ä»¶ | Nested conditions
def sign (x : Int) : Int :=
  if x > 0 then 1
  else if x < 0 then -1
  else 0

-- å¸ƒå°”æ¡ä»¶ | Boolean conditions
def isEven (n : Nat) : Bool :=
  if n % 2 = 0 then true else false
```

### 2. æ¡ä»¶é€»è¾‘å‡½æ•° | Conditional Logic Functions

```lean
-- åŸºäºæ¡ä»¶çš„å‡½æ•° | Functions based on conditions
def absolute (x : Int) : Int :=
  if x â‰¥ 0 then x else -x

-- å¤æ‚æ¡ä»¶é€»è¾‘ | Complex conditional logic
def classify (x : Int) : String :=
  if x > 0 then "positive"
  else if x < 0 then "negative"
  else "zero"
```

## é€»è¾‘ç­‰ä»·æ€§ | Logical Equivalence

### 1. ç­‰ä»·è¿ç®—ç¬¦ | Equivalence Operator

```lean
-- é€»è¾‘ç­‰ä»· | Logical equivalence
def equivalent (a b : Bool) : Bool :=
  (a && b) || (!a && !b)

-- ä½¿ç”¨ç­‰ä»·è¿ç®—ç¬¦ | Using equivalence operator
#eval equivalent true true   -- ç»“æœ: true
#eval equivalent true false  -- ç»“æœ: false
#eval equivalent false false -- ç»“æœ: true
```

### 2. å¾·æ‘©æ ¹å®šå¾‹ | De Morgan's Laws

```lean
-- å¾·æ‘©æ ¹å®šå¾‹å®ç° | De Morgan's laws implementation
-- !(a && b) = !a || !b
def deMorgan1 (a b : Bool) : Bool :=
  !(a && b) = (!a || !b)

-- !(a || b) = !a && !b
def deMorgan2 (a b : Bool) : Bool :=
  !(a || b) = (!a && !b)

-- éªŒè¯å¾·æ‘©æ ¹å®šå¾‹ | Verify De Morgan's laws
#eval deMorgan1 true false  -- ç»“æœ: true
#eval deMorgan2 true false  -- ç»“æœ: true
```

## é€»è¾‘æ¨ç† | Logical Reasoning

### 1. è•´å«å…³ç³» | Implication

```lean
-- è•´å«å…³ç³» | Implication relation
def implies (a b : Bool) : Bool :=
  !a || b

-- è•´å«å…³ç³»ç¤ºä¾‹ | Implication examples
#eval implies true true   -- ç»“æœ: true
#eval implies true false  -- ç»“æœ: false
#eval implies false true  -- ç»“æœ: true
#eval implies false false -- ç»“æœ: true
```

### 2. é€»è¾‘æ¨ç†è§„åˆ™ | Logical Reasoning Rules

```lean
-- å‡è¨€æ¨ç† | Modus ponens
-- å¦‚æœ P â†’ Q ä¸” Pï¼Œåˆ™ Q
def modusPonens (p q : Bool) : Bool :=
  if implies p q && p then q else false

-- å‡è¨€ä¸‰æ®µè®º | Hypothetical syllogism
-- å¦‚æœ P â†’ Q ä¸” Q â†’ Rï¼Œåˆ™ P â†’ R
def hypotheticalSyllogism (p q r : Bool) : Bool :=
  if implies p q && implies q r then implies p r else false
```

## é‡è¯é€»è¾‘ | Quantifier Logic

### 1. å…¨ç§°é‡è¯ | Universal Quantifier

```lean
-- å…¨ç§°é‡è¯ | Universal quantifier
def forAll (P : Nat â†’ Bool) (n : Nat) : Bool :=
  match n with
  | 0 => P 0
  | n + 1 => P (n + 1) && forAll P n

-- å…¨ç§°é‡è¯ç¤ºä¾‹ | Universal quantifier example
def allPositive (xs : List Int) : Bool :=
  xs.all (Â· > 0)
```

### 2. å­˜åœ¨é‡è¯ | Existential Quantifier

```lean
-- å­˜åœ¨é‡è¯ | Existential quantifier
def exists (P : Nat â†’ Bool) (n : Nat) : Bool :=
  match n with
  | 0 => P 0
  | n + 1 => P (n + 1) || exists P n

-- å­˜åœ¨é‡è¯ç¤ºä¾‹ | Existential quantifier example
def anyPositive (xs : List Int) : Bool :=
  xs.any (Â· > 0)
```

## é€»è¾‘è¯æ˜ | Logical Proofs

### 1. åŸºæœ¬é€»è¾‘è¯æ˜ | Basic Logical Proofs

```lean
-- é€»è¾‘æ’ç­‰å¼è¯æ˜ | Logical identity proofs
theorem and_comm (a b : Bool) : a && b = b && a := by
  cases a <;> cases b <;> rfl

theorem or_comm (a b : Bool) : a || b = b || a := by
  cases a <;> cases b <;> rfl

-- é€»è¾‘åˆ†é…å¾‹è¯æ˜ | Logical distributive law proofs
theorem and_or_distrib (a b c : Bool) : a && (b || c) = (a && b) || (a && c) := by
  cases a <;> cases b <;> cases c <;> rfl
```

### 2. å¤æ‚é€»è¾‘è¯æ˜ | Complex Logical Proofs

```lean
-- å¾·æ‘©æ ¹å®šå¾‹è¯æ˜ | De Morgan's law proofs
theorem deMorgan_and (a b : Bool) : !(a && b) = !a || !b := by
  cases a <;> cases b <;> rfl

theorem deMorgan_or (a b : Bool) : !(a || b) = !a && !b := by
  cases a <;> cases b <;> rfl

-- è•´å«å…³ç³»è¯æ˜ | Implication proofs
theorem implies_def (a b : Bool) : (a â†’ b) = (!a || b) := by
  cases a <;> cases b <;> rfl
```

## é€»è¾‘å‡½æ•°åº“ | Logical Function Library

### 1. å¸¸ç”¨é€»è¾‘å‡½æ•° | Common Logical Functions

```lean
-- å¼‚æˆ–è¿ç®— | XOR operation
def xor (a b : Bool) : Bool :=
  (a || b) && !(a && b)

-- åŒæˆ–è¿ç®— | XNOR operation
def xnor (a b : Bool) : Bool :=
  !xor a b

-- å¤šæ•°è¡¨å†³ | Majority vote
def majority (a b c : Bool) : Bool :=
  (a && b) || (a && c) || (b && c)
```

### 2. é€»è¾‘å·¥å…·å‡½æ•° | Logical Utility Functions

```lean
-- é€»è¾‘ç­‰ä»·æ£€æŸ¥ | Logical equivalence check
def isEquivalent (a b : Bool) : Bool :=
  a = b

-- é€»è¾‘è•´å«æ£€æŸ¥ | Logical implication check
def isImplied (a b : Bool) : Bool :=
  !a || b

-- é€»è¾‘çŸ›ç›¾æ£€æŸ¥ | Logical contradiction check
def isContradiction (a b : Bool) : Bool :=
  a && !b
```

## å®é™…åº”ç”¨ç¤ºä¾‹ | Practical Application Examples

### 1. æ¡ä»¶é€»è¾‘åº”ç”¨ | Conditional Logic Applications

```lean
-- æƒé™æ£€æŸ¥ | Permission check
def hasPermission (user : String) (action : String) : Bool :=
  if user = "admin" then true
  else if user = "user" && action = "read" then true
  else false

-- çŠ¶æ€æœºé€»è¾‘ | State machine logic
inductive State where
  | idle
  | running
  | paused
  | stopped

def canTransition (from to : State) : Bool :=
  match from, to with
  | .idle, .running => true
  | .running, .paused => true
  | .running, .stopped => true
  | .paused, .running => true
  | .paused, .stopped => true
  | .stopped, .idle => true
  | _, _ => false
```

### 2. é€»è¾‘éªŒè¯ | Logical Verification

```lean
-- é€»è¾‘è¡¨è¾¾å¼éªŒè¯ | Logical expression verification
def validateExpression (expr : String) : Bool :=
  -- ç®€åŒ–çš„è¡¨è¾¾å¼éªŒè¯é€»è¾‘
  expr.length > 0 && expr.all (fun c => c.isAlpha || c.isDigit || c = ' ')

-- é€»è¾‘è§„åˆ™éªŒè¯ | Logical rule validation
def validateRule (premise conclusion : Bool) : Bool :=
  premise â†’ conclusion
```

## æœ€ä½³å®è·µ | Best Practices

### 1. é€»è¾‘è¿ç®—ç¬¦ä½¿ç”¨ | Logical Operator Usage

```lean
-- ä¼˜å…ˆä½¿ç”¨æ ‡å‡†é€»è¾‘è¿ç®—ç¬¦ | Prefer standard logical operators
def clearLogic (a b : Bool) : Bool :=
  a && b  -- æ¨è
-- def clearLogic (a b : Bool) : Bool :=
--   if a then b else false  -- é¿å…

-- ä½¿ç”¨æ‹¬å·æé«˜å¯è¯»æ€§ | Use parentheses for readability
def complexLogic (a b c : Bool) : Bool :=
  (a && b) || (!a && c)  -- æ¸…æ™°
```

### 2. é€»è¾‘è¯æ˜ç­–ç•¥ | Logical Proof Strategies

```lean
-- ä½¿ç”¨casesç­–ç•¥å¤„ç†å¸ƒå°”å€¼ | Use cases tactic for booleans
theorem bool_identity (a : Bool) : a || !a = true := by
  cases a <;> rfl

-- ä½¿ç”¨é€»è¾‘ç­‰ä»·æ€§ | Use logical equivalence
theorem logical_equivalence (a b : Bool) : a = b â†” (a â†’ b) && (b â†’ a) := by
  cases a <;> cases b <;> simp
```

## ç›¸å…³é“¾æ¥ | Related Links

- [01-ç®—æœ¯è¿ç®—ç¬¦](./01-ç®—æœ¯è¿ç®—ç¬¦.md)
- [03-ä½è¿ç®—ç¬¦](./03-ä½è¿ç®—ç¬¦.md)
- [04-æ³¨é‡Šç³»ç»Ÿ](./04-æ³¨é‡Šç³»ç»Ÿ.md)
- [è¯æ˜ç³»ç»Ÿä¸ç­–ç•¥](../../03-è¯æ˜ç³»ç»Ÿä¸ç­–ç•¥/README.md)

## ç»ƒä¹  | Exercises

1. å®ç°åŸºæœ¬çš„é€»è¾‘è¿ç®—å‡½æ•°
2. è¯æ˜å¾·æ‘©æ ¹å®šå¾‹å’Œåˆ†é…å¾‹
3. è®¾è®¡çŠ¶æ€æœºçš„é€»è¾‘è½¬æ¢è§„åˆ™

---

*æœ€åæ›´æ–°ï¼š2025å¹´1æœˆ*
*ç‰ˆæœ¬ï¼š1.0*
