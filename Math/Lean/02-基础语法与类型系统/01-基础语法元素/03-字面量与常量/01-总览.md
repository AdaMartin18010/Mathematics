# 字面量与常量总览 | Literals and Constants Overview

## 1. 概述 | Overview

字面量（Literals）和常量（Constants）是Lean语言中最基础的数据表示方式。字面量是直接在代码中表示具体值的语法结构，而常量是预定义或用户定义的固定值。

Literals and constants are the most fundamental ways of representing data in Lean. Literals are syntactic structures that directly represent specific values in code, while constants are predefined or user-defined fixed values.

## 2. 字面量类型 | Literal Types

### 数值字面量 | Numeric Literals

```lean
-- 自然数字面量
#check 0 : Nat
#check 42 : Nat
#check 1000000 : Nat

-- 整数字面量
#check -5 : Int
#check 0 : Int
#check 100 : Int

-- 浮点数字面量
#check 3.14 : Float
#check 0.0 : Float
#check 1.5e10 : Float
```

### 字符串字面量 | String Literals

```lean
-- 基本字符串
#check "hello" : String
#check "" : String
#check "Lean 4" : String

-- 转义字符
#check "line1\nline2" : String
#check "quote: \"hello\"" : String
#check "backslash: \\" : String
```

### 字符字面量 | Character Literals

```lean
-- 字符字面量
#check 'a' : Char
#check 'Z' : Char
#check '0' : Char
#check ' ' : Char  -- 空格字符
```

### 布尔字面量 | Boolean Literals

```lean
-- 布尔值
#check true : Bool
#check false : Bool
```

## 3. 常量类型 | Constant Types

### 内置常量 | Built-in Constants

```lean
-- 类型常量
#check Type : Type 1
#check Prop : Type
#check Sort : Type 1

-- 数值常量
#check Nat.zero : Nat
#check Nat.one : Nat

-- 逻辑常量
#check True : Prop
#check False : Prop
```

### 用户定义常量 | User-defined Constants

```lean
-- 简单常量
def PI : Float := 3.14159265359
def MAX_SIZE : Nat := 1000

-- 类型常量
def EMPTY_STRING : String := ""
def DEFAULT_VALUE : Nat := 0
```

## 4. 字面量语法特性 | Literal Syntax Features

### 数字分隔符 | Digit Separators

```lean
-- 使用下划线分隔大数字
#check 1_000_000 : Nat
#check 1_000_000_000 : Nat

-- 二进制字面量
#check 0b1010 : Nat  -- 二进制表示
#check 0b1111 : Nat

-- 十六进制字面量
#check 0xFF : Nat    -- 十六进制表示
#check 0xABCD : Nat
```

### 科学记数法 | Scientific Notation

```lean
-- 浮点数科学记数法
#check 1.5e3 : Float   -- 1.5 × 10³ = 1500.0
#check 2.5e-2 : Float  -- 2.5 × 10⁻² = 0.025
#check 1e6 : Float     -- 1 × 10⁶ = 1000000.0
```

## 5. 类型推导 | Type Inference

### 自动类型推导 | Automatic Type Inference

```lean
-- 自然数推导
def natural_number := 42  -- 推导为 Nat

-- 整数推导
def integer := -5  -- 推导为 Int

-- 浮点数推导
def float_number := 3.14  -- 推导为 Float

-- 字符串推导
def text := "hello"  -- 推导为 String
```

### 显式类型注解 | Explicit Type Annotations

```lean
-- 显式指定类型
def explicit_nat : Nat := 42
def explicit_int : Int := -5
def explicit_float : Float := 3.14
def explicit_string : String := "hello"
```

## 6. 字面量操作 | Literal Operations

### 算术运算 | Arithmetic Operations

```lean
-- 基本算术运算
#check 2 + 3 : Nat
#check 10 - 4 : Nat
#check 3 * 7 : Nat
#check 15 / 3 : Nat

-- 混合类型运算
#check 2.5 + 1.5 : Float
#check 10.0 - 3.0 : Float
```

### 字符串操作 | String Operations

```lean
-- 字符串连接
#check "hello" ++ " " ++ "world" : String

-- 字符串长度
#check "hello".length : Nat

-- 字符串比较
#check "abc" < "def" : Bool
```

## 7. 最佳实践 | Best Practices

### 命名约定 | Naming Conventions

```lean
-- 常量使用大写字母
def MAX_RETRY_COUNT : Nat := 3
def DEFAULT_TIMEOUT : Nat := 5000
def ERROR_MESSAGE : String := "An error occurred"

-- 字面量使用描述性名称
def user_age := 25
def file_path := "/home/user/document.txt"
```

### 类型安全 | Type Safety

```lean
-- 使用类型注解确保类型安全
def safe_division (a b : Nat) (h : b ≠ 0) : Float :=
  (a : Float) / (b : Float)

-- 避免类型转换错误
def convert_to_string (n : Nat) : String :=
  toString n  -- 安全的类型转换
```

---

*相关链接：*

- [标识符与关键字](../01-标识符与关键字/01-总览.md)
- [运算符与注释](../02-运算符与注释/01-总览.md)
- [类型系统基础](../../02-类型系统基础.md)
- [数值字面量详解](./02-数值字面量详解.md)
- [字符串字面量详解](./03-字符串字面量详解.md)
- [字符字面量详解](./04-字符字面量详解.md)
