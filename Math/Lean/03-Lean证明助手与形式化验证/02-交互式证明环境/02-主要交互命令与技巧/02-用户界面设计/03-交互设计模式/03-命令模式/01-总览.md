# å‘½ä»¤æ¨¡å¼ | Command Pattern

## æ¦‚å¿µå®šä¹‰ | Concept Definition

### æ ¸å¿ƒæ¦‚å¿µ | Core Concepts

- **å‘½ä»¤æ¨¡å¼ (Command Pattern)**: å°†è¯·æ±‚å°è£…ä¸ºå¯¹è±¡çš„äº¤äº’è®¾è®¡æ¨¡å¼
- **å‘½ä»¤å¯¹è±¡ (Command Object)**: å°è£…æ“ä½œè¯·æ±‚çš„å¯¹è±¡
- **å‘½ä»¤æ‰§è¡Œå™¨ (Command Executor)**: æ‰§è¡Œå‘½ä»¤çš„ç»„ä»¶
- **å‘½ä»¤åŽ†å² (Command History)**: è®°å½•å‘½ä»¤æ‰§è¡ŒåŽ†å²
- **æ’¤é”€é‡åš (Undo/Redo)**: å‘½ä»¤çš„æ’¤é”€å’Œé‡åšåŠŸèƒ½

### æƒå¨æ¥æº | Authoritative Sources

- **Gamma, E. et al. (1994)**: "Design Patterns: Elements of Reusable Object-Oriented Software"
- **Martin, R.C. (2000)**: "Design Principles and Design Patterns"
- **Leanå®˜æ–¹æ–‡æ¡£**: è¯æ˜Žå‘½ä»¤ç³»ç»Ÿè®¾è®¡

## ç†è®ºåŽ†å²ä¸Žä»£è¡¨äººç‰© | Theoretical History and Key Figures

### åŽ†å²å‘å±• | Historical Development

1. **1980å¹´ä»£**: å‘½ä»¤æ¨¡å¼æ¦‚å¿µæå‡º
2. **1990å¹´ä»£**: è®¾è®¡æ¨¡å¼ç†è®ºå‘å±•
3. **2000å¹´ä»£**: å‘½ä»¤æ¨¡å¼å¹¿æ³›åº”ç”¨
4. **2010å¹´ä»£**: å‡½æ•°å¼å‘½ä»¤æ¨¡å¼å…´èµ·

### ä»£è¡¨äººç‰© | Key Figures

- **Erich Gamma**: è®¾è®¡æ¨¡å¼ç†è®ºåˆ›å§‹äºº
- **Robert C. Martin**: è½¯ä»¶è®¾è®¡åŽŸåˆ™
- **Leanå¼€å‘å›¢é˜Ÿ**: è¯æ˜Žå‘½ä»¤ç³»ç»Ÿ

## çŽ°ä»£å‘å±•ä¸Žå‰æ²¿æŒ‘æˆ˜ | Modern Development and Frontier Challenges

### å½“å‰å‘å±• | Current Development

1. **å‡½æ•°å¼å‘½ä»¤**: çº¯å‡½æ•°å½¢å¼çš„å‘½ä»¤æ¨¡å¼
2. **å¼‚æ­¥å‘½ä»¤**: å¼‚æ­¥æ‰§è¡Œçš„å‘½ä»¤æ¨¡å¼
3. **åˆ†å¸ƒå¼å‘½ä»¤**: åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å‘½ä»¤æ¨¡å¼

### å‰æ²¿æŒ‘æˆ˜ | Frontier Challenges

1. **è¯æ˜Žå‘½ä»¤**: å½¢å¼åŒ–è¯æ˜Žä¸­çš„å‘½ä»¤æ¨¡å¼
2. **åä½œå‘½ä»¤**: å¤šäººåä½œä¸­çš„å‘½ä»¤æ¨¡å¼
3. **AIå‘½ä»¤**: äººå·¥æ™ºèƒ½è¾…åŠ©çš„å‘½ä»¤ç”Ÿæˆ

## è·¨å­¦ç§‘å½±å“ä¸Žæœªæ¥å±•æœ› | Cross-disciplinary Impact and Future Prospects

### è·¨å­¦ç§‘å½±å“ | Cross-disciplinary Impact

- **è½¯ä»¶å·¥ç¨‹**: è®¾è®¡æ¨¡å¼ç†è®º
- **äººæœºäº¤äº’**: ç”¨æˆ·å‘½ä»¤ç³»ç»Ÿ
- **äººå·¥æ™ºèƒ½**: æ™ºèƒ½å‘½ä»¤ç”Ÿæˆ

### æœªæ¥å±•æœ› | Future Prospects

1. **æ™ºèƒ½åŒ–å‘½ä»¤**: AIç”Ÿæˆçš„å‘½ä»¤æ¨¡å¼
2. **è‡ªç„¶è¯­è¨€å‘½ä»¤**: è‡ªç„¶è¯­è¨€ç†è§£çš„å‘½ä»¤
3. **è‡ªé€‚åº”å‘½ä»¤**: è‡ªé€‚åº”å­¦ä¹ çš„å‘½ä»¤ç³»ç»Ÿ

## ç›¸å…³æ€§ä¸Žæœ¬åœ°è·³è½¬ | Relevance and Local Navigation

### ç›¸å…³ä¸»é¢˜ | Related Topics

- [äº¤äº’è®¾è®¡æ¨¡å¼](../01-æ€»è§ˆ.md)
- [ç”¨æˆ·ç•Œé¢è®¾è®¡](../01-æ€»è§ˆ.md)
- [äº¤äº’å¼è¯æ˜ŽçŽ¯å¢ƒ](../../01-æ€»è§ˆ.md)

### æœ¬åœ°è·³è½¬ | Local Navigation

- [ä¸Šä¸€çº§ï¼šäº¤äº’è®¾è®¡æ¨¡å¼](../01-æ€»è§ˆ.md)
- [ä¸‹ä¸€çº§ï¼šå‘½ä»¤å¯¹è±¡è®¾è®¡](02-å‘½ä»¤å¯¹è±¡è®¾è®¡/01-æ€»è§ˆ.md)

## è¿›åº¦æ—¥å¿—ä¸Žæ–­ç‚¹æ ‡è®° | Progress Log and Checkpoint Markers

### å½“å‰è¿›åº¦ | Current Progress

- âœ… åˆ›å»ºå‘½ä»¤æ¨¡å¼æ€»è§ˆ
- ðŸ”„ åˆ›å»ºå‘½ä»¤å¯¹è±¡è®¾è®¡å­ç›®å½•
- ðŸ”„ åˆ›å»ºå‘½ä»¤æ‰§è¡Œå™¨è®¾è®¡å­ç›®å½•
- ðŸ”„ åˆ›å»ºå‘½ä»¤åŽ†å²ç®¡ç†å­ç›®å½•

### æ–­ç‚¹æ ‡è®° | Checkpoint Markers

- **æ£€æŸ¥ç‚¹1**: å‘½ä»¤æ¨¡å¼åŸºç¡€æ¦‚å¿µå®Œæˆ
- **æ£€æŸ¥ç‚¹2**: å‘½ä»¤å¯¹è±¡è®¾è®¡å®Œæˆ
- **æ£€æŸ¥ç‚¹3**: å‘½ä»¤æ‰§è¡Œå™¨è®¾è®¡å®Œæˆ

## ä»£ç ç¤ºä¾‹ | Code Examples

### å‘½ä»¤æ¨¡å¼ç¤ºä¾‹ | Command Pattern Examples

```lean
-- å‘½ä»¤æŽ¥å£
structure Command where
  execute : IO Unit
  undo : IO Unit

-- å…·ä½“å‘½ä»¤å®žçŽ°
def proofCommand (tactic : String) : Command :=
  { execute := executeTactic tactic
    undo := undoLastTactic }

-- å‘½ä»¤æ‰§è¡Œå™¨
def commandExecutor : Command â†’ IO Unit :=
  Î» cmd => cmd.execute
```

### å‘½ä»¤åŽ†å²ç¤ºä¾‹ | Command History Examples

```lean
-- å‘½ä»¤åŽ†å²ç®¡ç†
structure CommandHistory where
  commands : List Command
  currentIndex : Nat

-- æ’¤é”€é‡åšåŠŸèƒ½
def undo (history : CommandHistory) : CommandHistory :=
  if history.currentIndex > 0 then
    { history with currentIndex := history.currentIndex - 1 }
  else
    history
```
