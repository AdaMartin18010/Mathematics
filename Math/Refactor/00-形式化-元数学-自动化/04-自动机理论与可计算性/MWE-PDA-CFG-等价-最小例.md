# MWE｜PDA ↔ CFG 等价（最小例）

## 1. 目标

- 给出从 CFG 到 PDA 的标准构造与从 PDA 到 CFG 的思路（骨架），配合 `03` 模块中的 PDA/CFG 最小例。

## 2. 从 CFG 到 PDA

- 以文法 S→aSb | ε 为例：
  - 初始：将 S 压栈；
  - 读 a 时用产生式展开 S→aSb；匹配 a 入读，压入 b 与 S；
  - 读 b 时弹出 b；当 S→ε 时清空非终结符；输入耗尽且栈回初符则接受。

## 3. 从 PDA 到 CFG（骨架）

- 引入变量 A_{pq} 表示“从状态 p 出发至状态 q，能使栈回到初始栈符号”的所有串集合；
  - 按 PDA 的转移（push/pop）构造产生式，保证匹配与串联；
  - 起始变量为 A_{s t}（s 初态，t 终态或空栈接受情形下的配对状态）。

## 4. 练习（3）

1) 将 `MWE-PDA构造-最小例.md` 的 PDA 转为等价 CFG（给出产生式集合）。
2) 为 CFG：E→T E'；E'→+TE' | ε；T→F T'；T'→*FT' | ε；F→(E) | id 构造等价 PDA 的思路。
3) 说明“空栈接受”和“终态接受”在等价构造中的处理差异。

## 5. 交叉链接

- `MWE-PDA构造-最小例.md`；`../../03-形式语言与符号系统/MWE-CFG最小解析-最小例.md`

## 6. 常见误区与检查清单

- 误区：将“空栈接受”与“终态接受”等同处理，导致构造不一致。
- 误区：CFG 到 PDA 时未按产生式顺序正确压栈（右侧逆序入栈）。
- 检查：
  - CFG→PDA：每次匹配/展开与输入/栈操作一致；
  - PDA→CFG：A_{pq} 变量的拼接与匹配对应 push/pop；
  - 接受条件：与原定义（空栈或终态）一致。
