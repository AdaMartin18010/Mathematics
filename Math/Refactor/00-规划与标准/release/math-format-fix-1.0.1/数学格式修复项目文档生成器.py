#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®æ–‡æ¡£ç”Ÿæˆå™¨
è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®æ–‡æ¡£ã€APIæ–‡æ¡£å’Œä½¿ç”¨æ‰‹å†Œ
"""

import os
import json
import time
from pathlib import Path
from typing import Dict, Any, List, Optional
import re

class DocumentationGenerator:
    """æ–‡æ¡£ç”Ÿæˆå™¨"""
    
    def __init__(self):
        self.project_info = {
            'name': 'æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®',
            'version': '1.0.0',
            'description': 'ä¸“ä¸šçš„æ•°å­¦æ ¼å¼ä¿®å¤å·¥å…·ï¼Œæ”¯æŒå¤šç§æ ¼å¼è§„èŒƒå’Œæ‰¹é‡å¤„ç†',
            'author': 'æ•°å­¦æ ¼å¼ä¿®å¤å›¢é˜Ÿ',
            'license': 'MIT',
            'repository': 'https://github.com/math-format-fix/project'
        }
        
        self.modules = {
            'æ ¸å¿ƒæ¨¡å—': {
                'file': 'æ•°å­¦æ ¼å¼ä¿®å¤æ ¸å¿ƒæ¨¡å—.py',
                'description': 'æ ¸å¿ƒä¿®å¤åŠŸèƒ½å’Œæ ¼å¼æ£€æŸ¥',
                'functions': [
                    'fix_text(text: str) -> str',
                    'check_format(text: str) -> List[Dict]',
                    'update_config(config: Dict) -> None'
                ]
            },
            'é…ç½®ç®¡ç†å™¨': {
                'file': 'æ•°å­¦æ ¼å¼ä¿®å¤é…ç½®ç®¡ç†å™¨.py',
                'description': 'é…ç½®æ–‡ä»¶ç®¡ç†å’ŒéªŒè¯',
                'functions': [
                    'load_config(config_path: str) -> None',
                    'get_config() -> Dict',
                    'validate_config(config: Dict) -> bool',
                    'export_config(output_path: str) -> None'
                ]
            },
            'æ‰¹é‡å¤„ç†å·¥å…·': {
                'file': 'æ•°å­¦æ ¼å¼ä¿®å¤æ‰¹é‡å¤„ç†å·¥å…·.py',
                'description': 'å¤§è§„æ¨¡æ–‡ä»¶å¤„ç†å’Œè¿›åº¦ç›‘æ§',
                'functions': [
                    'process_files(file_list: List[str]) -> Dict',
                    'monitor_progress() -> Dict',
                    'generate_report() -> str'
                ]
            },
            'å‘½ä»¤è¡Œå·¥å…·': {
                'file': 'æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py',
                'description': 'å‘½ä»¤è¡Œç•Œé¢å’Œæ“ä½œ',
                'functions': [
                    'process_single_file(file_path: str) -> bool',
                    'process_directory(dir_path: str) -> Dict',
                    'check_format(file_path: str) -> Dict'
                ]
            },
            'Webç•Œé¢': {
                'file': 'æ•°å­¦æ ¼å¼ä¿®å¤Webç•Œé¢.py',
                'description': 'åŸºäºFlaskçš„Webç”¨æˆ·ç•Œé¢',
                'functions': [
                    'upload_file() -> Response',
                    'process_batch() -> Response',
                    'download_result() -> Response'
                ]
            },
            'APIæœåŠ¡': {
                'file': 'æ•°å­¦æ ¼å¼ä¿®å¤APIæœåŠ¡.py',
                'description': 'RESTful APIæ¥å£æœåŠ¡',
                'functions': [
                    'POST /api/check - æ£€æŸ¥æ–‡æœ¬æ ¼å¼',
                    'POST /api/fix - ä¿®å¤æ–‡æœ¬æ ¼å¼',
                    'POST /api/tasks - åˆ›å»ºæ‰¹é‡ä»»åŠ¡',
                    'GET /api/tasks/{task_id} - è·å–ä»»åŠ¡çŠ¶æ€'
                ]
            }
        }
    
    def generate_readme(self, output_path: str = 'README.md'):
        """ç”Ÿæˆé¡¹ç›®READMEæ–‡æ¡£"""
        content = f"""# {self.project_info['name']}

{self.project_info['description']}

## é¡¹ç›®ä¿¡æ¯

- **ç‰ˆæœ¬**: {self.project_info['version']}
- **ä½œè€…**: {self.project_info['author']}
- **è®¸å¯è¯**: {self.project_info['license']}
- **ä»“åº“**: {self.project_info['repository']}

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… æ•°å­¦å…¬å¼æ ¼å¼ä¿®å¤
- âœ… å¤šç§æ ¼å¼è§„èŒƒæ”¯æŒ
- âœ… æ‰¹é‡æ–‡ä»¶å¤„ç†
- âœ… å®æ—¶è¿›åº¦ç›‘æ§
- âœ… è¯¦ç»†å¤„ç†æŠ¥å‘Š

### ç”¨æˆ·ç•Œé¢
- ğŸ–¥ï¸ å‘½ä»¤è¡Œå·¥å…·
- ğŸŒ Webç•Œé¢
- ğŸ“± RESTful API
- âš™ï¸ é…ç½®ç®¡ç†

### è´¨é‡ä¿è¯
- ğŸ§ª å…¨é¢æµ‹è¯•å¥—ä»¶
- ğŸ“Š æ€§èƒ½ç›‘æ§
- ğŸ” æ ¼å¼æ£€æŸ¥
- ğŸ“ˆ ç»Ÿè®¡æŠ¥å‘Š

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### åŸºæœ¬ä½¿ç”¨
```bash
# ä¿®å¤å•ä¸ªæ–‡ä»¶
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py fix-file input.md -o output.md

# æ‰¹é‡å¤„ç†ç›®å½•
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py fix-dir ./docs -r

# æ£€æŸ¥æ ¼å¼é—®é¢˜
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py check input.md
```

### Webç•Œé¢
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤Webç•Œé¢.py
# è®¿é—® http://localhost:5000
```

### APIæœåŠ¡
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤APIæœåŠ¡.py
# APIåœ°å€: http://localhost:8000
```

## é¡¹ç›®ç»“æ„

```
Math/Refactor/00-è§„åˆ’ä¸æ ‡å‡†/
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤æ ¸å¿ƒæ¨¡å—.py          # æ ¸å¿ƒä¿®å¤åŠŸèƒ½
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤é…ç½®ç®¡ç†å™¨.py          # é…ç½®ç®¡ç†
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤æ‰¹é‡å¤„ç†å·¥å…·.py        # æ‰¹é‡å¤„ç†
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py          # å‘½ä»¤è¡Œç•Œé¢
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤Webç•Œé¢.py            # Webç”¨æˆ·ç•Œé¢
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤APIæœåŠ¡.py            # APIæœåŠ¡
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤æµ‹è¯•å¥—ä»¶.py            # æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®æ–‡æ¡£ç”Ÿæˆå™¨.py      # æ–‡æ¡£ç”Ÿæˆ
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®å®Œæ•´è§„èŒƒæ€»ç»“æ–‡æ¡£.md  # é¡¹ç›®è§„èŒƒ
â”œâ”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®æœ€ç»ˆæ€»ç»“æ–‡æ¡£.md      # é¡¹ç›®æ€»ç»“
â””â”€â”€ æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®å®Œæ•´ç´¢å¼•æ–‡æ¡£.md      # é¡¹ç›®ç´¢å¼•
```

## é…ç½®è¯´æ˜

### åŸºæœ¬é…ç½®
```json
{{
    "rules": {{
        "dollar_signs": true,
        "brackets": true,
        "spacing": true
    }},
    "settings": {{
        "output_format": "markdown",
        "preserve_original": true
    }}
}}
```

### é«˜çº§é…ç½®
- è‡ªå®šä¹‰ä¿®å¤è§„åˆ™
- è¾“å‡ºæ ¼å¼è®¾ç½®
- æ€§èƒ½ä¼˜åŒ–å‚æ•°
- é”™è¯¯å¤„ç†ç­–ç•¥

## æµ‹è¯•

è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶ï¼š
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤æµ‹è¯•å¥—ä»¶.py
```

æµ‹è¯•è¦†ç›–ï¼š
- âœ… å•å…ƒæµ‹è¯•
- âœ… é›†æˆæµ‹è¯•
- âœ… æ€§èƒ½æµ‹è¯•
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•
- âœ… å›å½’æµ‹è¯•

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ {self.project_info['license']} è®¸å¯è¯ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: {self.project_info['repository']}
- é—®é¢˜åé¦ˆ: {self.project_info['repository']}/issues
- è®¨è®ºåŒº: {self.project_info['repository']}/discussions

---

*æœ€åæ›´æ–°: {time.strftime('%Y-%m-%d %H:%M:%S')}*
"""
        
        with open(output_path, 'w', encoding='utf-8') as f:
            f.write(content)
        
        print(f"READMEæ–‡æ¡£å·²ç”Ÿæˆ: {output_path}")
    
    def generate_api_docs(self, output_path: str = 'APIæ–‡æ¡£.md'):
        """ç”ŸæˆAPIæ–‡æ¡£"""
        content = f"""# æ•°å­¦æ ¼å¼ä¿®å¤APIæ–‡æ¡£

## æ¦‚è¿°

æ•°å­¦æ ¼å¼ä¿®å¤APIæä¾›RESTfulæ¥å£ï¼Œæ”¯æŒæ–‡æœ¬æ ¼å¼æ£€æŸ¥å’Œä¿®å¤åŠŸèƒ½ã€‚

**åŸºç¡€URL**: `http://localhost:8000`

## è®¤è¯

ç›®å‰APIä¸éœ€è¦è®¤è¯ï¼Œæ‰€æœ‰æ¥å£éƒ½æ˜¯å…¬å¼€çš„ã€‚

## å“åº”æ ¼å¼

æ‰€æœ‰APIå“åº”éƒ½ä½¿ç”¨JSONæ ¼å¼ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š

```json
{{
    "success": true,
    "data": {{}},
    "message": "æ“ä½œæˆåŠŸ",
    "timestamp": "2024-01-01T12:00:00Z"
}}
```

## æ¥å£åˆ—è¡¨

### 1. æ£€æŸ¥æ–‡æœ¬æ ¼å¼

**POST** `/api/check`

æ£€æŸ¥æ–‡æœ¬ä¸­çš„æ•°å­¦æ ¼å¼é—®é¢˜ã€‚

**è¯·æ±‚å‚æ•°**:
```json
{{
    "text": "è¦æ£€æŸ¥çš„æ–‡æœ¬å†…å®¹",
    "config": {{
        "rules": {{
            "dollar_signs": true,
            "brackets": true
        }}
    }}
}}
```

**å“åº”ç¤ºä¾‹**:
```json
{{
    "success": true,
    "data": {{
        "issues": [
            {{
                "type": "single_dollar",
                "message": "å‘ç°å•ç¾å…ƒç¬¦å·",
                "line": 1,
                "column": 10
            }}
        ],
        "total_issues": 1
    }},
    "message": "æ£€æŸ¥å®Œæˆ"
}}
```

### 2. ä¿®å¤æ–‡æœ¬æ ¼å¼

**POST** `/api/fix`

ä¿®å¤æ–‡æœ¬ä¸­çš„æ•°å­¦æ ¼å¼é—®é¢˜ã€‚

**è¯·æ±‚å‚æ•°**:
```json
{{
    "text": "è¦ä¿®å¤çš„æ–‡æœ¬å†…å®¹",
    "config": {{
        "rules": {{
            "dollar_signs": true,
            "brackets": true
        }}
    }}
}}
```

**å“åº”ç¤ºä¾‹**:
```json
{{
    "success": true,
    "data": {{
        "original": "åŸå§‹æ–‡æœ¬",
        "fixed": "ä¿®å¤åçš„æ–‡æœ¬",
        "changes": [
            {{
                "type": "dollar_signs",
                "count": 2
            }}
        ]
    }},
    "message": "ä¿®å¤å®Œæˆ"
}}
```

### 3. åˆ›å»ºæ‰¹é‡ä»»åŠ¡

**POST** `/api/tasks`

åˆ›å»ºæ‰¹é‡å¤„ç†ä»»åŠ¡ã€‚

**è¯·æ±‚å‚æ•°**:
```json
{{
    "files": [
        "file1.md",
        "file2.md"
    ],
    "config": {{
        "rules": {{
            "dollar_signs": true
        }}
    }}
}}
```

**å“åº”ç¤ºä¾‹**:
```json
{{
    "success": true,
    "data": {{
        "task_id": "task_123456",
        "status": "created",
        "total_files": 2
    }},
    "message": "ä»»åŠ¡åˆ›å»ºæˆåŠŸ"
}}
```

### 4. è·å–ä»»åŠ¡çŠ¶æ€

**GET** `/api/tasks/{task_id}`

è·å–æ‰¹é‡ä»»åŠ¡çš„å¤„ç†çŠ¶æ€ã€‚

**å“åº”ç¤ºä¾‹**:
```json
{{
    "success": true,
    "data": {{
        "task_id": "task_123456",
        "status": "processing",
        "progress": {{
            "completed": 1,
            "total": 2,
            "percentage": 50
        }},
        "results": [
            {{
                "file": "file1.md",
                "status": "completed",
                "issues_fixed": 3
            }}
        ]
    }},
    "message": "ä»»åŠ¡çŠ¶æ€è·å–æˆåŠŸ"
}}
```

### 5. è·å–ä»»åŠ¡ç»“æœ

**GET** `/api/tasks/{task_id}/result`

è·å–æ‰¹é‡ä»»åŠ¡çš„æœ€ç»ˆç»“æœã€‚

**å“åº”ç¤ºä¾‹**:
```json
{{
    "success": true,
    "data": {{
        "task_id": "task_123456",
        "status": "completed",
        "summary": {{
            "total_files": 2,
            "successful": 2,
            "failed": 0,
            "total_issues": 5
        }},
        "results": [
            {{
                "file": "file1.md",
                "status": "completed",
                "issues_fixed": 3,
                "output_file": "file1_fixed.md"
            }}
        ]
    }},
    "message": "ä»»åŠ¡ç»“æœè·å–æˆåŠŸ"
}}
```

### 6. å–æ¶ˆä»»åŠ¡

**DELETE** `/api/tasks/{task_id}`

å–æ¶ˆæ­£åœ¨è¿›è¡Œçš„æ‰¹é‡ä»»åŠ¡ã€‚

**å“åº”ç¤ºä¾‹**:
```json
{{
    "success": true,
    "data": {{
        "task_id": "task_123456",
        "status": "cancelled"
    }},
    "message": "ä»»åŠ¡å·²å–æ¶ˆ"
}}
```

### 7. è·å–ç»Ÿè®¡ä¿¡æ¯

**GET** `/api/stats`

è·å–ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯ã€‚

**å“åº”ç¤ºä¾‹**:
```json
{{
    "success": true,
    "data": {{
        "total_requests": 1000,
        "successful_requests": 950,
        "failed_requests": 50,
        "average_response_time": 0.5,
        "active_tasks": 2,
        "completed_tasks": 150
    }},
    "message": "ç»Ÿè®¡ä¿¡æ¯è·å–æˆåŠŸ"
}}
```

## é”™è¯¯ç 

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

## ä½¿ç”¨ç¤ºä¾‹

### Pythonç¤ºä¾‹

```python
import requests

# æ£€æŸ¥æ–‡æœ¬æ ¼å¼
response = requests.post('http://localhost:8000/api/check', json={{
    'text': 'è¿™æ˜¯ä¸€ä¸ªå…¬å¼: $x^2$',
    'config': {{'rules': {{'dollar_signs': True}}}}
}})
print(response.json())

# ä¿®å¤æ–‡æœ¬æ ¼å¼
response = requests.post('http://localhost:8000/api/fix', json={{
    'text': 'è¿™æ˜¯ä¸€ä¸ªå…¬å¼: $x^2$',
    'config': {{'rules': {{'dollar_signs': True}}}}
}})
print(response.json())
```

### JavaScriptç¤ºä¾‹

```javascript
// æ£€æŸ¥æ–‡æœ¬æ ¼å¼
fetch('http://localhost:8000/api/check', {{
    method: 'POST',
    headers: {{'Content-Type': 'application/json'}},
    body: JSON.stringify({{
        text: 'è¿™æ˜¯ä¸€ä¸ªå…¬å¼: $x^2$',
        config: {{rules: {{dollar_signs: true}}}}
    }})
}})
.then(response => response.json())
.then(data => console.log(data));
```

## é™åˆ¶è¯´æ˜

- å•æ¬¡è¯·æ±‚æ–‡æœ¬å¤§å°é™åˆ¶: 10MB
- æ‰¹é‡ä»»åŠ¡æ–‡ä»¶æ•°é‡é™åˆ¶: 1000ä¸ª
- ä»»åŠ¡ä¿ç•™æ—¶é—´: 24å°æ—¶
- å¹¶å‘è¯·æ±‚é™åˆ¶: 100ä¸ª/åˆ†é’Ÿ

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: {time.strftime('%Y-%m-%d %H:%M:%S')}*
"""
        
        with open(output_path, 'w', encoding='utf-8') as f:
            f.write(content)
        
        print(f"APIæ–‡æ¡£å·²ç”Ÿæˆ: {output_path}")
    
    def generate_user_manual(self, output_path: str = 'ç”¨æˆ·æ‰‹å†Œ.md'):
        """ç”Ÿæˆç”¨æˆ·æ‰‹å†Œ"""
        content = f"""# æ•°å­¦æ ¼å¼ä¿®å¤å·¥å…·ç”¨æˆ·æ‰‹å†Œ

## ç›®å½•

1. [ç®€ä»‹](#ç®€ä»‹)
2. [å®‰è£…é…ç½®](#å®‰è£…é…ç½®)
3. [åŸºæœ¬ä½¿ç”¨](#åŸºæœ¬ä½¿ç”¨)
4. [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
5. [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
6. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## ç®€ä»‹

æ•°å­¦æ ¼å¼ä¿®å¤å·¥å…·æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°å­¦æ–‡æ¡£æ ¼å¼å¤„ç†å·¥å…·ï¼Œèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤æ•°å­¦å…¬å¼çš„æ ¼å¼é—®é¢˜ï¼Œæ”¯æŒå¤šç§è¾“å…¥è¾“å‡ºæ ¼å¼ã€‚

### ä¸»è¦åŠŸèƒ½

- ğŸ”§ **è‡ªåŠ¨ä¿®å¤**: æ™ºèƒ½è¯†åˆ«å’Œä¿®å¤æ•°å­¦å…¬å¼æ ¼å¼é—®é¢˜
- ğŸ“ **æ‰¹é‡å¤„ç†**: æ”¯æŒå¤§é‡æ–‡ä»¶çš„æ‰¹é‡å¤„ç†
- ğŸ¯ **å¤šç§æ ¼å¼**: æ”¯æŒMarkdownã€LaTeXç­‰å¤šç§æ ¼å¼
- ğŸ“Š **è¯¦ç»†æŠ¥å‘Š**: æä¾›è¯¦ç»†çš„å¤„ç†æŠ¥å‘Šå’Œç»Ÿè®¡ä¿¡æ¯
- âš™ï¸ **çµæ´»é…ç½®**: æ”¯æŒè‡ªå®šä¹‰ä¿®å¤è§„åˆ™å’Œå‚æ•°

### é€‚ç”¨åœºæ™¯

- å­¦æœ¯è®ºæ–‡æ ¼å¼æ ‡å‡†åŒ–
- æŠ€æœ¯æ–‡æ¡£æ ¼å¼ä¿®å¤
- æ•°å­¦æ•™ææ ¼å¼æ•´ç†
- ç§‘ç ”æŠ¥å‘Šæ ¼å¼ç»Ÿä¸€

## å®‰è£…é…ç½®

### ç³»ç»Ÿè¦æ±‚

- Python 3.7+
- å†…å­˜: 2GB+
- ç£ç›˜ç©ºé—´: 100MB+

### å®‰è£…æ­¥éª¤

1. **ä¸‹è½½é¡¹ç›®**
```bash
git clone {self.project_info['repository']}
cd math-format-fix
```

2. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

3. **éªŒè¯å®‰è£…**
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py --help
```

### é…ç½®æ–‡ä»¶

åˆ›å»ºé…ç½®æ–‡ä»¶ `config.json`:
```json
{{
    "rules": {{
        "dollar_signs": true,
        "brackets": true,
        "spacing": true,
        "alignment": true
    }},
    "settings": {{
        "output_format": "markdown",
        "preserve_original": true,
        "backup_files": true
    }},
    "performance": {{
        "max_file_size": "10MB",
        "batch_size": 100,
        "timeout": 300
    }}
}}
```

## åŸºæœ¬ä½¿ç”¨

### å‘½ä»¤è¡Œå·¥å…·

#### ä¿®å¤å•ä¸ªæ–‡ä»¶
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py fix-file input.md -o output.md
```

#### æ‰¹é‡å¤„ç†ç›®å½•
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py fix-dir ./docs -r -o ./fixed_docs
```

#### æ£€æŸ¥æ ¼å¼é—®é¢˜
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py check input.md
```

#### éªŒè¯é…ç½®æ–‡ä»¶
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py config config.json
```

### Webç•Œé¢

1. **å¯åŠ¨æœåŠ¡**
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤Webç•Œé¢.py
```

2. **è®¿é—®ç•Œé¢**
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:5000`

3. **ä½¿ç”¨åŠŸèƒ½**
- ä¸Šä¼ å•ä¸ªæ–‡ä»¶è¿›è¡Œä¿®å¤
- æ‰¹é‡ä¸Šä¼ å¤šä¸ªæ–‡ä»¶
- å®æ—¶æŸ¥çœ‹å¤„ç†è¿›åº¦
- ä¸‹è½½å¤„ç†ç»“æœ

### APIæœåŠ¡

1. **å¯åŠ¨APIæœåŠ¡**
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤APIæœåŠ¡.py
```

2. **APIè°ƒç”¨ç¤ºä¾‹**
```python
import requests

# æ£€æŸ¥æ–‡æœ¬æ ¼å¼
response = requests.post('http://localhost:8000/api/check', json={{
    'text': 'è¿™æ˜¯ä¸€ä¸ªå…¬å¼: $x^2$'
}})

# ä¿®å¤æ–‡æœ¬æ ¼å¼
response = requests.post('http://localhost:8000/api/fix', json={{
    'text': 'è¿™æ˜¯ä¸€ä¸ªå…¬å¼: $x^2$'
}})
```

## é«˜çº§åŠŸèƒ½

### è‡ªå®šä¹‰ä¿®å¤è§„åˆ™

åœ¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰è‡ªå®šä¹‰è§„åˆ™ï¼š

```json
{{
    "custom_rules": [
        {{
            "name": "custom_rule_1",
            "pattern": "\\\\\\[([^\\]]+)\\\\\\]",
            "replacement": "$$$1$$",
            "description": "å°†LaTeXè¡Œé—´å…¬å¼è½¬æ¢ä¸ºMarkdownæ ¼å¼"
        }}
    ]
}}
```

### æ‰¹é‡å¤„ç†ä¼˜åŒ–

å¯¹äºå¤§é‡æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥ï¼š

1. **å¹¶è¡Œå¤„ç†**
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤æ‰¹é‡å¤„ç†å·¥å…·.py --parallel --workers 4
```

2. **å†…å­˜ä¼˜åŒ–**
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤æ‰¹é‡å¤„ç†å·¥å…·.py --memory-limit 2GB
```

3. **è¿›åº¦ç›‘æ§**
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤æ‰¹é‡å¤„ç†å·¥å…·.py --monitor --log-level DEBUG
```

### æŠ¥å‘Šç”Ÿæˆ

ç”Ÿæˆè¯¦ç»†çš„å¤„ç†æŠ¥å‘Šï¼š

```bash
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py fix-dir ./docs --report report.json
```

æŠ¥å‘Šå†…å®¹åŒ…æ‹¬ï¼š
- å¤„ç†æ–‡ä»¶ç»Ÿè®¡
- ä¿®å¤é—®é¢˜è¯¦æƒ…
- æ€§èƒ½æŒ‡æ ‡
- é”™è¯¯ä¿¡æ¯

## é…ç½®è¯´æ˜

### ä¿®å¤è§„åˆ™é…ç½®

| è§„åˆ™ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| dollar_signs | ç¾å…ƒç¬¦å·å¤„ç† | true |
| brackets | æ‹¬å·å¤„ç† | true |
| spacing | é—´è·å¤„ç† | true |
| alignment | å¯¹é½å¤„ç† | true |
| comments | æ³¨é‡Šå¤„ç† | false |

### è¾“å‡ºè®¾ç½®

| è®¾ç½® | è¯´æ˜ | é€‰é¡¹ |
|------|------|------|
| output_format | è¾“å‡ºæ ¼å¼ | markdown, latex, html |
| preserve_original | ä¿ç•™åŸæ–‡ä»¶ | true, false |
| backup_files | å¤‡ä»½æ–‡ä»¶ | true, false |
| encoding | æ–‡ä»¶ç¼–ç  | utf-8, gbk, gb2312 |

### æ€§èƒ½è®¾ç½®

| è®¾ç½® | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| max_file_size | æœ€å¤§æ–‡ä»¶å¤§å° | 10MB |
| batch_size | æ‰¹å¤„ç†å¤§å° | 100 |
| timeout | è¶…æ—¶æ—¶é—´ | 300ç§’ |
| memory_limit | å†…å­˜é™åˆ¶ | 2GB |

## æ•…éšœæ’é™¤

### å¸¸è§é”™è¯¯

1. **æ–‡ä»¶ç¼–ç é”™è¯¯**
```
é”™è¯¯: UnicodeDecodeError
è§£å†³: æ£€æŸ¥æ–‡ä»¶ç¼–ç ï¼Œä½¿ç”¨UTF-8ç¼–ç 
```

2. **å†…å­˜ä¸è¶³**
```
é”™è¯¯: MemoryError
è§£å†³: å‡å°‘æ‰¹å¤„ç†å¤§å°ï¼Œå¢åŠ å†…å­˜é™åˆ¶
```

3. **è¶…æ—¶é”™è¯¯**
```
é”™è¯¯: TimeoutError
è§£å†³: å¢åŠ è¶…æ—¶æ—¶é—´ï¼Œæ£€æŸ¥æ–‡ä»¶å¤§å°
```

### æ—¥å¿—åˆ†æ

æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š
```bash
tail -f math_format_fix.log
```

æ—¥å¿—çº§åˆ«è®¾ç½®ï¼š
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤å‘½ä»¤è¡Œå·¥å…·.py --verbose
```

### æ€§èƒ½ä¼˜åŒ–

1. **æ–‡ä»¶å¤§å°ä¼˜åŒ–**
- åˆ†å‰²å¤§æ–‡ä»¶
- å‹ç¼©æ–‡ä»¶
- æ¸…ç†æ— ç”¨å†…å®¹

2. **å¤„ç†é€Ÿåº¦ä¼˜åŒ–**
- ä½¿ç”¨SSDå­˜å‚¨
- å¢åŠ å†…å­˜
- å¹¶è¡Œå¤„ç†

3. **ç½‘ç»œä¼˜åŒ–**
- ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨
- ä¼˜åŒ–ç½‘ç»œå¸¦å®½
- ç¼“å­˜å¤„ç†ç»“æœ

## å¸¸è§é—®é¢˜

### Q: å·¥å…·æ”¯æŒå“ªäº›æ–‡ä»¶æ ¼å¼ï¼Ÿ
A: ç›®å‰æ”¯æŒMarkdown(.md)ã€LaTeX(.tex)ã€HTML(.html)ç­‰æ ¼å¼ã€‚

### Q: å¦‚ä½•å¤„ç†è¶…å¤§æ–‡ä»¶ï¼Ÿ
A: å»ºè®®å°†å¤§æ–‡ä»¶åˆ†å‰²æˆå°å—ï¼Œæˆ–ä½¿ç”¨æ‰¹å¤„ç†æ¨¡å¼ã€‚

### Q: ä¿®å¤åçš„æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ
A: é»˜è®¤åœ¨å½“å‰ç›®å½•ç”Ÿæˆï¼Œå¯é€šè¿‡-oå‚æ•°æŒ‡å®šè¾“å‡ºè·¯å¾„ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰ä¿®å¤è§„åˆ™ï¼Ÿ
A: åœ¨é…ç½®æ–‡ä»¶çš„custom_ruleséƒ¨åˆ†æ·»åŠ è‡ªå®šä¹‰è§„åˆ™ã€‚

### Q: æ”¯æŒå“ªäº›æ•°å­¦å…¬å¼æ ¼å¼ï¼Ÿ
A: æ”¯æŒLaTeXã€MathMLã€AsciiMathç­‰å¤šç§æ ¼å¼ã€‚

### Q: å¦‚ä½•å¤„ç†ä¸­æ–‡æ–‡æ¡£ï¼Ÿ
A: ç¡®ä¿æ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç ï¼Œå·¥å…·ä¼šè‡ªåŠ¨å¤„ç†ä¸­æ–‡å†…å®¹ã€‚

### Q: æ‰¹é‡å¤„ç†æ—¶å¦‚ä½•ç›‘æ§è¿›åº¦ï¼Ÿ
A: ä½¿ç”¨--monitorå‚æ•°æˆ–æŸ¥çœ‹Webç•Œé¢çš„å®æ—¶è¿›åº¦ã€‚

### Q: å¦‚ä½•å¤‡ä»½åŸå§‹æ–‡ä»¶ï¼Ÿ
A: åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®backup_filesä¸ºtrueã€‚

---

*æ‰‹å†Œç”Ÿæˆæ—¶é—´: {time.strftime('%Y-%m-%d %H:%M:%S')}*
"""
        
        with open(output_path, 'w', encoding='utf-8') as f:
            f.write(content)
        
        print(f"ç”¨æˆ·æ‰‹å†Œå·²ç”Ÿæˆ: {output_path}")
    
    def generate_development_guide(self, output_path: str = 'å¼€å‘æŒ‡å—.md'):
        """ç”Ÿæˆå¼€å‘æŒ‡å—"""
        content = f"""# æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®å¼€å‘æŒ‡å—

## é¡¹ç›®æ¦‚è¿°

æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®æ˜¯ä¸€ä¸ªå¼€æºçš„æ•°å­¦æ–‡æ¡£æ ¼å¼å¤„ç†å·¥å…·ï¼Œé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒå¤šç§ç”¨æˆ·ç•Œé¢å’Œéƒ¨ç½²æ–¹å¼ã€‚

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·ç•Œé¢å±‚     â”‚    â”‚    ä¸šåŠ¡é€»è¾‘å±‚    â”‚    â”‚    æ•°æ®è®¿é—®å±‚    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - å‘½ä»¤è¡Œå·¥å…·     â”‚    â”‚ - æ ¼å¼ä¿®å¤å¼•æ“   â”‚    â”‚ - æ–‡ä»¶ç³»ç»Ÿ      â”‚
â”‚ - Webç•Œé¢       â”‚    â”‚ - é…ç½®ç®¡ç†å™¨     â”‚    â”‚ - æ•°æ®åº“        â”‚
â”‚ - APIæœåŠ¡       â”‚    â”‚ - æ‰¹é‡å¤„ç†å™¨     â”‚    â”‚ - ç¼“å­˜ç³»ç»Ÿ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—è¯´æ˜

"""

        # æ·»åŠ æ¨¡å—è¯´æ˜
        for module_name, module_info in self.modules.items():
            content += f"""
#### {module_name}

**æ–‡ä»¶**: `{module_info['file']}`

**æè¿°**: {module_info['description']}

**ä¸»è¦åŠŸèƒ½**:
"""
            for func in module_info['functions']:
                content += f"- `{func}`\n"
            content += "\n"

        content += f"""
## å¼€å‘ç¯å¢ƒ

### ç¯å¢ƒè¦æ±‚

- Python 3.7+
- Git
- IDE (æ¨èPyCharmæˆ–VS Code)
- æµ‹è¯•æ¡†æ¶: unittest, pytest

### ç¯å¢ƒæ­å»º

1. **å…‹éš†é¡¹ç›®**
```bash
git clone {self.project_info['repository']}
cd math-format-fix
```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\\Scripts\\activate   # Windows
```

3. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
pip install -r requirements-dev.txt
```

4. **è¿è¡Œæµ‹è¯•**
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤æµ‹è¯•å¥—ä»¶.py
```

## ä»£ç è§„èŒƒ

### Pythonä»£ç è§„èŒƒ

éµå¾ªPEP 8è§„èŒƒï¼š

```python
# å¯¼å…¥é¡ºåº
import os
import sys
from typing import List, Dict

# ç±»å®šä¹‰
class MathFormatFixer:
    """æ•°å­¦æ ¼å¼ä¿®å¤å™¨"""
    
    def __init__(self):
        self.config = {{}}
    
    def fix_text(self, text: str) -> str:
        """ä¿®å¤æ–‡æœ¬æ ¼å¼"""
        # å®ç°ä»£ç 
        pass
```

### æ–‡æ¡£è§„èŒƒ

- æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰docstring
- ä½¿ç”¨ä¸­æ–‡æ³¨é‡Š
- é‡è¦åŠŸèƒ½éœ€è¦è¯¦ç»†è¯´æ˜

### æµ‹è¯•è§„èŒƒ

- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 90%
- æ¯ä¸ªåŠŸèƒ½å¿…é¡»æœ‰å¯¹åº”æµ‹è¯•
- æµ‹è¯•ç”¨ä¾‹è¦è¦†ç›–è¾¹ç•Œæƒ…å†µ

## å¼€å‘æµç¨‹

### åŠŸèƒ½å¼€å‘

1. **åˆ›å»ºåˆ†æ”¯**
```bash
git checkout -b feature/new-feature
```

2. **å¼€å‘åŠŸèƒ½**
- ç¼–å†™ä»£ç 
- æ·»åŠ æµ‹è¯•
- æ›´æ–°æ–‡æ¡£

3. **æäº¤ä»£ç **
```bash
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
git push origin feature/new-feature
```

4. **åˆ›å»ºPR**
- æäº¤Pull Request
- ä»£ç å®¡æŸ¥
- åˆå¹¶åˆ°ä¸»åˆ†æ”¯

### é—®é¢˜ä¿®å¤

1. **åˆ›å»ºIssue**
- æè¿°é—®é¢˜
- æä¾›å¤ç°æ­¥éª¤
- æ·»åŠ é”™è¯¯æ—¥å¿—

2. **ä¿®å¤é—®é¢˜**
- å®šä½é—®é¢˜
- ç¼–å†™ä¿®å¤ä»£ç 
- æ·»åŠ æµ‹è¯•ç”¨ä¾‹

3. **éªŒè¯ä¿®å¤**
- è¿è¡Œæµ‹è¯•
- æ‰‹åŠ¨éªŒè¯
- æ›´æ–°æ–‡æ¡£

## æµ‹è¯•æŒ‡å—

### å•å…ƒæµ‹è¯•

```python
import unittest

class TestMathFormatFixer(unittest.TestCase):
    def setUp(self):
        self.fixer = MathFormatFixer()
    
    def test_fix_text_basic(self):
        """æµ‹è¯•åŸºæœ¬æ–‡æœ¬ä¿®å¤"""
        result = self.fixer.fix_text("$x^2$")
        self.assertEqual(result, "$$x^2$$")
```

### é›†æˆæµ‹è¯•

```python
def test_end_to_end_workflow(self):
    """æµ‹è¯•ç«¯åˆ°ç«¯å·¥ä½œæµç¨‹"""
    # 1. åŠ è½½é…ç½®
    # 2. å¤„ç†æ–‡ä»¶
    # 3. éªŒè¯ç»“æœ
    pass
```

### æ€§èƒ½æµ‹è¯•

```python
def test_large_file_performance(self):
    """æµ‹è¯•å¤§æ–‡ä»¶æ€§èƒ½"""
    large_text = "æµ‹è¯•æ–‡æœ¬ " * 10000
    start_time = time.time()
    result = self.fixer.fix_text(large_text)
    end_time = time.time()
    
    self.assertLess(end_time - start_time, 5.0)
```

## éƒ¨ç½²æŒ‡å—

### æœ¬åœ°éƒ¨ç½²

1. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

2. **é…ç½®ç¯å¢ƒ**
```bash
cp config.example.json config.json
# ç¼–è¾‘é…ç½®æ–‡ä»¶
```

3. **å¯åŠ¨æœåŠ¡**
```bash
python æ•°å­¦æ ¼å¼ä¿®å¤Webç•Œé¢.py
```

### ç”Ÿäº§éƒ¨ç½²

1. **ä½¿ç”¨Docker**
```bash
docker build -t math-format-fix .
docker run -p 5000:5000 math-format-fix
```

2. **ä½¿ç”¨Docker Compose**
```bash
docker-compose up -d
```

3. **ä½¿ç”¨Kubernetes**
```bash
kubectl apply -f k8s/
```

## è´¡çŒ®æŒ‡å—

### è´¡çŒ®ç±»å‹

- ğŸ› Bugä¿®å¤
- âœ¨ æ–°åŠŸèƒ½
- ğŸ“š æ–‡æ¡£æ”¹è¿›
- ğŸ§ª æµ‹è¯•ç”¨ä¾‹
- ğŸ”§ å·¥å…·æ”¹è¿›

### è´¡çŒ®æµç¨‹

1. **Forké¡¹ç›®**
2. **åˆ›å»ºåˆ†æ”¯**
3. **æäº¤æ›´æ”¹**
4. **åˆ›å»ºPull Request**

### ä»£ç å®¡æŸ¥

- ä»£ç è´¨é‡æ£€æŸ¥
- åŠŸèƒ½æµ‹è¯•éªŒè¯
- æ–‡æ¡£æ›´æ–°ç¡®è®¤
- æ€§èƒ½å½±å“è¯„ä¼°

## å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬ç®¡ç†

ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼š`ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬`

- ä¸»ç‰ˆæœ¬ï¼šä¸å…¼å®¹çš„APIä¿®æ”¹
- æ¬¡ç‰ˆæœ¬ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- ä¿®è®¢ç‰ˆæœ¬ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### å‘å¸ƒæ­¥éª¤

1. **æ›´æ–°ç‰ˆæœ¬å·**
```bash
# æ›´æ–°__version__.py
echo '__version__ = "1.0.1"' > __version__.py
```

2. **æ›´æ–°æ–‡æ¡£**
- æ›´æ–°README
- æ›´æ–°CHANGELOG
- æ›´æ–°APIæ–‡æ¡£

3. **åˆ›å»ºæ ‡ç­¾**
```bash
git tag v1.0.1
git push origin v1.0.1
```

4. **å‘å¸ƒåˆ°PyPI**
```bash
python setup.py sdist bdist_wheel
twine upload dist/*
```

## ç»´æŠ¤æŒ‡å—

### æ—¥å¸¸ç»´æŠ¤

- å®šæœŸæ›´æ–°ä¾èµ–
- ç›‘æ§ç³»ç»Ÿæ€§èƒ½
- å¤„ç†ç”¨æˆ·åé¦ˆ
- ä¿®å¤å®‰å…¨é—®é¢˜

### æ€§èƒ½ä¼˜åŒ–

- ä»£ç æ€§èƒ½åˆ†æ
- å†…å­˜ä½¿ç”¨ä¼˜åŒ–
- å¹¶å‘å¤„ç†ä¼˜åŒ–
- ç¼“å­˜ç­–ç•¥ä¼˜åŒ–

### å®‰å…¨ç»´æŠ¤

- ä¾èµ–å®‰å…¨æ‰«æ
- ä»£ç å®‰å…¨å®¡æŸ¥
- æ¼æ´ä¿®å¤
- å®‰å…¨æ›´æ–°

---

*å¼€å‘æŒ‡å—ç”Ÿæˆæ—¶é—´: {time.strftime('%Y-%m-%d %H:%M:%S')}*
"""
        
        with open(output_path, 'w', encoding='utf-8') as f:
            f.write(content)
        
        print(f"å¼€å‘æŒ‡å—å·²ç”Ÿæˆ: {output_path}")
    
    def generate_all_docs(self):
        """ç”Ÿæˆæ‰€æœ‰æ–‡æ¡£"""
        print("å¼€å§‹ç”Ÿæˆé¡¹ç›®æ–‡æ¡£...")
        
        # åˆ›å»ºæ–‡æ¡£ç›®å½•
        docs_dir = Path('docs')
        docs_dir.mkdir(exist_ok=True)
        
        # ç”Ÿæˆå„ç§æ–‡æ¡£
        self.generate_readme(docs_dir / 'README.md')
        self.generate_api_docs(docs_dir / 'APIæ–‡æ¡£.md')
        self.generate_user_manual(docs_dir / 'ç”¨æˆ·æ‰‹å†Œ.md')
        self.generate_development_guide(docs_dir / 'å¼€å‘æŒ‡å—.md')
        
        # ç”Ÿæˆæ–‡æ¡£ç´¢å¼•
        self.generate_docs_index(docs_dir / 'æ–‡æ¡£ç´¢å¼•.md')
        
        print("æ‰€æœ‰æ–‡æ¡£ç”Ÿæˆå®Œæˆï¼")
    
    def generate_docs_index(self, output_path: str):
        """ç”Ÿæˆæ–‡æ¡£ç´¢å¼•"""
        content = f"""# æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®æ–‡æ¡£ç´¢å¼•

## æ–‡æ¡£æ¦‚è§ˆ

æœ¬é¡¹ç›®æä¾›å®Œæ•´çš„æ–‡æ¡£ä½“ç³»ï¼ŒåŒ…æ‹¬ç”¨æˆ·æ–‡æ¡£ã€å¼€å‘æ–‡æ¡£å’ŒAPIæ–‡æ¡£ã€‚

## æ–‡æ¡£åˆ—è¡¨

### ç”¨æˆ·æ–‡æ¡£

| æ–‡æ¡£åç§° | æè¿° | é€‚ç”¨å¯¹è±¡ |
|----------|------|----------|
| [README.md](README.md) | é¡¹ç›®ä»‹ç»å’Œå¿«é€Ÿå¼€å§‹ | æ‰€æœ‰ç”¨æˆ· |
| [ç”¨æˆ·æ‰‹å†Œ.md](ç”¨æˆ·æ‰‹å†Œ.md) | è¯¦ç»†ä½¿ç”¨è¯´æ˜ | æœ€ç»ˆç”¨æˆ· |
| [APIæ–‡æ¡£.md](APIæ–‡æ¡£.md) | APIæ¥å£è¯´æ˜ | å¼€å‘è€… |

### å¼€å‘æ–‡æ¡£

| æ–‡æ¡£åç§° | æè¿° | é€‚ç”¨å¯¹è±¡ |
|----------|------|----------|
| [å¼€å‘æŒ‡å—.md](å¼€å‘æŒ‡å—.md) | å¼€å‘ç¯å¢ƒæ­å»ºå’Œè§„èŒƒ | å¼€å‘è€… |
| [é¡¹ç›®è§„èŒƒ.md](../æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®å®Œæ•´è§„èŒƒæ€»ç»“æ–‡æ¡£.md) | é¡¹ç›®å¼€å‘è§„èŒƒ | å¼€å‘è€… |
| [æµ‹è¯•æŒ‡å—.md](../æ•°å­¦æ ¼å¼ä¿®å¤æµ‹è¯•å¥—ä»¶.py) | æµ‹è¯•ç”¨ä¾‹å’Œè§„èŒƒ | æµ‹è¯•äººå‘˜ |

### é¡¹ç›®æ–‡æ¡£

| æ–‡æ¡£åç§° | æè¿° | é€‚ç”¨å¯¹è±¡ |
|----------|------|----------|
| [é¡¹ç›®æ€»ç»“.md](../æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®æœ€ç»ˆæ€»ç»“æ–‡æ¡£.md) | é¡¹ç›®æˆæœæ€»ç»“ | é¡¹ç›®ç®¡ç†è€… |
| [é¡¹ç›®ç´¢å¼•.md](../æ•°å­¦æ ¼å¼ä¿®å¤é¡¹ç›®å®Œæ•´ç´¢å¼•æ–‡æ¡£.md) | é¡¹ç›®å®Œæ•´ç´¢å¼• | é¡¹ç›®å‚ä¸è€… |

## æ–‡æ¡£ç»“æ„

```
docs/
â”œâ”€â”€ README.md              # é¡¹ç›®ä»‹ç»
â”œâ”€â”€ APIæ–‡æ¡£.md             # APIæ¥å£æ–‡æ¡£
â”œâ”€â”€ ç”¨æˆ·æ‰‹å†Œ.md             # ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ
â”œâ”€â”€ å¼€å‘æŒ‡å—.md             # å¼€å‘æŒ‡å—
â””â”€â”€ æ–‡æ¡£ç´¢å¼•.md             # æœ¬æ–‡æ¡£
```

## æ–‡æ¡£æ›´æ–°

- æ–‡æ¡£ç‰ˆæœ¬ä¸é¡¹ç›®ç‰ˆæœ¬ä¿æŒä¸€è‡´
- é‡è¦åŠŸèƒ½æ›´æ–°æ—¶åŒæ­¥æ›´æ–°æ–‡æ¡£
- å®šæœŸæ£€æŸ¥å’Œæ›´æ–°æ–‡æ¡£å†…å®¹
- æ”¶é›†ç”¨æˆ·åé¦ˆæ”¹è¿›æ–‡æ¡£

## æ–‡æ¡£è§„èŒƒ

### æ ¼å¼è§„èŒƒ

- ä½¿ç”¨Markdownæ ¼å¼
- ä¸­æ–‡æ–‡æ¡£ä½¿ç”¨UTF-8ç¼–ç 
- å›¾ç‰‡ä½¿ç”¨ç›¸å¯¹è·¯å¾„
- ä»£ç å—æ ‡æ³¨è¯­è¨€ç±»å‹

### å†…å®¹è§„èŒƒ

- ç»“æ„æ¸…æ™°ï¼Œå±‚æ¬¡åˆ†æ˜
- å†…å®¹å‡†ç¡®ï¼Œç¤ºä¾‹å®Œæ•´
- è¯­è¨€ç®€æ´ï¼Œæ˜“äºç†è§£
- åŠæ—¶æ›´æ–°ï¼Œä¿æŒåŒæ­¥

---

*æ–‡æ¡£ç´¢å¼•ç”Ÿæˆæ—¶é—´: {time.strftime('%Y-%m-%d %H:%M:%S')}*
"""
        
        with open(output_path, 'w', encoding='utf-8') as f:
            f.write(content)
        
        print(f"æ–‡æ¡£ç´¢å¼•å·²ç”Ÿæˆ: {output_path}")

def main():
    """ä¸»å‡½æ•°"""
    generator = DocumentationGenerator()
    generator.generate_all_docs()

if __name__ == '__main__':
    main() 