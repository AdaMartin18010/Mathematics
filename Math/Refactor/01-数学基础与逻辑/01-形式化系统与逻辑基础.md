# 01-形式化系统与逻辑基础

## 目录

1. [引言](#1-引言)
2. [形式化语言](#2-形式化语言)
3. [公理化系统](#3-公理化系统)
4. [推理规则与证明](#4-推理规则与证明)
5. [形式系统的性质](#5-形式系统的性质)
6. [哥德尔不完备性定理](#6-哥德尔不完备性定理)
7. [模型论基础](#7-模型论基础)
8. [计算复杂性理论](#8-计算复杂性理论)
9. [参考文献](#9-参考文献)

## 1. 引言

形式化系统是现代数学的基石，它通过精确定义的符号语言、公理集合和推理规则，将数学推理从直觉和模糊性中剥离出来，使其能够被严格地表达、分析和验证。

### 1.1 形式化系统的核心要素

**定义 1.1.1 (形式化系统)**
一个形式化系统 $\mathcal{F}$ 是一个四元组 $(L, A, R, T)$，其中：

- $L$ 是形式语言（Formal Language）
- $A$ 是公理集合（Axiom Set）
- $R$ 是推理规则集合（Rules of Inference）
- $T$ 是定理集合（Theorem Set）

### 1.2 形式化的重要性

形式化系统具有以下关键特征：

1. **精确性**：消除歧义，确保概念的唯一性
2. **可验证性**：每个证明步骤都可以机械地检查
3. **可计算性**：推理过程可以自动化
4. **一致性**：避免矛盾，保证系统的可靠性

## 2. 形式化语言

### 2.1 符号系统

**定义 2.1.1 (字母表)**
字母表 $\Sigma$ 是一个有限符号集合。

**定义 2.1.2 (字符串)**
字符串是字母表中符号的有限序列。

**定义 2.1.3 (形式语言)**
形式语言 $L$ 是字母表 $\Sigma$ 上字符串的集合，即 $L \subseteq \Sigma^*$。

### 2.2 命题逻辑的形式化

**定义 2.2.1 (命题逻辑语言)**
命题逻辑的语言 $\mathcal{L}_P$ 由以下组成：

**字母表：**

- 命题变元：$P, Q, R, \ldots$
- 逻辑联结词：$\neg, \land, \lor, \rightarrow, \leftrightarrow$
- 辅助符号：$(, )$

**合式公式 (Well-formed formulas, WFF)：**

1. 每个命题变元是合式公式
2. 如果 $\phi$ 是合式公式，则 $\neg\phi$ 是合式公式
3. 如果 $\phi$ 和 $\psi$ 是合式公式，则 $(\phi \land \psi)$, $(\phi \lor \psi)$, $(\phi \rightarrow \psi)$, $(\phi \leftrightarrow \psi)$ 是合式公式
4. 只有通过上述规则构造的表达式才是合式公式

### 2.3 一阶谓词逻辑的形式化

**定义 2.3.1 (一阶逻辑语言)**
一阶逻辑语言 $\mathcal{L}_{FOL}$ 由以下组成：

**字母表：**

- 个体变元：$x, y, z, \ldots$
- 个体常元：$a, b, c, \ldots$
- 函数符号：$f, g, h, \ldots$
- 谓词符号：$P, Q, R, \ldots$
- 逻辑联结词：$\neg, \land, \lor, \rightarrow, \leftrightarrow$
- 量词：$\forall, \exists$
- 辅助符号：$(, )$, $,$

**项 (Terms)：**

1. 个体变元和个体常元是项
2. 如果 $f$ 是 $n$ 元函数符号，$t_1, \ldots, t_n$ 是项，则 $f(t_1, \ldots, t_n)$ 是项
3. 只有通过上述规则构造的表达式才是项

**原子公式：**
如果 $P$ 是 $n$ 元谓词符号，$t_1, \ldots, t_n$ 是项，则 $P(t_1, \ldots, t_n)$ 是原子公式

**合式公式：**

1. 每个原子公式是合式公式
2. 如果 $\phi$ 是合式公式，则 $\neg\phi$ 是合式公式
3. 如果 $\phi$ 和 $\psi$ 是合式公式，则 $(\phi \land \psi)$, $(\phi \lor \psi)$, $(\phi \rightarrow \psi)$, $(\phi \leftrightarrow \psi)$ 是合式公式
4. 如果 $\phi$ 是合式公式，$x$ 是变元，则 $\forall x \phi$ 和 $\exists x \phi$ 是合式公式
5. 只有通过上述规则构造的表达式才是合式公式

## 3. 公理化系统

### 3.1 公理的概念

**定义 3.1.1 (公理)**
公理是形式系统中不证自明或预先假定的基本命题，它们是整个理论体系的出发点。

### 3.2 命题逻辑的公理化

**定义 3.2.1 (命题逻辑公理系统)**
命题逻辑的公理系统包含以下公理模式：

**公理模式：**

1. $\phi \rightarrow (\psi \rightarrow \phi)$
2. $(\phi \rightarrow (\psi \rightarrow \chi)) \rightarrow ((\phi \rightarrow \psi) \rightarrow (\phi \rightarrow \chi))$
3. $(\neg\phi \rightarrow \neg\psi) \rightarrow (\psi \rightarrow \phi)$

**推理规则：**

- **分离规则 (Modus Ponens)**：从 $\phi$ 和 $\phi \rightarrow \psi$ 推出 $\psi$

### 3.3 集合论的公理化

**定义 3.3.1 (ZFC公理系统)**
Zermelo-Fraenkel集合论包含以下公理：

1. **外延公理 (Axiom of Extensionality)**：
   $$\forall x \forall y [\forall z(z \in x \leftrightarrow z \in y) \rightarrow x = y]$$

2. **空集公理 (Axiom of Empty Set)**：
   $$\exists x \forall y (y \notin x)$$

3. **偶集公理 (Axiom of Pairing)**：
   $$\forall x \forall y \exists z \forall w(w \in z \leftrightarrow w = x \lor w = y)$$

4. **并集公理 (Axiom of Union)**：
   $$\forall x \exists y \forall z(z \in y \leftrightarrow \exists w(w \in x \land z \in w))$$

5. **幂集公理 (Axiom of Power Set)**：
   $$\forall x \exists y \forall z(z \in y \leftrightarrow z \subseteq x)$$

6. **无穷公理 (Axiom of Infinity)**：
   $$\exists x(\emptyset \in x \land \forall y(y \in x \rightarrow y \cup \{y\} \in x))$$

7. **替换公理模式 (Axiom Schema of Replacement)**：
   对于每个公式 $\phi(x,y)$：
   $$\forall x \forall y \forall z[\phi(x,y) \land \phi(x,z) \rightarrow y = z] \rightarrow \forall w \exists v \forall y(y \in v \leftrightarrow \exists x(x \in w \land \phi(x,y)))$$

8. **正则公理 (Axiom of Regularity)**：
   $$\forall x[x \neq \emptyset \rightarrow \exists y(y \in x \land y \cap x = \emptyset)]$$

9. **选择公理 (Axiom of Choice)**：
   $$\forall x[\emptyset \notin x \rightarrow \exists f(f: x \rightarrow \bigcup x \land \forall y(y \in x \rightarrow f(y) \in y))]$$

## 4. 推理规则与证明

### 4.1 基本推理规则

**定义 4.1.1 (推理规则)**
推理规则是从前提推导出结论的规则，通常表示为：
$$\frac{\phi_1, \phi_2, \ldots, \phi_n}{\psi}$$

**常见的推理规则：**

1. **分离规则 (Modus Ponens)**：
   $$\frac{\phi, \phi \rightarrow \psi}{\psi}$$

2. **否定后件 (Modus Tollens)**：
   $$\frac{\phi \rightarrow \psi, \neg\psi}{\neg\phi}$$

3. **假言三段论 (Hypothetical Syllogism)**：
   $$\frac{\phi \rightarrow \psi, \psi \rightarrow \chi}{\phi \rightarrow \chi}$$

4. **析取三段论 (Disjunctive Syllogism)**：
   $$\frac{\phi \lor \psi, \neg\phi}{\psi}$$

5. **构造性二难 (Constructive Dilemma)**：
   $$\frac{\phi \rightarrow \psi, \chi \rightarrow \delta, \phi \lor \chi}{\psi \lor \delta}$$

### 4.2 证明的概念

**定义 4.2.1 (形式证明)**
在形式系统 $\mathcal{F}$ 中，从前提集合 $\Gamma$ 到结论 $\phi$ 的形式证明是一个有限序列 $\phi_1, \phi_2, \ldots, \phi_n$，其中：

1. $\phi_n = \phi$
2. 对于每个 $i$，$\phi_i$ 要么是公理，要么属于 $\Gamma$，要么是通过推理规则从前面的公式推导出来的

**定义 4.2.2 (可证性)**
如果存在从 $\Gamma$ 到 $\phi$ 的形式证明，则称 $\phi$ 从 $\Gamma$ 可证，记作 $\Gamma \vdash \phi$。

### 4.3 证明方法

#### 4.3.1 直接证明

**定理 4.3.1 (直接证明示例)**
证明：如果 $n$ 是偶数，则 $n^2$ 是偶数。

**证明：**

1. 假设 $n$ 是偶数
2. 根据偶数定义，存在整数 $k$ 使得 $n = 2k$
3. 计算 $n^2 = (2k)^2 = 4k^2 = 2(2k^2)$
4. 由于 $2k^2$ 是整数，所以 $n^2 = 2(2k^2)$ 是偶数
5. 因此，如果 $n$ 是偶数，则 $n^2$ 是偶数

#### 4.3.2 反证法

**定理 4.3.2 (反证法示例)**
证明：$\sqrt{2}$ 是无理数。

**证明：**

1. 假设 $\sqrt{2}$ 是有理数
2. 那么存在互质的整数 $p, q$ 使得 $\sqrt{2} = \frac{p}{q}$
3. 两边平方得到 $2 = \frac{p^2}{q^2}$，即 $2q^2 = p^2$
4. 因此 $p^2$ 是偶数，所以 $p$ 是偶数
5. 设 $p = 2k$，代入得到 $2q^2 = 4k^2$，即 $q^2 = 2k^2$
6. 因此 $q^2$ 是偶数，所以 $q$ 是偶数
7. 这与 $p, q$ 互质矛盾
8. 因此假设错误，$\sqrt{2}$ 是无理数

#### 4.3.3 数学归纳法

**定理 4.3.3 (数学归纳法)**
设 $P(n)$ 是关于自然数 $n$ 的命题，如果：

1. $P(0)$ 为真（基础步骤）
2. 对于任意 $k \geq 0$，如果 $P(k)$ 为真，则 $P(k+1)$ 为真（归纳步骤）

那么对于所有自然数 $n$，$P(n)$ 为真。

**证明：**

1. 假设存在自然数 $n$ 使得 $P(n)$ 为假
2. 设 $m$ 是使得 $P(m)$ 为假的最小自然数
3. 由于 $P(0)$ 为真，所以 $m > 0$
4. 因此 $m-1$ 是自然数，且 $P(m-1)$ 为真
5. 根据归纳步骤，$P(m)$ 为真，矛盾
6. 因此对于所有自然数 $n$，$P(n)$ 为真

## 5. 形式系统的性质

### 5.1 一致性

**定义 5.1.1 (一致性)**
形式系统 $\mathcal{F}$ 是一致的，如果不存在公式 $\phi$ 使得 $\vdash \phi$ 和 $\vdash \neg\phi$ 同时成立。

**定理 5.1.1 (一致性的等价定义)**
形式系统 $\mathcal{F}$ 是一致的当且仅当存在公式 $\phi$ 使得 $\nvdash \phi$。

**证明：**

- 必要性：如果 $\mathcal{F}$ 不一致，则存在 $\phi$ 使得 $\vdash \phi$ 和 $\vdash \neg\phi$。根据爆炸原理，对于任意公式 $\psi$，都有 $\vdash \psi$。
- 充分性：如果对于任意公式 $\phi$ 都有 $\vdash \phi$，特别地，对于某个公式 $\psi$，有 $\vdash \psi$ 和 $\vdash \neg\psi$，因此系统不一致。

### 5.2 完备性

**定义 5.2.1 (语义完备性)**
形式系统 $\mathcal{F}$ 是语义完备的，如果对于任意公式 $\phi$，如果 $\phi$ 在所有模型中为真，则 $\vdash \phi$。

**定义 5.2.2 (语法完备性)**
形式系统 $\mathcal{F}$ 是语法完备的，如果对于任意公式 $\phi$，要么 $\vdash \phi$，要么 $\vdash \neg\phi$。

### 5.3 可靠性

**定义 5.3.1 (可靠性)**
形式系统 $\mathcal{F}$ 是可靠的，如果对于任意公式 $\phi$，如果 $\vdash \phi$，则 $\phi$ 在所有模型中为真。

### 5.4 可判定性

**定义 5.4.1 (可判定性)**
形式系统 $\mathcal{F}$ 是可判定的，如果存在算法能够判定任意给定的公式是否为定理。

**定理 5.4.1 (命题逻辑的可判定性)**
命题逻辑是可判定的。

**证明：**
可以通过真值表方法构造算法：

1. 对于公式 $\phi$，列出所有可能的真值指派
2. 计算每个真值指派下 $\phi$ 的真值
3. 如果 $\phi$ 在所有真值指派下都为真，则 $\phi$ 是重言式，从而是定理
4. 否则 $\phi$ 不是定理

## 6. 哥德尔不完备性定理

### 6.1 第一不完备性定理

**定理 6.1.1 (哥德尔第一不完备性定理)**
任何包含算术的一致形式系统都是不完备的。

**证明概要：**

1. 构造自指语句 $G$："$G$ 在系统中不可证"
2. 如果 $\vdash G$，则 $G$ 为真，即 $G$ 不可证，矛盾
3. 如果 $\vdash \neg G$，则 $\neg G$ 为真，即 $G$ 可证，矛盾
4. 因此既不能证明 $G$ 也不能证明 $\neg G$，系统不完备

### 6.2 第二不完备性定理

**定理 6.2.1 (哥德尔第二不完备性定理)**
任何包含算术的一致形式系统都不能证明自身的一致性。

**证明概要：**

1. 如果系统能证明自身一致性，则能证明 $G$ 不可证
2. 但 $G$ 等价于"$G$ 不可证"
3. 因此能证明 $G$，与第一定理矛盾

### 6.3 不完备性定理的意义

不完备性定理揭示了形式化系统的根本局限性：

1. **认知的边界**：存在真但不可证的数学命题
2. **形式化的局限**：完全的形式化是不可能的
3. **数学的本质**：数学不仅仅是形式系统，还包含直觉和创造性

## 7. 模型论基础

### 7.1 模型的概念

**定义 7.1.1 (一阶逻辑模型)**
对于一阶逻辑语言 $\mathcal{L}$，一个模型 $\mathcal{M}$ 是一个结构 $(M, I)$，其中：

- $M$ 是非空集合，称为论域
- $I$ 是解释函数，将语言符号映射到论域中的对象

### 7.2 满足关系

**定义 7.2.1 (满足关系)**
模型 $\mathcal{M}$ 满足公式 $\phi$，记作 $\mathcal{M} \models \phi$，递归定义如下：

1. $\mathcal{M} \models P(t_1, \ldots, t_n)$ 当且仅当 $(t_1^{\mathcal{M}}, \ldots, t_n^{\mathcal{M}}) \in P^{\mathcal{M}}$
2. $\mathcal{M} \models \neg\phi$ 当且仅当 $\mathcal{M} \not\models \phi$
3. $\mathcal{M} \models \phi \land \psi$ 当且仅当 $\mathcal{M} \models \phi$ 且 $\mathcal{M} \models \psi$
4. $\mathcal{M} \models \phi \lor \psi$ 当且仅当 $\mathcal{M} \models \phi$ 或 $\mathcal{M} \models \psi$
5. $\mathcal{M} \models \phi \rightarrow \psi$ 当且仅当 $\mathcal{M} \not\models \phi$ 或 $\mathcal{M} \models \psi$
6. $\mathcal{M} \models \forall x \phi$ 当且仅当对于所有 $a \in M$，$\mathcal{M} \models \phi[a/x]$
7. $\mathcal{M} \models \exists x \phi$ 当且仅当存在 $a \in M$，$\mathcal{M} \models \phi[a/x]$

### 7.3 紧致性定理

**定理 7.3.1 (紧致性定理)**
一阶逻辑理论 $T$ 有模型当且仅当 $T$ 的每个有限子集都有模型。

**证明：**

- 必要性：如果 $T$ 有模型 $\mathcal{M}$，则 $\mathcal{M}$ 是 $T$ 的任意有限子集的模型
- 充分性：使用超积构造或Henkin构造

### 7.4 勒文海姆-斯科伦定理

**定理 7.4.1 (勒文海姆-斯科伦下降定理)**
如果一阶理论 $T$ 有无限模型，则对于任意基数 $\kappa \geq |\mathcal{L}|$，$T$ 有基数为 $\kappa$ 的模型。

**定理 7.4.2 (勒文海姆-斯科伦上升定理)**
如果一阶理论 $T$ 有无限模型，则对于任意基数 $\kappa \geq \max(|\mathcal{L}|, \aleph_0)$，$T$ 有基数为 $\kappa$ 的模型。

## 8. 计算复杂性理论

### 8.1 可计算性

**定义 8.1.1 (可计算函数)**
函数 $f: \mathbb{N} \rightarrow \mathbb{N}$ 是可计算的，如果存在图灵机 $M$ 使得对于任意输入 $n$，$M$ 在有限步内停机并输出 $f(n)$。

### 8.2 复杂性类

**定义 8.2.1 (P类)**
P是多项式时间内可判定的语言类：
$$P = \{L | \exists \text{图灵机} M \text{和多项式} p \text{使得} M \text{在时间} p(n) \text{内判定} L\}$$

**定义 8.2.2 (NP类)**
NP是非确定性多项式时间内可判定的语言类：
$$NP = \{L | \exists \text{非确定性图灵机} M \text{和多项式} p \text{使得} M \text{在时间} p(n) \text{内判定} L\}$$

### 8.3 P vs NP问题

**问题 8.3.1 (P vs NP问题)**
是否 $P = NP$？

这是计算机科学中最重要的未解决问题之一。如果 $P = NP$，则许多困难的计算问题都可以在多项式时间内解决。

### 8.4 可判定性与复杂性

**定理 8.4.1 (丘奇-图灵论题)**
任何可计算的函数都可以由图灵机计算。

**定理 8.4.2 (停机问题的不可判定性)**
停机问题是不可判定的，即不存在算法能够判定任意图灵机在任意输入上是否停机。

## 9. 参考文献

1. Enderton, H. B. (2001). *A Mathematical Introduction to Logic*. Academic Press.
2. Boolos, G. S., Burgess, J. P., & Jeffrey, R. C. (2007). *Computability and Logic*. Cambridge University Press.
3. Gödel, K. (1931). Über formal unentscheidbare Sätze der Principia Mathematica und verwandter Systeme I. *Monatshefte für Mathematik und Physik*, 38(1), 173-198.
4. Tarski, A. (1936). Der Wahrheitsbegriff in den formalisierten Sprachen. *Studia Philosophica*, 1, 261-405.
5. Church, A. (1936). An unsolvable problem of elementary number theory. *American Journal of Mathematics*, 58(2), 345-363.
6. Turing, A. M. (1937). On computable numbers, with an application to the Entscheidungsproblem. *Proceedings of the London Mathematical Society*, 42(1), 230-265.
7. Sipser, M. (2012). *Introduction to the Theory of Computation*. Cengage Learning.
8. Hopcroft, J. E., Motwani, R., & Ullman, J. D. (2006). *Introduction to Automata Theory, Languages, and Computation*. Pearson Education.

---

**文档状态：** 已完成基础框架构建，包含形式化系统、逻辑基础、公理化方法、证明理论、不完备性定理、模型论和计算复杂性理论的核心内容。文档采用严格的数学规范，包含详细的定义、定理和证明过程。
