# 证明论 (Proof Theory)

## 目录

- [证明论](#证明论)
  - [目录](#目录)
  - [1. 基本概念](#1-基本概念)
  - [2. 形式证明系统](#2-形式证明系统)
  - [3. 自然演绎](#3-自然演绎)
  - [4. 相继式演算](#4-相继式演算)
  - [5. 切消定理](#5-切消定理)
  - [6. 一致性证明](#6-一致性证明)
  - [7. 哥德尔不完备定理](#7-哥德尔不完备定理)
  - [8. 应用与例子](#8-应用与例子)

---

## 1. 基本概念

### 1.1 证明论概述

**定义 1.1** (证明论)
**证明论**是数理逻辑的一个分支，研究形式证明的结构、性质和元理论性质。

**研究内容**：

1. **形式证明系统**：公理、推理规则、证明结构
2. **证明的性质**：一致性、完备性、可判定性
3. **证明的构造**：如何构造形式证明
4. **元理论结果**：关于证明系统的定理

### 1.2 证明论的重要性

1. **数学基础**：为数学提供严格的证明基础
2. **计算机科学**：为程序验证和定理证明提供理论基础
3. **哲学意义**：探讨数学真理和证明的本质
4. **实际应用**：在人工智能、形式化方法等领域有重要应用

### 1.3 历史发展

- **希尔伯特**：提出形式化数学纲领
- **哥德尔**：不完备定理的发现
- **根岑**：自然演绎和相继式演算
- **当代发展**：计算机辅助证明、类型论等

## 2. 形式证明系统

### 2.1 形式系统的组成

**定义 2.1** (形式系统)
一个**形式系统**由以下部分组成：

1. **语言**：符号集和形成规则
2. **公理**：作为推理起点的公式
3. **推理规则**：从前提推出结论的规则
4. **证明**：从公理到定理的有限步骤序列

### 2.2 希尔伯特系统

**定义 2.2** (希尔伯特系统)
**希尔伯特系统**是一种基于公理和推理规则的形式系统。

**特点**：

- 使用少量公理和推理规则
- 强调形式化和机械化
- 证明结构相对简单

#### 2.2.1 命题逻辑的希尔伯特系统

**公理**（示例）：

1. $P \to (Q \to P)$ （肯定前件律）
2. $(P \to (Q \to R)) \to ((P \to Q) \to (P \to R))$ （分配律）
3. $(\neg P \to \neg Q) \to (Q \to P)$ （逆否律）

**推理规则**：

- **肯定前件**：$\frac{P \to Q \quad P}{Q}$

#### 2.2.2 谓词逻辑的希尔伯特系统

**公理**（在命题逻辑基础上增加）：

1. $\forall x \phi(x) \to \phi(t)$ （全称消除）
2. $\phi(t) \to \exists x \phi(x)$ （存在引入）

**推理规则**：

- **全称引入**：$\frac{\phi}{\forall x \phi}$ （$x$ 不在前提中自由出现）
- **存在消除**：$\frac{\exists x \phi \quad \phi \vdash \psi}{\psi}$ （$x$ 不在 $\psi$ 中自由出现）

### 2.3 证明的定义

**定义 2.3** (形式证明)
一个**形式证明**是一个有限的公式序列 $\phi_1, \phi_2, \ldots, \phi_n$，其中每个 $\phi_i$ 要么是公理，要么是通过推理规则从前面的公式推导出来的。

**证明的组成部分**：

1. **公理**：作为推理起点的基本命题
2. **推理规则**：从前提推出结论的规则
3. **定理**：通过证明得到的命题

**示例**：在希尔伯特系统中证明 $P \to P$

**证明**：

1. $P \to ((P \to P) \to P)$ （公理1）
2. $(P \to ((P \to P) \to P)) \to ((P \to (P \to P)) \to (P \to P))$ （公理2）
3. $(P \to (P \to P)) \to (P \to P)$ （从1,2，肯定前件）
4. $P \to (P \to P)$ （公理1）
5. $P \to P$ （从3,4，肯定前件）

## 3. 自然演绎

### 3.1 自然演绎概述

**定义 3.1** (自然演绎)
**自然演绎**是一种更接近人类推理习惯的证明系统，使用引入和消除规则。

**特点**：

- 更直观的证明结构
- 使用假设和临时前提
- 支持条件证明和反证法

### 3.2 命题逻辑的自然演绎

#### 3.2.1 合取的规则

**合取引入**：
$$\frac{P \quad Q}{P \land Q}$$

**合取消除**：
$$\frac{P \land Q}{P} \quad \frac{P \land Q}{Q}$$

#### 3.2.2 析取的规则

**析取引入**：
$$\frac{P}{P \lor Q} \quad \frac{Q}{P \lor Q}$$

**析取消除**：
$$\frac{P \lor Q \quad P \to R \quad Q \to R}{R}$$

#### 3.2.3 蕴含的规则

**蕴含引入**（条件证明）：
$$\frac{[P] \quad \vdots \quad Q}{P \to Q}$$

**蕴含消除**：
$$\frac{P \to Q \quad P}{Q}$$

#### 3.2.4 否定的规则

**否定引入**（反证法）：
$$\frac{[P] \quad \vdots \quad \bot}{\neg P}$$

**否定消除**：
$$\frac{P \quad \neg P}{\bot}$$

#### 3.2.5 矛盾规则

**矛盾消除**：
$$\frac{\bot}{P}$$

### 3.3 谓词逻辑的自然演绎

#### 3.3.1 全称量词的规则

**全称引入**：
$$\frac{\phi}{\forall x \phi}$$

其中 $x$ 不在前提中自由出现。

**全称消除**：
$$\frac{\forall x \phi}{\phi[t/x]}$$

#### 3.3.2 存在量词的规则

**存在引入**：
$$\frac{\phi[t/x]}{\exists x \phi}$$

**存在消除**：
$$\frac{\exists x \phi \quad [\phi] \quad \vdots \quad \psi}{\psi}$$

其中 $x$ 不在 $\psi$ 中自由出现。

### 3.4 自然演绎的证明示例

#### 3.4.1 示例1：证明 $\neg(P \land \neg P)$

**证明**：

```
1. 假设 P ∧ ¬P
2.     P          (从1，合取消除)
3.     ¬P         (从1，合取消除)
4.     ⊥          (从2,3，否定消除)
5. ¬(P ∧ ¬P)      (从1,4，否定引入)
```

#### 3.4.2 示例2：证明 $P \to (Q \to P)$

**证明**：

```
1. 假设 P
2.     假设 Q
3.         P      (从1，重复)
4.     Q → P      (从2,3，蕴含引入)
5. P → (Q → P)    (从1,4，蕴含引入)
```

## 4. 相继式演算

### 4.1 相继式演算概述

**定义 4.1** (相继式)
一个**相继式**是一个形如 $\Gamma \vdash \Delta$ 的表达式，其中 $\Gamma$ 和 $\Delta$ 是公式的多重集。

**语义**：$\Gamma \vdash \Delta$ 表示如果 $\Gamma$ 中所有公式都为真，则 $\Delta$ 中至少有一个公式为真。

### 4.2 相继式演算的规则

#### 4.2.1 结构规则

**弱化**：
$$\frac{\Gamma \vdash \Delta}{\Gamma, \phi \vdash \Delta} \quad \frac{\Gamma \vdash \Delta}{\Gamma \vdash \Delta, \phi}$$

**收缩**：
$$\frac{\Gamma, \phi, \phi \vdash \Delta}{\Gamma, \phi \vdash \Delta} \quad \frac{\Gamma \vdash \Delta, \phi, \phi}{\Gamma \vdash \Delta, \phi}$$

**交换**：
$$\frac{\Gamma, \phi, \psi, \Sigma \vdash \Delta}{\Gamma, \psi, \phi, \Sigma \vdash \Delta} \quad \frac{\Gamma \vdash \Delta, \phi, \psi, \Lambda}{\Gamma \vdash \Delta, \psi, \phi, \Lambda}$$

#### 4.2.2 逻辑规则

**合取规则**：
$$\frac{\Gamma, \phi, \psi \vdash \Delta}{\Gamma, \phi \land \psi \vdash \Delta} \quad \frac{\Gamma \vdash \Delta, \phi \quad \Gamma \vdash \Delta, \psi}{\Gamma \vdash \Delta, \phi \land \psi}$$

**析取规则**：
$$\frac{\Gamma, \phi \vdash \Delta \quad \Gamma, \psi \vdash \Delta}{\Gamma, \phi \lor \psi \vdash \Delta} \quad \frac{\Gamma \vdash \Delta, \phi, \psi}{\Gamma \vdash \Delta, \phi \lor \psi}$$

**蕴含规则**：
$$\frac{\Gamma \vdash \Delta, \phi \quad \Gamma, \psi \vdash \Delta}{\Gamma, \phi \to \psi \vdash \Delta} \quad \frac{\Gamma, \phi \vdash \Delta, \psi}{\Gamma \vdash \Delta, \phi \to \psi}$$

**否定规则**：
$$\frac{\Gamma \vdash \Delta, \phi}{\Gamma, \neg \phi \vdash \Delta} \quad \frac{\Gamma, \phi \vdash \Delta}{\Gamma \vdash \Delta, \neg \phi}$$

#### 4.2.3 量词规则

**全称量词规则**：
$$\frac{\Gamma, \phi[t/x] \vdash \Delta}{\Gamma, \forall x \phi \vdash \Delta} \quad \frac{\Gamma \vdash \Delta, \phi[y/x]}{\Gamma \vdash \Delta, \forall x \phi}$$

其中 $y$ 不在 $\Gamma, \Delta, \phi$ 中自由出现。

**存在量词规则**：
$$\frac{\Gamma, \phi[y/x] \vdash \Delta}{\Gamma, \exists x \phi \vdash \Delta} \quad \frac{\Gamma \vdash \Delta, \phi[t/x]}{\Gamma \vdash \Delta, \exists x \phi}$$

其中 $y$ 不在 $\Gamma, \Delta, \phi$ 中自由出现。

### 4.3 相继式演算的证明示例

#### 4.3.1 示例：证明 $\vdash P \lor \neg P$

**证明**：

```text
1. P ⊢ P                    (公理)
2. ⊢ P, ¬P                  (从1，否定规则)
3. ⊢ P ∨ ¬P                 (从2，析取规则)
```

#### 4.3.2 示例：证明 $\neg(P \land \neg P) \vdash$

**证明**：

```text
1. P, ¬P ⊢                  (公理)
2. P ∧ ¬P ⊢                 (从1，合取规则)
3. ¬(P ∧ ¬P) ⊢              (从2，否定规则)
```

## 5. 切消定理

### 5.1 切消定理概述

**定义 5.1** (切消规则)
**切消规则**是相继式演算中的规则：
$$\frac{\Gamma \vdash \Delta, \phi \quad \Gamma', \phi \vdash \Delta'}{\Gamma, \Gamma' \vdash \Delta, \Delta'}$$

**定理 5.1** (切消定理)
在相继式演算中，切消规则是可消除的，即任何使用切消规则的证明都可以转换为不使用切消规则的证明。

### 5.2 切消定理的重要性

1. **子公式性质**：不使用切消的证明具有子公式性质
2. **可判定性**：为某些逻辑系统提供可判定性证明
3. **一致性**：提供一致性证明的方法
4. **证明搜索**：为自动定理证明提供算法

### 5.3 切消定理的证明思路

**主要思想**：

1. 对证明的复杂度进行归纳
2. 分析切消公式的复杂度
3. 通过重写规则消除切消

**复杂度度量**：

- **证明高度**：证明树的高度
- **切消复杂度**：切消公式的复杂度

## 6. 一致性证明

### 6.1 一致性的定义

**定义 6.1** (一致性)
一个形式系统是**一致的**，当且仅当不存在公式 $\phi$，使得 $\phi$ 和 $\neg \phi$ 都可以在系统中证明。

**等价定义**：

- 系统不包含矛盾
- 存在公式在系统中不可证明
- 系统有模型

### 6.2 一致性证明方法

#### 6.2.1 语义方法

**方法**：构造一个模型，证明所有公理在模型中为真，所有推理规则保持有效性。

**示例**：证明命题逻辑的一致性

**证明**：

1. 构造真值表模型
2. 验证所有公理为重言式
3. 验证推理规则保持有效性
4. 因此系统是一致的

#### 6.2.2 语法方法

**方法**：通过证明论的方法证明一致性。

**示例**：使用切消定理证明一致性

**证明**：

1. 假设系统不一致，即 $\vdash \phi$ 和 $\vdash \neg \phi$
2. 使用切消规则得到 $\vdash$ （空相继式）
3. 但空相继式在无切消系统中不可证明
4. 矛盾，因此系统一致

### 6.3 相对一致性

**定义 6.2** (相对一致性)
如果系统 $S$ 的一致性可以从系统 $T$ 的一致性推出，则称 $S$ 相对于 $T$ 是一致的。

**示例**：

- 集合论相对于算术的一致性
- 高阶逻辑相对于一阶逻辑的一致性

## 7. 哥德尔不完备定理

### 7.1 不完备性的定义

**定义 7.1** (完备性)
一个形式系统是**完备的**，当且仅当对于任意公式 $\phi$，要么 $\phi$ 可证明，要么 $\neg \phi$ 可证明。

**定义 7.2** (不完备性)
一个形式系统是**不完备的**，当且仅当存在公式 $\phi$，使得 $\phi$ 和 $\neg \phi$ 都不可证明。

### 7.2 哥德尔第一不完备定理

**定理 7.1** (哥德尔第一不完备定理)
任何包含算术的一致的形式系统都是不完备的。

**证明思路**：

1. 构造自指公式 $G$："$G$ 不可证明"
2. 如果 $G$ 可证明，则 $G$ 为真，即 $G$ 不可证明，矛盾
3. 如果 $\neg G$ 可证明，则 $G$ 为假，即 $G$ 可证明，矛盾
4. 因此 $G$ 和 $\neg G$ 都不可证明

### 7.3 哥德尔第二不完备定理

**定理 7.2** (哥德尔第二不完备定理)
任何包含算术的一致的形式系统都无法证明自身的一致性。

**证明思路**：

1. 一致性可以形式化为公式 $Con$
2. 如果系统可以证明 $Con$，则系统不一致
3. 因此系统无法证明自身的一致性

### 7.4 不完备定理的意义

1. **数学基础**：揭示了形式化数学的局限性
2. **哲学意义**：探讨数学真理和证明的本质
3. **实际影响**：影响了对数学基础的理解
4. **现代应用**：在计算机科学和人工智能中有重要应用

## 8. 应用与例子

### 8.1 计算机科学中的应用

#### 8.1.1 程序验证

**示例**：验证程序的正确性

```python
def factorial(n):
    if n == 0:
        return 1
    else:
        return n * factorial(n-1)
```

**验证目标**：证明函数总是终止并返回正确结果

**证明方法**：

1. 使用数学归纳法
2. 构造形式证明
3. 验证终止性

#### 8.1.2 定理证明器

**示例**：Coq证明系统

```coq
Theorem plus_O_n : forall n : nat, 0 + n = n.
Proof.
  intros n.
  simpl.
  reflexivity.
Qed.
```

**特点**：

- 基于构造性逻辑
- 支持程序提取
- 提供形式化证明

### 8.2 人工智能中的应用

#### 8.2.1 自动推理

**示例**：使用归结方法进行自动推理

**归结规则**：
$$\frac{P \lor Q \quad \neg P \lor R}{Q \lor R}$$

**应用**：

- 定理证明
- 逻辑编程
- 知识表示

#### 8.2.2 知识表示

**示例**：描述逻辑

**语法**：

- 概念：$C, D$
- 角色：$R$
- 个体：$a, b$

**语义**：

- 解释函数 $I$
- 满足关系 $\models$

### 8.3 数学中的应用

#### 8.3.1 数论证明

**示例**：证明存在无穷多个素数

**形式化**：$\forall n \exists p (p > n \land Prime(p))$

**证明方法**：

1. 构造性证明
2. 反证法
3. 形式化验证

#### 8.3.2 几何证明

**示例**：证明勾股定理

**形式化**：$\forall a \forall b \forall c (RightTriangle(a,b,c) \to a^2 + b^2 = c^2)$

**证明方法**：

1. 几何构造
2. 代数计算
3. 形式化验证

### 8.4 哲学中的应用

#### 8.4.1 认识论

**问题**：数学知识的本质是什么？

**证明论视角**：

- 数学知识基于形式证明
- 证明提供确定性
- 不完备性揭示局限性

#### 8.4.2 形而上学

**问题**：数学对象的存在性

**证明论视角**：

- 构造性证明提供存在性
- 非构造性证明的哲学意义
- 直觉主义与经典逻辑的对比

---

## 总结

证明论是数理逻辑的核心分支，它提供了：

1. **形式化基础**：为数学提供严格的证明基础
2. **证明方法**：自然演绎、相继式演算等证明方法
3. **元理论结果**：切消定理、不完备定理等重要结果
4. **实际应用**：在计算机科学、人工智能等领域有重要应用

**核心要点**：

- 掌握形式证明系统的基本概念
- 理解自然演绎和相继式演算的规则
- 掌握切消定理和一致性证明方法
- 理解哥德尔不完备定理的意义
- 能够应用证明论方法解决实际问题

**下一步**：建议学习模型论，了解语义和语法之间的关系。
