# 数理逻辑基础：从命题到模态

## 目录

1. [引言](#1-引言)
2. [命题逻辑](#2-命题逻辑)
   - [2.1 基本概念](#21-基本概念)
   - [2.2 真值表与逻辑等价](#22-真值表与逻辑等价)
   - [2.3 推理规则与证明](#23-推理规则与证明)
   - [2.4 范式与可满足性](#24-范式与可满足性)
3. [谓词逻辑](#3-谓词逻辑)
   - [3.1 语言与语法](#31-语言与语法)
   - [3.2 语义与解释](#32-语义与解释)
   - [3.3 推理系统](#33-推理系统)
   - [3.4 量词与等价](#34-量词与等价)
4. [模态逻辑](#4-模态逻辑)
   - [4.1 基本模态逻辑](#41-基本模态逻辑)
   - [4.2 可能世界语义](#42-可能世界语义)
   - [4.3 时间逻辑](#43-时间逻辑)
   - [4.4 认知逻辑](#44-认知逻辑)
5. [逻辑系统的高级主题](#5-逻辑系统的高级主题)
   - [5.1 非经典逻辑](#51-非经典逻辑)
   - [5.2 直觉主义逻辑](#52-直觉主义逻辑)
   - [5.3 多值逻辑](#53-多值逻辑)
6. [逻辑在数学中的应用](#6-逻辑在数学中的应用)

## 1. 引言

数理逻辑是数学的一个分支，它使用数学方法来研究逻辑推理的形式结构和规律。数理逻辑不仅为数学提供了严格的基础，也为计算机科学、人工智能和哲学等领域提供了重要的工具。

### 1.1 数理逻辑的重要性

- **数学基础**：为数学提供严格的逻辑基础
- **计算机科学**：为程序验证和人工智能提供理论基础
- **哲学工具**：为哲学分析提供精确的语言
- **教育价值**：培养严谨的逻辑思维能力

### 1.2 数理逻辑的发展历史

1. **古代逻辑**：亚里士多德的三段论
2. **近代逻辑**：布尔代数、德摩根定律
3. **现代逻辑**：弗雷格、罗素的符号逻辑
4. **当代发展**：模态逻辑、非经典逻辑

## 2. 命题逻辑

### 2.1 基本概念

#### 2.1.1 命题与命题变量

**定义：**
命题是一个能够判断真假的陈述句。

**命题变量：**
用字母p, q, r, ...表示命题变量，每个变量可以取真值T或假值F。

**例子：**

- p: "今天是星期一"
- q: "2 + 2 = 4"
- r: "雪是白色的"

#### 2.1.2 逻辑联结词

**基本联结词：**

1. **否定（¬）**
   - 读作"非"
   - ¬p为真当且仅当p为假
   - 真值表：| p | ¬p |
              |---|---|
              | T | F  |
              | F | T  |

2. **合取（∧）**
   - 读作"且"
   - p∧q为真当且仅当p和q都为真
   - 真值表：| p | q | p∧q |
              |---|---|-----|
              | T | T |  T  |
              | T | F |  F  |
              | F | T |  F  |
              | F | F |  F  |

3. **析取（∨）**
   - 读作"或"
   - p∨q为真当且仅当p或q至少有一个为真
   - 真值表：| p | q | p∨q |
              |---|---|-----|
              | T | T |  T  |
              | T | F |  T  |
              | F | T |  T  |
              | F | F |  F  |

4. **蕴含（→）**
   - 读作"如果...那么..."
   - p→q为假当且仅当p为真且q为假
   - 真值表：| p | q | p→q |
              |---|---|-----|
              | T | T |  T  |
              | T | F |  F  |
              | F | T |  T  |
              | F | F |  T  |

5. **等价（↔）**
   - 读作"当且仅当"
   - p↔q为真当且仅当p和q具有相同的真值
   - 真值表：| p | q | p↔q |
              |---|---|-----|
              | T | T |  T  |
              | T | F |  F  |
              | F | T |  F  |
              | F | F |  T  |

#### 2.1.3 命题公式

**定义：**

1. 命题变量是命题公式
2. 如果φ是命题公式，则¬φ是命题公式
3. 如果φ和ψ是命题公式，则(φ∧ψ), (φ∨ψ), (φ→ψ), (φ↔ψ)是命题公式
4. 只有通过上述规则构造的表达式才是命题公式

**例子：**

- p
- ¬p
- p∧q
- (p→q)∧(q→p)
- ¬(p∧q)→(¬p∨¬q)

### 2.2 真值表与逻辑等价

#### 2.2.1 真值表方法

**真值表的构造：**

1. 列出所有命题变量的所有可能真值组合
2. 按照公式的结构逐步计算每个子公式的真值
3. 得到整个公式的真值

**例子：** 构造(p→q)∧(q→p)的真值表

| p | q | p→q | q→p | (p→q)∧(q→p) |
|---|---|-----|-----|-------------|
| T | T |  T  |  T  |      T      |
| T | F |  F  |  T  |      F      |
| F | T |  T  |  F  |      F      |
| F | F |  T  |  T  |      T      |

#### 2.2.2 逻辑等价

**定义：**
两个命题公式φ和ψ是逻辑等价的，记作φ≡ψ，如果对于所有真值指派，φ和ψ都具有相同的真值。

**重要等价式：**

1. **德摩根定律：**
   - ¬(p∧q) ≡ ¬p∨¬q
   - ¬(p∨q) ≡ ¬p∧¬q

2. **分配律：**
   - p∧(q∨r) ≡ (p∧q)∨(p∧r)
   - p∨(q∧r) ≡ (p∨q)∧(p∨r)

3. **双重否定：**
   - ¬¬p ≡ p

4. **蕴含的等价形式：**
   - p→q ≡ ¬p∨q
   - p→q ≡ ¬q→¬p（逆否命题）

5. **等价的重言式：**
   - p↔q ≡ (p→q)∧(q→p)

#### 2.2.3 重言式与矛盾式

**重言式：**
一个命题公式是重言式，如果它在所有真值指派下都为真。

**矛盾式：**
一个命题公式是矛盾式，如果它在所有真值指派下都为假。

**例子：**

- p∨¬p（排中律）是重言式
- p∧¬p（矛盾律）是矛盾式
- p→p（同一律）是重言式

### 2.3 推理规则与证明

#### 2.3.1 基本推理规则

**分离规则（Modus Ponens）：**
从p和p→q推出q

**否定后件（Modus Tollens）：**
从p→q和¬q推出¬p

**假言三段论：**
从p→q和q→r推出p→r

**析取三段论：**
从p∨q和¬p推出q

**构造性二难推理：**
从p→q, r→s, p∨r推出q∨s

#### 2.3.2 证明方法

**直接证明：**
从前提直接推导出结论

**反证法：**
假设结论的否定为真，推导出矛盾

**分情况证明：**
将问题分解为几个互斥的情况分别证明

**例子：** 证明(p→q)∧(q→r)→(p→r)

```text
1. 假设(p→q)∧(q→r)为真
2. 从1得到p→q为真
3. 从1得到q→r为真
4. 假设p为真
5. 从2和4得到q为真
6. 从3和5得到r为真
7. 从4-6得到p→r为真
8. 从1-7得到(p→q)∧(q→r)→(p→r)为真
```

### 2.4 范式与可满足性

#### 2.4.1 析取范式（DNF）

**定义：**
一个命题公式是析取范式，如果它是形如(l₁∧l₂∧...∧lₙ)∨(l'₁∧l'₂∧...∧l'ₘ)∨...的析取，其中每个lᵢ都是文字（命题变量或其否定）。

**构造方法：**

1. 写出公式的真值表
2. 对于每个使公式为真的真值指派，构造一个合取项
3. 将所有合取项用析取连接

**例子：**
p↔q的析取范式是(p∧q)∨(¬p∧¬q)

#### 2.4.2 合取范式（CNF）

**定义：**
一个命题公式是合取范式，如果它是形如(l₁∨l₂∨...∨lₙ)∧(l'₁∨l'₂∨...∨l'ₘ)∧...的合取，其中每个lᵢ都是文字。

**构造方法：**

1. 写出公式的真值表
2. 对于每个使公式为假的真值指派，构造一个析取项
3. 将所有析取项用合取连接

**例子：**
p↔q的合取范式是(¬p∨q)∧(p∨¬q)

#### 2.4.3 可满足性问题

**定义：**
一个命题公式是可满足的，如果存在一个真值指派使其为真。

**判定方法：**

1. 真值表方法：检查是否存在使公式为真的真值指派
2. 范式方法：将公式化为范式后判断
3. 算法方法：使用DPLL算法等

## 3. 谓词逻辑

### 3.1 语言与语法

#### 3.1.1 谓词逻辑的语言

**符号集：**

1. **逻辑符号：**
   - 逻辑联结词：¬, ∧, ∨, →, ↔
   - 量词：∀（全称量词）, ∃（存在量词）
   - 等号：=
   - 辅助符号：(, ), ,

2. **非逻辑符号：**
   - 个体变量：x, y, z, ...
   - 个体常量：a, b, c, ...
   - 谓词符号：P, Q, R, ...
   - 函数符号：f, g, h, ...

#### 3.1.2 项与公式

**项的定义：**

1. 个体变量是项
2. 个体常量是项
3. 如果t₁, ..., tₙ是项，f是n元函数符号，则f(t₁, ..., tₙ)是项

**原子公式：**

1. 如果t₁, ..., tₙ是项，P是n元谓词符号，则P(t₁, ..., tₙ)是原子公式
2. 如果t₁, t₂是项，则t₁ = t₂是原子公式

**公式的定义：**

1. 原子公式是公式
2. 如果φ是公式，则¬φ是公式
3. 如果φ, ψ是公式，则(φ∧ψ), (φ∨ψ), (φ→ψ), (φ↔ψ)是公式
4. 如果φ是公式，x是变量，则∀xφ, ∃xφ是公式

#### 3.1.3 自由变量与约束变量

**自由变量：**
在公式φ中，变量x是自由的，如果它不在任何量词∀x或∃x的辖域内。

**约束变量：**
在公式φ中，变量x是约束的，如果它在某个量词∀x或∃x的辖域内。

**闭公式：**
不包含自由变量的公式称为闭公式或句子。

**例子：**
在公式∀x(P(x,y)∧∃yQ(y))中：

- x是约束变量（被∀x约束）
- 第一个y是自由变量
- 第二个y是约束变量（被∃y约束）

### 3.2 语义与解释

#### 3.2.1 解释的定义

**解释：**
给定一个一阶语言L，L的一个解释I由以下部分组成：

1. 一个非空集合D（论域）
2. 对每个常量符号c，指定D中的一个元素cᴵ
3. 对每个n元函数符号f，指定Dⁿ到D的函数fᴵ
4. 对每个n元谓词符号P，指定Dⁿ的子集Pᴵ

#### 3.2.2 满足关系

**赋值：**
赋值s是将变量映射到论域D的函数。

**项的解释：**
给定解释I和赋值s，项t的解释t^(I,s)定义如下：

1. 如果t是变量x，则t^(I,s) = s(x)
2. 如果t是常量c，则t^(I,s) = cᴵ
3. 如果t = f(t₁, ..., tₙ)，则t^(I,s) = fᴵ(t₁^(I,s), ..., tₙ^(I,s))

**满足关系：**
给定解释I和赋值s，满足关系⊨定义如下：

1. **原子公式：**
   - I, s ⊨ P(t₁, ..., tₙ) 当且仅当 ⟨t₁^(I,s), ..., tₙ^(I,s)⟩ ∈ Pᴵ
   - I, s ⊨ t₁ = t₂ 当且仅当 t₁^(I,s) = t₂^(I,s)

2. **复合公式：**
   - I, s ⊨ ¬φ 当且仅当 I, s ⊭ φ
   - I, s ⊨ φ∧ψ 当且仅当 I, s ⊨ φ 且 I, s ⊨ ψ
   - I, s ⊨ φ∨ψ 当且仅当 I, s ⊨ φ 或 I, s ⊨ ψ
   - I, s ⊨ φ→ψ 当且仅当 I, s ⊭ φ 或 I, s ⊨ ψ
   - I, s ⊨ ∀xφ 当且仅当 对所有a∈D，I, s[x↦a] ⊨ φ
   - I, s ⊨ ∃xφ 当且仅当 存在a∈D，I, s[x↦a] ⊨ φ

#### 3.2.3 有效性、可满足性与逻辑推论

**有效性：**
公式φ是有效的，如果对于所有解释I和所有赋值s，都有I, s ⊨ φ。

**可满足性：**
公式φ是可满足的，如果存在解释I和赋值s，使得I, s ⊨ φ。

**逻辑推论：**
公式ψ是公式集合Γ的逻辑推论，记作Γ ⊨ ψ，如果对于所有解释I和所有赋值s，如果I, s ⊨ Γ，那么I, s ⊨ ψ。

### 3.3 推理系统

#### 3.3.1 公理系统

**逻辑公理：**

1. **命题公理：**
   - φ → (ψ → φ)
   - (φ → (ψ → χ)) → ((φ → ψ) → (φ → χ))
   - (¬φ → ¬ψ) → (ψ → φ)

2. **量词公理：**
   - ∀xφ → φ[t/x]（t对x在φ中可代入）
   - ∀x(φ → ψ) → (∀xφ → ∀xψ)
   - φ[t/x] → ∃xφ（t对x在φ中可代入）

3. **等号公理：**
   - x = x
   - x = y → (φ[x/z] → φ[y/z])

**推理规则：**

1. **分离规则：** 从φ和φ → ψ推出ψ
2. **概括规则：** 从φ推出∀xφ（x不在φ中自由出现）

#### 3.3.2 自然演绎

**引入和消去规则：**

1. **∀引入：** 如果从假设可以推出φ，且x不在假设中自由出现，则推出∀xφ
2. **∀消去：** 从∀xφ推出φ[t/x]
3. **∃引入：** 从φ[t/x]推出∃xφ
4. **∃消去：** 如果从φ推出ψ，且x不在ψ中自由出现，则从∃xφ推出ψ

### 3.4 量词与等价

#### 3.4.1 量词的等价

**量词的对偶性：**

- ¬∀xφ ≡ ∃x¬φ
- ¬∃xφ ≡ ∀x¬φ

**量词的分配律：**

- ∀x(φ∧ψ) ≡ ∀xφ∧∀xψ
- ∃x(φ∨ψ) ≡ ∃xφ∨∃xψ

**量词的交换：**

- ∀x∀yφ ≡ ∀y∀xφ
- ∃x∃yφ ≡ ∃y∃xφ

**注意：** ∀x∃yφ 与 ∃y∀xφ 不等价

#### 3.4.2 前束范式

**定义：**
一个公式是前束范式，如果它具有形式Q₁x₁Q₂x₂...Qₙxₙφ，其中每个Qᵢ是量词（∀或∃），φ是不包含量词的公式。

**构造方法：**

1. 消除蕴含和等价
2. 将否定内移
3. 将量词前移

**例子：**
∀x(P(x) → ∃yQ(x,y)) 的前束范式是 ∀x∃y(¬P(x)∨Q(x,y))

## 4. 模态逻辑

### 4.1 基本模态逻辑

#### 4.1.1 模态算子

**基本模态算子：**

- □（必然）：□φ表示"φ必然为真"
- ◇（可能）：◇φ表示"φ可能为真"

**关系：**

- □φ ≡ ¬◇¬φ
- ◇φ ≡ ¬□¬φ

#### 4.1.2 模态公式

**语法：**

1. 命题变量是模态公式
2. 如果φ是模态公式，则¬φ, □φ, ◇φ是模态公式
3. 如果φ, ψ是模态公式，则(φ∧ψ), (φ∨ψ), (φ→ψ), (φ↔ψ)是模态公式

**重要模态公式：**

- K: □(φ→ψ) → (□φ→□ψ)
- T: □φ → φ
- 4: □φ → □□φ
- 5: ◇φ → □◇φ
- B: φ → □◇φ

### 4.2 可能世界语义

#### 4.2.1 克里普克模型

**定义：**
克里普克模型M = ⟨W, R, V⟩，其中：

- W是非空的可能世界集合
- R是W上的二元关系（可达关系）
- V是赋值函数，将每个世界和命题变量映射到真值

**满足关系：**

- M, w ⊨ p 当且仅当 V(w, p) = 真
- M, w ⊨ ¬φ 当且仅当 M, w ⊭ φ
- M, w ⊨ φ∧ψ 当且仅当 M, w ⊨ φ 且 M, w ⊨ ψ
- M, w ⊨ □φ 当且仅当 对所有v，如果wRv，那么M, v ⊨ φ
- M, w ⊨ ◇φ 当且仅当 存在v，使得wRv且M, v ⊨ φ

#### 4.2.2 框架与有效性

**框架：**
框架F = ⟨W, R⟩是克里普克模型去掉赋值函数的部分。

**框架有效性：**
公式φ在框架F上有效，如果对于F上的所有模型M和所有世界w，都有M, w ⊨ φ。

**对应关系：**

- T公理对应自反性：∀w(wRw)
- 4公理对应传递性：∀w∀v∀u(wRv∧vRu → wRu)
- 5公理对应欧几里得性：∀w∀v∀u(wRv∧wRu → vRu)
- B公理对应对称性：∀w∀v(wRv → vRw)

### 4.3 时间逻辑

#### 4.3.1 线性时间逻辑（LTL）

**时态算子：**

- Gφ（总是）：φ在所有未来时刻都为真
- Fφ（最终）：φ在某个未来时刻为真
- Xφ（下一个）：φ在下一个时刻为真
- φUψ（直到）：φ为真直到ψ为真

**关系：**

- Gφ ≡ ¬F¬φ
- Fφ ≡ ¬G¬φ

#### 4.3.2 分支时间逻辑（CTL）

**路径量词：**

- Aφ（对所有路径）：在所有路径上φ为真
- Eφ（存在路径）：在某个路径上φ为真

**组合算子：**

- AGφ：对所有路径，φ总是为真
- EFφ：存在路径，φ最终为真
- AFφ：对所有路径，φ最终为真
- EGφ：存在路径，φ总是为真

### 4.4 认知逻辑

#### 4.4.1 认知算子

**基本算子：**

- Kᵢφ：主体i知道φ
- Bᵢφ：主体i相信φ

**群体算子：**

- E_Gφ：群体G中的每个成员都知道φ
- C_Gφ：φ是群体G的公共知识
- D_Gφ：φ是群体G的分布式知识

#### 4.4.2 认知公理

**S5系统：**

- K: Kᵢ(φ→ψ) → (Kᵢφ→Kᵢψ)
- T: Kᵢφ → φ
- 4: Kᵢφ → KᵢKᵢφ
- 5: ¬Kᵢφ → Kᵢ¬Kᵢφ

## 5. 逻辑系统的高级主题

### 5.1 非经典逻辑

#### 5.1.1 多值逻辑

**三值逻辑：**
除了真(T)和假(F)，还有第三个值：未定义(U)。

**真值表：**

| φ | ¬φ | φ∧ψ | φ∨ψ | φ→ψ |
|---|---|-----|-----|-----|
| T | F  | min | max | 条件 |
| U | U  | min | max | 条件 |
| F | T  | min | max | 条件 |

#### 5.1.2 模糊逻辑

**连续值：**
真值在[0,1]区间内取值。

**运算：**

- ¬φ = 1 - φ
- φ∧ψ = min(φ, ψ)
- φ∨ψ = max(φ, ψ)
- φ→ψ = min(1, 1-φ+ψ)

### 5.2 直觉主义逻辑

#### 5.2.1 直觉主义观点

**构造性要求：**

- 存在性证明必须提供构造方法
- 排中律不总是成立
- 双重否定消去不成立

#### 5.2.2 直觉主义公理

**基本公理：**

- φ → (ψ → φ)
- (φ → (ψ → χ)) → ((φ → ψ) → (φ → χ))
- φ∧ψ → φ
- φ∧ψ → ψ
- φ → (ψ → φ∧ψ)
- φ → φ∨ψ
- ψ → φ∨ψ
- (φ → χ) → ((ψ → χ) → (φ∨ψ → χ))

### 5.3 多值逻辑

#### 5.3.1 卢卡斯维奇逻辑

**三值系统：**

- 真值：1, 1/2, 0
- ¬φ = 1 - φ
- φ∧ψ = min(φ, ψ)
- φ∨ψ = max(φ, ψ)
- φ→ψ = min(1, 1-φ+ψ)

#### 5.3.2 应用

**不完全信息：**
处理信息不完全的情况。

**近似推理：**
处理模糊和不确定的推理。

## 6. 逻辑在数学中的应用

### 6.1 数学证明

#### 6.1.1 形式化证明

**自动定理证明：**
使用计算机辅助证明数学定理。

**证明验证：**
验证数学证明的正确性。

#### 6.1.2 证明策略

**直接证明：**
从前提直接推导结论。

**反证法：**
假设结论的否定，推导矛盾。

**数学归纳法：**
证明关于自然数的命题。

### 6.2 集合论

#### 6.2.1 公理化集合论

**ZFC公理系统：**
使用一阶逻辑语言描述集合论公理。

**模型论方法：**
研究集合论的不同模型。

#### 6.2.2 基数理论

**基数比较：**
使用逻辑方法比较无穷集合的大小。

**连续统假设：**
研究实数集的基数问题。

### 6.3 代数

#### 6.3.1 代数结构

**群论：**
使用逻辑语言描述群的性质。

**环论：**
形式化环和域的理论。

#### 6.3.2 模型论代数

**代数闭域：**
研究代数闭域的理论。

**实数域：**
研究实数有序域的性质。

### 6.4 计算机科学

#### 6.4.1 程序验证

**霍尔逻辑：**
使用逻辑方法验证程序的正确性。

**模型检测：**
自动验证有限状态系统的性质。

#### 6.4.2 人工智能

**知识表示：**
使用逻辑语言表示知识。

**推理系统：**
基于逻辑的推理机制。

## 结论

数理逻辑作为数学的基础学科，为我们提供了研究数学推理的严格工具。从简单的命题逻辑到复杂的模态逻辑，从经典逻辑到非经典逻辑，数理逻辑的发展不断深化我们对逻辑推理的理解。

数理逻辑不仅在数学内部发挥着重要作用，也为计算机科学、人工智能、哲学等领域提供了重要的理论基础。随着这些领域的发展，数理逻辑的研究方法和应用范围也在不断扩大。

通过深入理解数理逻辑，我们不仅能够更好地理解数学的本质，也能够为其他学科的发展提供有力的工具和方法。

---

**关键词：** 数理逻辑、命题逻辑、谓词逻辑、模态逻辑、真值表、推理规则、证明、可满足性、克里普克模型、直觉主义逻辑
