# 谓词逻辑

## 目录

1. [引言](#1-引言)
2. [形式语言](#2-形式语言)
3. [语义学](#3-语义学)
4. [证明系统](#4-证明系统)
5. [重要定理](#5-重要定理)
6. [应用与扩展](#6-应用与扩展)

---

## 1. 引言

谓词逻辑（一阶逻辑）是数理逻辑的核心分支，它扩展了命题逻辑，引入了个体、谓词和量词，能够表达更复杂的数学结构和推理。

### 1.1 谓词逻辑的历史背景

谓词逻辑的发展经历了几个重要阶段：

1. **弗雷格的贡献**：首次系统性地引入量词和谓词
2. **罗素和怀特海**：在《数学原理》中建立完整的谓词逻辑系统
3. **哥德尔的贡献**：证明完备性定理
4. **现代发展**：模型论、证明论等分支的建立

### 1.2 谓词逻辑的重要性

- **数学基础**：为数学提供形式化语言
- **计算机科学**：数据库理论、人工智能的基础
- **哲学**：逻辑分析的重要工具
- **语言学**：自然语言的形式化分析

---

## 2. 形式语言

### 2.1 字母表

**定义2.1（谓词逻辑字母表）**：谓词逻辑的形式语言由以下符号组成：

1. **逻辑符号**：
   - 个体变元：$x, y, z, \ldots$（可数无穷多个）
   - 逻辑联结词：$\neg, \land, \lor, \rightarrow, \leftrightarrow$
   - 量词：$\forall$（全称量词），$\exists$（存在量词）
   - 等号：$=$
   - 辅助符号：$($, $)$, $,$（括号和逗号）

2. **非逻辑符号**：
   - 个体常元：$a, b, c, \ldots$
   - 函数符号：$f, g, h, \ldots$（每个函数符号有固定的元数）
   - 谓词符号：$P, Q, R, \ldots$（每个谓词符号有固定的元数）

### 2.2 项

**定义2.2（项）**：项按以下规则递归定义：

1. **原子项**：
   - 每个个体变元都是项
   - 每个个体常元都是项

2. **复合项**：
   - 如果 $f$ 是 $n$ 元函数符号，$t_1, t_2, \ldots, t_n$ 是项，则 $f(t_1, t_2, \ldots, t_n)$ 是项

**示例**：

- $x, y, z$ 是项
- $a, b, c$ 是项
- $f(x, y)$ 是项（如果 $f$ 是二元函数符号）
- $g(f(x), a)$ 是项（如果 $g$ 是二元函数符号，$f$ 是一元函数符号）

### 2.3 合式公式

**定义2.3（合式公式）**：合式公式按以下规则递归定义：

1. **原子公式**：
   - 如果 $P$ 是 $n$ 元谓词符号，$t_1, t_2, \ldots, t_n$ 是项，则 $P(t_1, t_2, \ldots, t_n)$ 是合式公式
   - 如果 $t_1$ 和 $t_2$ 是项，则 $t_1 = t_2$ 是合式公式

2. **复合公式**：
   - 如果 $\phi$ 是合式公式，则 $\neg\phi$ 是合式公式
   - 如果 $\phi$ 和 $\psi$ 是合式公式，则 $(\phi \land \psi)$ 是合式公式
   - 如果 $\phi$ 和 $\psi$ 是合式公式，则 $(\phi \lor \psi)$ 是合式公式
   - 如果 $\phi$ 和 $\psi$ 是合式公式，则 $(\phi \rightarrow \psi)$ 是合式公式
   - 如果 $\phi$ 和 $\psi$ 是合式公式，则 $(\phi \leftrightarrow \psi)$ 是合式公式
   - 如果 $\phi$ 是合式公式，$x$ 是变元，则 $\forall x \phi$ 是合式公式
   - 如果 $\phi$ 是合式公式，$x$ 是变元，则 $\exists x \phi$ 是合式公式

**示例**：

- $P(x, y)$ 是合式公式
- $x = y$ 是合式公式
- $\forall x P(x, a)$ 是合式公式
- $\exists x (P(x) \land Q(x))$ 是合式公式

### 2.4 自由变元和约束变元

**定义2.4（自由变元）**：变元 $x$ 在公式 $\phi$ 中的自由出现递归定义如下：

1. 在原子公式 $P(t_1, \ldots, t_n)$ 中，$x$ 自由出现当且仅当 $x$ 在某个 $t_i$ 中出现
2. 在原子公式 $t_1 = t_2$ 中，$x$ 自由出现当且仅当 $x$ 在 $t_1$ 或 $t_2$ 中出现
3. 在 $\neg\phi$ 中，$x$ 自由出现当且仅当 $x$ 在 $\phi$ 中自由出现
4. 在 $\phi \land \psi$、$\phi \lor \psi$、$\phi \rightarrow \psi$、$\phi \leftrightarrow \psi$ 中，$x$ 自由出现当且仅当 $x$ 在 $\phi$ 或 $\psi$ 中自由出现
5. 在 $\forall y \phi$ 和 $\exists y \phi$ 中，$x$ 自由出现当且仅当 $x \neq y$ 且 $x$ 在 $\phi$ 中自由出现

**定义2.5（约束变元）**：变元 $x$ 在公式 $\phi$ 中的约束出现，如果 $x$ 在 $\phi$ 中出现但不是自由出现。

**定义2.6（句子）**：不包含自由变元的合式公式称为句子。

**示例**：

- 在 $\forall x P(x, y)$ 中，$x$ 是约束变元，$y$ 是自由变元
- 在 $\exists x (P(x) \land Q(x))$ 中，$x$ 是约束变元
- $\forall x \exists y P(x, y)$ 是句子

---

## 3. 语义学

### 3.1 结构

**定义3.1（结构）**：语言 $\mathcal{L}$ 的结构 $\mathcal{A}$ 由以下部分组成：

1. **论域**：非空集合 $A$
2. **解释函数**：
   - 对每个个体常元 $c$，指定 $c^{\mathcal{A}} \in A$
   - 对每个 $n$ 元函数符号 $f$，指定 $f^{\mathcal{A}}: A^n \to A$
   - 对每个 $n$ 元谓词符号 $P$，指定 $P^{\mathcal{A}} \subseteq A^n$

**示例**：考虑语言 $\mathcal{L} = \{+, \cdot, 0, 1, <\}$，其中 $+$ 和 $\cdot$ 是二元函数符号，$0$ 和 $1$ 是常元，$<$ 是二元谓词符号。

结构 $\mathcal{N} = \langle \mathbb{N}, +^{\mathcal{N}}, \cdot^{\mathcal{N}}, 0^{\mathcal{N}}, 1^{\mathcal{N}}, <^{\mathcal{N}} \rangle$ 其中：

- $+^{\mathcal{N}}$ 是自然数加法
- $\cdot^{\mathcal{N}}$ 是自然数乘法
- $0^{\mathcal{N}} = 0$，$1^{\mathcal{N}} = 1$
- $<^{\mathcal{N}}$ 是自然数上的小于关系

### 3.2 赋值

**定义3.2（赋值）**：结构 $\mathcal{A}$ 上的赋值是一个函数 $s: \text{Var} \to A$，其中 $\text{Var}$ 是变元的集合。

**定义3.3（项的值）**：给定结构 $\mathcal{A}$ 和赋值 $s$，项 $t$ 的值 $t^{\mathcal{A}}[s]$ 递归定义如下：

1. 如果 $t$ 是变元 $x$，则 $t^{\mathcal{A}}[s] = s(x)$
2. 如果 $t$ 是常元 $c$，则 $t^{\mathcal{A}}[s] = c^{\mathcal{A}}$
3. 如果 $t = f(t_1, \ldots, t_n)$，则 $t^{\mathcal{A}}[s] = f^{\mathcal{A}}(t_1^{\mathcal{A}}[s], \ldots, t_n^{\mathcal{A}}[s])$

### 3.3 满足关系

**定义3.4（满足关系）**：结构 $\mathcal{A}$ 在赋值 $s$ 下满足公式 $\phi$，记作 $\mathcal{A} \models \phi[s]$，递归定义如下：

1. **原子公式**：
   - $\mathcal{A} \models P[t_1, \ldots, t_n](s)$ 当且仅当 $(t_1^{\mathcal{A}}[s], \ldots, t_n^{\mathcal{A}}[s]) \in P^{\mathcal{A}}$
   - $\mathcal{A} \models t_1 = t_2[s]$ 当且仅当 $t_1^{\mathcal{A}}[s] = t_2^{\mathcal{A}}[s]$

2. **复合公式**：
   - $\mathcal{A} \models \neg\phi[s]$ 当且仅当 $\mathcal{A} \not\models \phi[s]$
   - $\mathcal{A} \models \phi \land \psi[s]$ 当且仅当 $\mathcal{A} \models \phi[s]$ 且 $\mathcal{A} \models \psi[s]$
   - $\mathcal{A} \models \phi \lor \psi[s]$ 当且仅当 $\mathcal{A} \models \phi[s]$ 或 $\mathcal{A} \models \psi[s]$
   - $\mathcal{A} \models \phi \rightarrow \psi[s]$ 当且仅当 $\mathcal{A} \not\models \phi[s]$ 或 $\mathcal{A} \models \psi[s]$
   - $\mathcal{A} \models \phi \leftrightarrow \psi[s]$ 当且仅当 $\mathcal{A} \models \phi[s]$ 当且仅当 $\mathcal{A} \models \psi[s]$

3. **量词公式**：
   - $\mathcal{A} \models \forall x \phi[s]$ 当且仅当对所有 $a \in A$，$\mathcal{A} \models \phi[s(x|a)]$
   - $\mathcal{A} \models \exists x \phi[s]$ 当且仅当存在 $a \in A$，$\mathcal{A} \models \phi[s(x|a)]$

其中 $s(x|a)$ 表示将赋值 $s$ 在 $x$ 处的值改为 $a$ 的新赋值。

### 3.4 语义概念

**定义3.5（有效性）**：公式 $\phi$ 是有效的（重言式），如果对于所有结构 $\mathcal{A}$ 和所有赋值 $s$，都有 $\mathcal{A} \models \phi[s]$。

**定义3.6（可满足性）**：公式 $\phi$ 是可满足的，如果存在结构 $\mathcal{A}$ 和赋值 $s$ 使得 $\mathcal{A} \models \phi[s]$。

**定义3.7（逻辑蕴含）**：公式集 $\Gamma$ 逻辑蕴含公式 $\phi$，记作 $\Gamma \models \phi$，如果对于所有结构 $\mathcal{A}$ 和所有赋值 $s$，如果 $\mathcal{A} \models \psi[s]$ 对所有 $\psi \in \Gamma$ 成立，则 $\mathcal{A} \models \phi[s]$。

**定义3.8（逻辑等价）**：公式 $\phi$ 和 $\psi$ 逻辑等价，记作 $\phi \equiv \psi$，如果 $\phi \models \psi$ 且 $\psi \models \phi$。

---

## 4. 证明系统

### 4.1 自然演绎系统

**定义4.1（自然演绎规则）**：

#### 4.1.1 命题逻辑规则

包含所有命题逻辑的规则，如合取、析取、蕴含、否定等规则。

#### 4.1.2 量词规则

**全称量词引入**（$\forall$I）：
$$\frac{\phi}{\forall x \phi}$$
要求 $x$ 不在 $\phi$ 的任何假设中自由出现。

**全称量词消去**（$\forall$E）：
$$\frac{\forall x \phi}{\phi[t/x]}$$
其中 $t$ 是项，$\phi[t/x]$ 表示将 $\phi$ 中 $x$ 的所有自由出现替换为 $t$。

**存在量词引入**（$\exists$I）：
$$\frac{\phi[t/x]}{\exists x \phi}$$

**存在量词消去**（$\exists$E）：
$$\frac{\exists x \phi \quad [\phi]}{\psi} \quad \frac{\psi}{\psi}$$
要求 $x$ 不在 $\psi$ 中自由出现。

#### 4.1.3 等号规则

**等号自反性**：
$$\frac{}{t = t}$$

**等号替换**：
$$\frac{t_1 = t_2 \quad \phi[t_1/x]}{\phi[t_2/x]}$$

### 4.2 公理化系统

**定义4.2（一阶逻辑公理系统）**：

**命题逻辑公理**：

1. $\phi \rightarrow (\psi \rightarrow \phi)$
2. $(\phi \rightarrow (\psi \rightarrow \chi)) \rightarrow ((\phi \rightarrow \psi) \rightarrow (\phi \rightarrow \chi))$
3. $(\neg\phi \rightarrow \neg\psi) \rightarrow (\psi \rightarrow \phi)$

**量词公理**：
4. $\forall x \phi \rightarrow \phi[t/x]$（其中 $t$ 是项）
5. $\phi[t/x] \rightarrow \exists x \phi$（其中 $t$ 是项）

**等号公理**：
6. $x = x$
7. $x = y \rightarrow (\phi \rightarrow \phi[y/x])$

**推理规则**：分离规则
$$\frac{\phi \quad \phi \rightarrow \psi}{\psi}$$

**量词规则**：
$$\frac{\phi \rightarrow \psi}{\phi \rightarrow \forall x \psi}$$
要求 $x$ 不在 $\phi$ 中自由出现。

$$\frac{\phi \rightarrow \psi}{\exists x \phi \rightarrow \psi}$$
要求 $x$ 不在 $\psi$ 中自由出现。

---

## 5. 重要定理

### 5.1 哥德尔完备性定理

**定理5.1（哥德尔完备性定理）**：如果 $\Gamma \models \phi$，则 $\Gamma \vdash \phi$。

**证明**：通过构造性方法证明，使用亨金构造。

**证毕**。

### 5.2 紧致性定理

**定理5.2（紧致性定理）**：如果 $\Gamma$ 的每个有限子集都是可满足的，则 $\Gamma$ 是可满足的。

**证明**：从完备性定理和可证性的有限性得出。

**证毕**。

### 5.3 Löwenheim-Skolem定理

**定理5.3（向下Löwenheim-Skolem定理）**：如果可数语言的理论有无限模型，则它有可数模型。

**定理5.4（向上Löwenheim-Skolem定理）**：如果理论有无限模型，则对于任意基数 $\kappa \geq |\mathcal{L}|$，它有基数为 $\kappa$ 的模型。

### 5.4 丘奇-图灵定理

**定理5.5（丘奇-图灵定理）**：一阶逻辑是不可判定的，即不存在算法判定任意一阶逻辑公式是否为有效公式。

**证明**：通过将停机问题归约到一阶逻辑的有效性问题。

**证毕**。

---

## 6. 应用与扩展

### 6.1 数学理论的形式化

#### 6.1.1 群论

**群论的公理**：

1. $\forall x \forall y \forall z ((x \cdot y) \cdot z = x \cdot (y \cdot z))$（结合律）
2. $\forall x (e \cdot x = x \land x \cdot e = x)$（单位元）
3. $\forall x \exists y (x \cdot y = e \land y \cdot x = e)$（逆元）

#### 6.1.2 域论

**域论的公理**：

1. 加法群公理
2. 乘法群公理（除零元外）
3. 分配律：$\forall x \forall y \forall z (x \cdot (y + z) = x \cdot y + x \cdot z)$

### 6.2 数据库理论

**定义6.1（关系数据库）**：关系数据库可以用一阶逻辑表示。

**示例**：

- 表 $R(A, B)$ 可以表示为谓词 $R(x, y)$
- 查询 $\sigma_{A > 5}(R)$ 可以表示为 $\exists x \exists y (R(x, y) \land x > 5)$

### 6.3 人工智能

**定义6.2（知识表示）**：一阶逻辑用于表示知识。

**示例**：

- "所有人都会死"：$\forall x (\text{Person}(x) \rightarrow \text{Mortal}(x))$
- "苏格拉底是人"：$\text{Person}(\text{Socrates})$
- 结论："苏格拉底会死"：$\text{Mortal}(\text{Socrates})$

### 6.4 模型论

**定义6.3（初等等价）**：两个结构 $\mathcal{A}$ 和 $\mathcal{B}$ 初等等价，如果它们满足相同的句子。

**定义6.4（初等子结构）**：结构 $\mathcal{A}$ 是结构 $\mathcal{B}$ 的初等子结构，如果 $\mathcal{A} \subseteq \mathcal{B}$ 且对于所有句子 $\phi$，$\mathcal{A} \models \phi$ 当且仅当 $\mathcal{B} \models \phi$。

### 6.5 扩展系统

#### 6.5.1 二阶逻辑

**定义6.5（二阶逻辑）**：允许对谓词和函数进行量化的逻辑。

**示例**：

- $\forall P \forall x (P(x) \lor \neg P(x))$（排中律）

#### 6.5.2 模态逻辑

**定义6.6（模态谓词逻辑）**：结合模态算子和谓词逻辑。

**示例**：

- $\forall x \Box P(x)$（必然地，所有 $x$ 都有性质 $P$）

---

## 总结

谓词逻辑为数学和计算机科学提供了强大的形式化工具。它不仅能够表达复杂的数学结构，还在数据库理论、人工智能等领域有重要应用。通过完备性定理和模型论，我们建立了完整的语义和语法理论。

## 参考文献

1. Enderton, H. B. (2001). *A Mathematical Introduction to Logic*. Academic Press.
2. Mendelson, E. (2015). *Introduction to Mathematical Logic*. CRC Press.
3. Chang, C. C., & Keisler, H. J. (2012). *Model Theory*. Dover Publications.
4. Hodges, W. (1997). *A Shorter Model Theory*. Cambridge University Press.
