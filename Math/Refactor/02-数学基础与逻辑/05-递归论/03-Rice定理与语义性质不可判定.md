# 3. Rice 定理与语义性质不可判定

**版本**: 1.0  
**日期**: 2025-07-02

---

## 3.1 定义：语义性质与非平凡性

- 设 𝔽 为所有部分可计算函数的集合。一个性质 𝒫 ⊆ 𝔽 称为（函数的）语义性质，若它仅依赖于函数的输入-输出关系（而与程序表示无关）。
- 𝒫 称为非平凡，若 ∃f, g ∈ 𝔽 使得 f ∈ 𝒫 且 g ∉ 𝒫（既非空也非全集）。 [Rogers 1967]

## 3.2 Rice 定理（陈述）

- 任意非平凡的语义性质在图灵可计算函数族上不可判定。 [Rice 1953]

等价表述：不存在通用判定程序，能对任意程序 P 判断其计算的（部分）函数是否属于 𝒫，除非 𝒫 是平凡性质。 [Rogers 1967; Soare 1987]

## 3.3 证明提纲（归约法）

- 思路：从停机或接受性问题做 many-one 归约。
- 设 𝒫 为非平凡语义性质，取 f ∈ 𝒫 与 g ∉ 𝒫。对任意 (M, w)，构造程序 Q_{M,w}：
  - Q_{M,w}(x) 若 M 在 w 上停机则输出 f(x)，否则输出 g(x)。
- 若存在判定器 D 判定 Q_{M,w} 计算的函数是否在 𝒫，则可藉此判定 M 在 w 上是否停机（或是否接受），与停机/接受性不可判定矛盾。 [Rice 1953; Rogers 1967]

---

## 引文与参考（严格体例）

- Rice, H. G. (1953). Classes of recursively enumerable sets and their decision problems. Trans. Amer. Math. Soc., 74(2), 358–366.
- Rogers, H. (1967). Theory of Recursive Functions and Effective Computability. McGraw–Hill.
- Soare, R. I. (1987). Recursively Enumerable Sets and Degrees. Springer.
- Davis, M. (1958). Computability and Unsolvability. McGraw–Hill.

> 关联：`02-停机问题与不可计算性.md`；后续：递归可枚举度与算术层级。

## 3.4 典型性质库（示例）

- 定义域/值域性质：
  - “函数处处有定义（全函数）” vs “存在未定义点（部分函数）”——非平凡语义性质，不可判定。 [Rogers 1967]
  - “输出恒为 0” vs “并非恒为 0”——非平凡，不可判定。 [Rice 1953]
- 语言接受类性质（经函数视角等价表达）：
  - “程序所刻画的语言为正则/上下文无关/递归可枚举”等——只要划分非平凡，即不可判定。 [Soare 1987]
- 结构性质：
  - “定义域为有限集/无限集”——非平凡，不可判定。
  - “输出集合包含某给定无限集 S 的无限子集”——非平凡，不可判定。

> 说明：只要性质不取空集或全集，就可用 Rice 定理统一给出不可判定结论；构造法通常以停机或接受性为归约源问题。 参见[Rice 1953; Rogers 1967; Soare 1987]。

## 2.3 典型性质库（非平凡语义性质示例）

- 总为空/全语言（平凡，Rice 不适用）
- 接受某固定字符串/属于某语言族（如正则、上下文无关）（语义性且非平凡）→ 不可判定
- 有限性/无限性（L(M) 是否有限）→ 非平凡且语义性 → 不可判定
- 等价性/包含性（L(M1)=L(M2) 或 L(M1)⊆L(M2) 的判定）→ 不可判定
- 最小化到给定状态数/规模（取决于语言而非实现细节）→ 不可判定
说明：凡仅依赖 L(M) 而非 M 的构造细节，且在递归可枚举语言族中不恒真也不恒假者，均落入 Rice 范围。

## 2.4 多对一归约完整示例（伪代码）

给定输入 ⟨M,w⟩：

1) 构造机器 N：在任意输入 x 上模拟 M(w)；若停机则进入“必接受”分支，否则循环。
2) 定义 f(⟨M,w⟩) = ⟨N,x₀⟩（固定基准输入 x₀）。
则 ⟨M,w⟩∈HALT ⇔ f(⟨M,w⟩)∈K，且 f 可计算，故 HALT ≤_m K。由 HALT 不可判定知 K 不可判定。
参考：Church (1936); Turing (1936); Rogers (1967); Soare (1987)。
