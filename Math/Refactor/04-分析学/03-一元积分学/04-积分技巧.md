# 04-积分技巧 (Techniques of Integration)

微积分基本定理的伟大之处在于，它将计算定积分（一个分析问题）转化为了寻找原函数（一个代数问题）。然而，与求导相比，积分的计算更具挑战性，因为它没有一套适用于所有函数的普适法则。因此，掌握一套行之有效的积分技巧至关重要。

## 1. 基础：线性性与积分表

在运用任何高级技巧之前，必须牢记两条基本原则：

1. **线性性质**: $\int [af(x) + bg(x)]dx = a\int f(x)dx + b\int g(x)dx$。这个性质允许我们将复杂的被积函数分解成若干个简单部分分别积分。
2. **基本积分表**: 必须对基本初等函数的积分公式了如指掌，它们是所有复杂积分计算的"原子"构件。

## 2. 技巧一：换元积分法 (Integration by Substitution)

**核心思想**: 这是**链式求导法则的逆运算**。

- **链式法则**: $[F(g(x))]' = F'(g(x))g'(x)$
- **逆运算**: $\int F'(g(x))g'(x)dx = F(g(x)) + C$

**操作流程**:

1. **观察**: 在被积函数中识别出一个复合结构，形如 $f(g(x))$。
2. **换元**: 令 $u = g(x)$，计算其微分 $du = g'(x)dx$。
3. **代换**: 将原积分中的 $g(x)$ 替换为 $u$，将 $g'(x)dx$ 替换为 $du$。
4. **求解**: 计算换元后得到的关于 $u$ 的新积分 $\int f(u)du$。这个新积分通常比原积分更简单。
5. **回代**: 将结果中的 $u$ 替换回 $g(x)$。

**例子**: 计算 $\int 2x \cos(x^2) dx$。

- 观察到 $\cos(x^2)$ 是复合函数，且内部函数 $x^2$ 的导数 $2x$ 也在被积函数中。
- 令 $u = x^2$，则 $du = 2x dx$。
- 代换得到 $\int \cos(u) du$。
- 积分为 $\sin(u) + C$。
- 回代得到 $\sin(x^2) + C$。

**对于定积分**: 换元时，不仅要换被积函数，还要**更换积分的上下限**。
若 $u=g(x)$，则新的下限为 $g(a)$，新的上限为 $g(b)$。
$\int_a^b f(g(x))g'(x)dx = \int_{g(a)}^{g(b)} f(u)du$
这样做的好处是积分后无需再回代，直接用新的上下限计算即可。

## 3. 技巧二：分部积分法 (Integration by Parts)

**核心思想**: 这是**乘积求导法则的逆运算**。

- **乘积法则**: $(uv)' = u'v + uv'$
- **移项积分**: $\int (uv)'dx = \int u'v dx + \int uv' dx$，即 $uv = \int v du + \int u dv$。
- **分部积分公式**:
    $\int u dv = uv - \int v du$

**操作流程**:

1. **拆分**: 将被积函数 $f(x)dx$ 拆分为两部分：$u$ 和 $dv$。
2. **选择**: 选择的原则是让新的积分 $\int v du$ **比**原来的积分 $\int u dv$ **更容易计算**。
    - 通常，我们希望通过对 $u$ 求导，使其"消失"或"降次"。
    - **LIATE 法则**: 一个经验性的选择 $u$ 的优先顺序：
        - **L**: 对数函数 (Logarithmic)
        - **I**: 反三角函数 (Inverse trigonometric)
        - **A**: 代数函数 (Algebraic, 即多项式)
        - **T**: 三角函数 (Trigonometric)
        - **E**: 指数函数 (Exponential)
        排在前面的函数优先选作 $u$。
3. **计算**: 由 $u$ 求出 $du=u'dx$，由 $dv$ 积分求出 $v = \int dv$ (这里的积分常数可取0)。
4. **套公式**: 将 $u, v, du$ 代入分部积分公式。

**例子**: 计算 $\int x e^x dx$。

- 根据 LIATE 法则，代数函数 $x$ 在指数函数 $e^x$ 之前，故选 $u=x$。
- $u=x, \quad dv = e^x dx$
- $du=dx, \quad v = \int e^x dx = e^x$
- $\int x e^x dx = uv - \int v du = x e^x - \int e^x dx = x e^x - e^x + C$。

## 4. 技巧三：有理函数的积分 (部分分式法)

**核心思想**: 任何一个有理函数（两个多项式的商）都可以分解成若干个更简单的"部分分式"之和，而这些部分分式都是可以被直接积分的。

**操作流程**:

1. **化为真分式**: 如果分子多项式的次数大于或等于分母，先用多项式长除法，将其化为一个多项式和一个真分式（分子次数低于分母）之和。多项式部分可直接积分。
2. **分解分母**: 将分母多项式彻底因式分解，分解为一次因式和不可约的二次因式（形如 $x^2+px+q$, $p^2-4q<0$）的乘积。
3. **裂项**: 根据分母的因式形式，将真分式拆分为若干部分分式之和。
    - 对于每个 $(ax+b)^k$ 因子，产生形如 $\frac{A_1}{ax+b} + \frac{A_2}{(ax+b)^2} + \dots + \frac{A_k}{(ax+b)^k}$ 的项。
    - 对于每个 $(x^2+px+q)^k$ 因子，产生形如 $\frac{A_1x+B_1}{x^2+px+q} + \dots + \frac{A_kx+B_k}{(x^2+px+q)^k}$ 的项。
4. **求系数**: 通过待定系数法或代入特殊值法求出所有未知系数 $A_i, B_i$。
5. **积分**: 对每个简单的部分分式分别积分。结果通常只涉及 $\ln$ 和 $\arctan$ 函数。

这个过程虽然步骤繁琐，但它是一个完全**程序化**和**必定成功**的方法。
