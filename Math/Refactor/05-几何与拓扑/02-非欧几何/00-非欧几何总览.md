# 非欧几何总览

## 目录

- [非欧几何总览](#非欧几何总览)
  - [目录](#目录)
  - [1. 非欧几何简介](#1-非欧几何简介)
    - [1.1 欧几里得第五公理](#11-欧几里得第五公理)
    - [1.2 非欧几何的历史发展](#12-非欧几何的历史发展)
    - [1.3 非欧几何的类型](#13-非欧几何的类型)
  - [2. 双曲几何](#2-双曲几何)
    - [2.1 双曲几何公理](#21-双曲几何公理)
    - [2.2 双曲几何模型](#22-双曲几何模型)
    - [2.3 双曲几何的性质](#23-双曲几何的性质)
  - [3. 椭圆几何](#3-椭圆几何)
    - [3.1 椭圆几何公理](#31-椭圆几何公理)
    - [3.2 椭圆几何模型](#32-椭圆几何模型)
    - [3.3 椭圆几何的性质](#33-椭圆几何的性质)
  - [4. 射影几何](#4-射影几何)
    - [4.1 射影几何的基本概念](#41-射影几何的基本概念)
    - [4.2 射影平面与射影空间](#42-射影平面与射影空间)
    - [4.3 射影变换与不变量](#43-射影变换与不变量)
  - [5. 其他非欧几何形式](#5-其他非欧几何形式)
    - [5.1 黎曼几何](#51-黎曼几何)
    - [5.2 分形几何](#52-分形几何)
    - [5.3 离散几何](#53-离散几何)
  - [6. 非欧几何的应用](#6-非欧几何的应用)
    - [6.1 物理学应用](#61-物理学应用)
    - [6.2 计算机科学应用](#62-计算机科学应用)
    - [6.3 其他领域的应用](#63-其他领域的应用)
  - [7. 代码实现](#7-代码实现)
    - [7.1 双曲几何的Rust实现](#71-双曲几何的rust实现)
    - [7.2 形式化验证](#72-形式化验证)
  - [8. 参考文献](#8-参考文献)

---

## 1. 非欧几何简介

非欧几何是对欧几里得几何的突破和扩展，通过修改欧几里得几何的第五公理（平行公理）而产生的几何理论体系。

### 1.1 欧几里得第五公理

欧几里得第五公理（平行公理）的标准表述为：

**平行公理**：过直线外一点，有且仅有一条直线与已知直线平行。

这一公理长期以来被数学家怀疑其是否可以由其他公理推导出来，从而引发了对平行公理独立性的研究，最终导致了非欧几何的诞生。

### 1.2 非欧几何的历史发展

非欧几何的发展经历了几个关键阶段：

- **尝试证明阶段（17-18世纪）**：数学家尝试从其他公理推导平行公理
- **怀疑与探索阶段（18世纪末）**：伽罗瓦、波亚伊等人开始怀疑平行公理的必要性
- **突破阶段（19世纪初）**：罗巴切夫斯基和波亚伊独立创立双曲几何
- **理论完善阶段（19世纪中后期）**：黎曼创立椭圆几何，克莱因提出射影模型
- **现代发展阶段（20世纪至今）**：与微分几何、拓扑学等领域融合

### 1.3 非欧几何的类型

根据对平行公理的不同修改，非欧几何主要分为三类：

1. **双曲几何**：过直线外一点有无数条平行线
2. **椭圆几何**：过直线外一点没有平行线
3. **射影几何**：不直接涉及平行性，认为平行线相交于"无穷远点"

其他更广义的非欧几何形式还包括黎曼几何、分形几何等。

## 2. 双曲几何

### 2.1 双曲几何公理

双曲几何保留了欧几里得几何的前四条公理，但将第五公理修改为：

**双曲平行公理**：过直线外一点，至少存在两条不同的直线与已知直线平行。

实际上，在双曲几何中，过直线外一点有无数条直线与已知直线平行。

### 2.2 双曲几何模型

为了证明双曲几何的一致性，数学家们构造了多个等价的模型：

**庞加莱圆盘模型**：

- 在单位圆盘内表示无限的双曲平面
- "直线"表示为与圆边界正交的圆弧或直径
- 圆边界表示"无穷远点"

**上半平面模型**：

- 在复平面的上半部分表示双曲平面
- "直线"表示为垂直于实轴的半圆或垂线
- 实轴表示"无穷远点"

**克莱因模型**：

- 使用单位圆内部表示双曲平面
- "直线"表示为圆盘内的弦
- 圆边界表示"无穷远点"

**超环面模型**：

- 使用三维空间中的超环面表示双曲平面
- "直线"表示为超环面上的测地线

### 2.3 双曲几何的性质

双曲几何具有以下独特性质：

- **三角形内角和**：小于180°，并且与三角形面积相关
- **平行线**：过直线外一点有无数条平行线
- **相似性**：不存在相似但不全等的图形（相似即全等）
- **面积增长**：以r为半径的圆的面积近似为$2\pi \sinh^2(r/2)$，增长速度快于欧几里得平面
- **三角形的极大边长**：存在极大三角形，其三内角均为0

## 3. 椭圆几何

### 3.1 椭圆几何公理

椭圆几何同样保留了欧几里得几何的前四条公理，但将第五公理修改为：

**椭圆平行公理**：不存在平行线，即任意两条直线都相交。

### 3.2 椭圆几何模型

椭圆几何的主要模型包括：

**黎曼球面模型**：

- 使用球面表示椭圆平面
- "直线"表示为球面上的大圆
- 任意两个大圆必相交于两点

**射影平面模型**：

- 将球面上的对径点等同视为同一点
- "直线"表示为射影平面上的测地线
- 任意两条直线恰好相交于一点

### 3.3 椭圆几何的性质

椭圆几何具有以下特性：

- **三角形内角和**：大于180°，并且与三角形面积相关
- **平行线**：不存在平行线，任意两条直线都相交
- **直线长度**：直线是有限长度的封闭曲线
- **面积有限**：整个椭圆平面的面积有限
- **欧拉示性数**：对于任意简单多边形，顶点数减边数加面数等于2

## 4. 射影几何

### 4.1 射影几何的基本概念

射影几何是研究在射影变换下保持不变的几何性质的数学分支。

**基本概念**：

- **无穷远点**：平行线在无穷远处的交点
- **无穷远直线**：由所有无穷远点组成
- **齐次坐标**：使用$(x:y:z)$表示平面上的点，其中点$(x,y)$对应$(x:y:1)$
- **对偶原理**：点和直线的角色可以互换

### 4.2 射影平面与射影空间

**射影平面**：

- 欧几里得平面加上无穷远直线构成
- 任意两点确定唯一一条直线
- 任意两条直线相交于唯一一点

**射影空间**：

- 欧几里得空间加上无穷远平面构成
- 任意三点确定唯一平面
- 任意两平面相交于唯一直线

### 4.3 射影变换与不变量

**射影变换**：

保持共线性和交比的变换，可以用矩阵表示：

$$
\begin{pmatrix} x' \\ y' \\ z' \end{pmatrix} =
\begin{pmatrix}
a_{11} & a_{12} & a_{13} \\
a_{21} & a_{22} & a_{23} \\
a_{31} & a_{32} & a_{33}
\end{pmatrix}
\begin{pmatrix} x \\ y \\ z \end{pmatrix}
$$

**射影不变量**：

- **共线性**：共线点在变换后仍然共线
- **交比**：$(A,B;C,D) = \frac{AC \cdot BD}{BC \cdot AD}$在射影变换下不变
- **二次曲线的类型**：抛物线、椭圆和双曲线在射影变换下可以相互转化

## 5. 其他非欧几何形式

### 5.1 黎曼几何

黎曼几何是研究具有黎曼度量的曲面或高维流形的几何学，是微分几何的基础。

**关键概念**：

- **流形**：局部类似于欧几里得空间的拓扑空间
- **度量张量**：定义流形上的距离和角度
- **测地线**：最短路径，对应于直线的推广
- **曲率**：描述空间弯曲程度的量

黎曼几何包含了欧几里得几何、双曲几何和椭圆几何作为特例，分别对应于曲率为零、负和正的情况。

### 5.2 分形几何

分形几何研究具有自相似性的几何对象，这些对象往往具有非整数维度。

**主要特征**：

- **自相似性**：整体与局部在某种意义上相似
- **分数维度**：分形通常具有非整数的维度
- **细节无限**：放大后仍有无限细节
- **不规则性**：无法用传统几何描述

**著名的分形**：

- 曼德勃罗集
- 科赫雪花曲线
- 谢尔宾斯基三角形
- 朱利亚集

### 5.3 离散几何

离散几何研究离散的点集、多面体等对象，是连续几何的离散模拟。

**研究对象**：

- **多面体组合理论**
- **离散微分几何**
- **计算几何**
- **格点几何**

离散几何在计算机图形学、算法设计和数值模拟中有广泛应用。

## 6. 非欧几何的应用

### 6.1 物理学应用

- **相对论**：爱因斯坦的广义相对论使用黎曼几何描述时空弯曲
- **宇宙学**：宇宙的整体形状可能是双曲、椭圆或平坦的
- **量子场论**：在高能物理中，某些理论需要非欧几何描述
- **光学**：在某些介质中光的传播可用非欧几何描述

### 6.2 计算机科学应用

- **计算机图形学**：球面映射、全景图像处理
- **计算机视觉**：三维重建、场景理解
- **虚拟现实**：非欧几何空间的模拟
- **机器学习**：在非欧几何空间中的数据表示和处理
- **网络拓扑**：复杂网络的几何表示

### 6.3 其他领域的应用

- **艺术**：埃舍尔等艺术家作品中的非欧几何元素
- **建筑**：曲面设计、张拉整体结构
- **生物学**：生物结构的非欧几何模型
- **地图制图学**：球面到平面的投影方法
- **导航系统**：考虑地球曲率的导航算法

## 7. 代码实现

### 7.1 双曲几何的Rust实现

下面是双曲平面上点和直线的简化Rust实现（使用庞加莱圆盘模型）：

```rust
use std::f64::consts::PI;

/// 表示庞加莱圆盘模型中的点
pub struct HyperbolicPoint {
    /// 庞加莱圆盘中的复坐标
    x: f64,
    y: f64,
}

impl HyperbolicPoint {
    /// 创建双曲平面上的点
    pub fn new(x: f64, y: f64) -> Option<Self> {
        // 点必须在单位圆内
        if x*x + y*y < 1.0 {
            Some(HyperbolicPoint { x, y })
        } else {
            None
        }
    }
    
    /// 计算到原点的双曲距离
    pub fn distance_to_origin(&self) -> f64 {
        let r = (self.x*self.x + self.y*self.y).sqrt();
        2.0 * f64::atanh(r)
    }
    
    /// 计算到另一点的双曲距离
    pub fn distance_to(&self, other: &HyperbolicPoint) -> f64 {
        // 庞加莱模型中的距离公式
        let dx = self.x - other.x;
        let dy = self.y - other.y;
        let numerator = (dx*dx + dy*dy).sqrt();
        let denominator = ((1.0 - self.x*self.x - self.y*self.y) * 
                          (1.0 - other.x*other.x - other.y*other.y)).sqrt();
        2.0 * f64::atanh(numerator / denominator)
    }
}

/// 表示庞加莱圆盘模型中的双曲直线
pub struct HyperbolicLine {
    /// 表示圆弧的参数：圆心(cx, cy)和半径r
    /// 如果是直径，则半径为0，方向由angle表示
    cx: f64,
    cy: f64,
    r: f64,
    /// 当r=0时，表示直径的角度
    angle: f64,
}

impl HyperbolicLine {
    /// 通过两点创建双曲直线
    pub fn from_points(p1: &HyperbolicPoint, p2: &HyperbolicPoint) -> Self {
        // 简化实现：如果两点与原点共线，返回直径
        if (p1.x * p2.y - p1.y * p2.x).abs() < 1e-10 {
            let angle = f64::atan2(p1.y, p1.x);
            HyperbolicLine { 
                cx: 0.0, 
                cy: 0.0, 
                r: 0.0, 
                angle 
            }
        } else {
            // 计算通过两点且垂直于边界的圆
            // 这里使用简化算法，实际需要解方程组
            // 这是一个示例性实现
            let x1 = p1.x;
            let y1 = p1.y;
            let x2 = p2.x;
            let y2 = p2.y;
            
            // 中点
            let mx = (x1 + x2) / 2.0;
            let my = (y1 + y2) / 2.0;
            
            // 过中点且垂直于边界的圆心即在该点的反演点
            let m_sqr = mx*mx + my*my;
            let cx = mx / m_sqr;
            let cy = my / m_sqr;
            
            // 半径
            let r = ((cx-x1)*(cx-x1) + (cy-y1)*(cy-y1)).sqrt();
            
            HyperbolicLine { cx, cy, r, angle: 0.0 }
        }
    }
    
    /// 判断点是否在直线上
    pub fn contains(&self, p: &HyperbolicPoint) -> bool {
        if self.r < 1e-10 {
            // 如果是直径，检查点是否与原点和直径方向共线
            let point_angle = f64::atan2(p.y, p.x);
            (point_angle - self.angle).abs() % PI < 1e-10 ||
            (point_angle - self.angle).abs() % PI > PI - 1e-10
        } else {
            // 如果是圆弧，检查点是否在圆上
            let dx = p.x - self.cx;
            let dy = p.y - self.cy;
            (dx*dx + dy*dy - self.r*self.r).abs() < 1e-10
        }
    }
}
```

### 7.2 形式化验证

使用Lean证明助手对双曲几何中定理的验证示例：

```lean
import Mathlib.Geometry.Manifold.Basic
import Mathlib.Geometry.Manifold.Instances.RealHyperbolicSpace

open Geometry Manifold

/-- 在双曲平面中，三角形的内角和小于π -/
theorem hyperbolic_triangle_angle_sum_lt_pi 
  {H² : Type*} [RealHyperbolicSpace H²] 
  (p q r : H²) (h : ¬Collinear p q r) :
  angle p q r + angle q r p + angle r p q < π :=
begin
  -- 双曲三角形内角和小于π的证明
  have area_pos : area_triangle p q r > 0,
  { apply area_triangle_pos_of_not_collinear h },
  
  have key := gauss_bonnet_triangle p q r,
  rw [← angle_sum_triangle] at key,
  linarith,
end
```

## 8. 参考文献

1. Beltrami, E. *Essay on the Interpretation of Non-Euclidean Geometry*. 1868.
2. Klein, F. *On the So-called Non-Euclidean Geometry*. 1871.
3. Poincaré, H. *Science and Hypothesis*. 1902.
4. Coxeter, H.S.M. *Non-Euclidean Geometry*. University of Toronto Press, 1957.
5. Stillwell, J. *Sources of Hyperbolic Geometry*. American Mathematical Society, 1996.
6. Thurston, W. *Three-Dimensional Geometry and Topology*. Princeton University Press, 1997.
7. Anderson, J.W. *Hyperbolic Geometry*. Springer, 2005.
