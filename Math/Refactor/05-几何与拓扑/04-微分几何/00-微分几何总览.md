# 微分几何总览

## 目录

- [微分几何总览](#微分几何总览)
  - [目录](#目录)
  - [1. 微分几何简介](#1-微分几何简介)
    - [1.1 历史发展](#11-历史发展)
    - [1.2 基本思想](#12-基本思想)
    - [1.3 与其他数学分支的关系](#13-与其他数学分支的关系)
  - [2. 曲线理论](#2-曲线理论)
    - [2.1 参数化曲线](#21-参数化曲线)
    - [2.2 弧长参数化](#22-弧长参数化)
    - [2.3 曲率和挠率](#23-曲率和挠率)
    - [2.4 Frenet标架](#24-frenet标架)
  - [3. 曲面理论](#3-曲面理论)
    - [3.1 参数化曲面](#31-参数化曲面)
    - [3.2 切空间](#32-切空间)
    - [3.3 第一基本形式](#33-第一基本形式)
    - [3.4 第二基本形式](#34-第二基本形式)
    - [3.5 高斯曲率与平均曲率](#35-高斯曲率与平均曲率)
  - [4. 流形理论](#4-流形理论)
    - [4.1 流形的定义](#41-流形的定义)
    - [4.2 切空间与余切空间](#42-切空间与余切空间)
    - [4.3 向量场与微分形式](#43-向量场与微分形式)
    - [4.4 联络理论](#44-联络理论)
    - [4.5 黎曼流形](#45-黎曼流形)
  - [5. 微分几何的应用](#5-微分几何的应用)
    - [5.1 物理学应用](#51-物理学应用)
    - [5.2 计算机科学应用](#52-计算机科学应用)
    - [5.3 其他领域应用](#53-其他领域应用)
  - [6. 计算实现](#6-计算实现)
    - [6.1 Rust实现](#61-rust实现)
    - [6.2 数值计算方法](#62-数值计算方法)
  - [7. 参考文献](#7-参考文献)

---

## 1. 微分几何简介

微分几何是研究利用微积分方法研究几何对象的数学分支，它关注曲线、曲面和更一般的高维流形的几何性质。

### 1.1 历史发展

微分几何的发展经历了几个关键阶段：

- **17-18世纪初期**：牛顿和莱布尼茨发明微积分，为微分几何奠定了基础
- **18-19世纪**：欧拉和高斯系统研究曲面理论，高斯建立了曲面内蕴几何
- **19世纪末-20世纪初**：黎曼将微分几何推广到高维流形
- **20世纪中期**：微分几何在物理学特别是相对论中的广泛应用
- **现代发展**：与拓扑学、代数几何和数学物理的融合

### 1.2 基本思想

微分几何的核心思想是使用微积分工具研究几何对象：

- **局部性**：关注几何对象的局部性质和行为
- **参数化**：通过参数方程表示几何对象
- **内蕴性**：研究不依赖于外部空间的内在几何性质
- **微分结构**：利用微分学研究曲线和曲面的性质

### 1.3 与其他数学分支的关系

微分几何与多个数学分支紧密相连：

- **微积分**：提供基本的数学工具
- **拓扑学**：研究几何对象的拓扑性质
- **代数几何**：提供代数方法研究几何结构
- **李群理论**：研究几何对称性
- **数学物理**：应用微分几何解决物理问题

## 2. 曲线理论

### 2.1 参数化曲线

平面或空间中的曲线可以用参数方程表示：

$$\gamma(t) = (x(t), y(t), z(t)), \quad t \in I$$

其中$I$是某个区间，$x(t)$，$y(t)$，$z(t)$是关于参数$t$的函数。

**光滑性条件**：

曲线$\gamma$在点$t_0$处是光滑的，如果在$t_0$的某个邻域内，各分量函数有连续导数，且切向量$\gamma'(t)$非零。

**重参数化**：

若有光滑函数$\phi: J \rightarrow I$且$\phi'(s) \neq 0$，则$\gamma \circ \phi: J \rightarrow \mathbb{R}^3$是曲线$\gamma$的重参数化。

### 2.2 弧长参数化

弧长参数$s$定义为：

$$s(t) = \int_{t_0}^{t} |\gamma'(u)| du$$

弧长参数化的优点：

- 参数$s$具有几何意义（从起点沿曲线的距离）
- 切向量的长度恒为1，即$|\gamma'(s)| = 1$
- 简化许多几何公式

### 2.3 曲率和挠率

**曲率**：

曲率$\kappa$衡量曲线偏离直线的程度。对于弧长参数化的曲线，曲率定义为：

$$\kappa(s) = |\gamma''(s)|$$

对于一般参数化的曲线：

$$\kappa(t) = \frac{|\gamma'(t) \times \gamma''(t)|}{|\gamma'(t)|^3}$$

**挠率**：

挠率$\tau$衡量空间曲线偏离平面的程度：

$$\tau(s) = \frac{(\gamma'(s) \times \gamma''(s)) \cdot \gamma'''(s)}{|\gamma'(s) \times \gamma''(s)|^2}$$

### 2.4 Frenet标架

对于空间曲线，Frenet标架由三个相互垂直的单位向量组成：

- **切向量**：$\mathbf{T}(s) = \gamma'(s)$
- **法向量**：$\mathbf{N}(s) = \frac{\mathbf{T}'(s)}{|\mathbf{T}'(s)|}$
- **副法向量**：$\mathbf{B}(s) = \mathbf{T}(s) \times \mathbf{N}(s)$

**Frenet-Serret公式**：

$$
\begin{cases}
\mathbf{T}'(s) = \kappa(s) \mathbf{N}(s) \\
\mathbf{N}'(s) = -\kappa(s) \mathbf{T}(s) + \tau(s) \mathbf{B}(s) \\
\mathbf{B}'(s) = -\tau(s) \mathbf{N}(s)
\end{cases}
$$

## 3. 曲面理论

### 3.1 参数化曲面

参数化曲面可表示为：

$$\mathbf{r}(u, v) = (x(u, v), y(u, v), z(u, v)), \quad (u, v) \in D$$

其中$D$是参数平面上的区域。

**正则性条件**：

曲面在点$(u_0, v_0)$处是正则的，如果切向量$\mathbf{r}_u$和$\mathbf{r}_v$在该点线性无关。

### 3.2 切空间

给定曲面上的点$p = \mathbf{r}(u_0, v_0)$，切空间$T_p S$是由切向量$\mathbf{r}_u$和$\mathbf{r}_v$生成的二维向量空间。

**切平面的法向量**：

$$\mathbf{n} = \frac{\mathbf{r}_u \times \mathbf{r}_v}{|\mathbf{r}_u \times \mathbf{r}_v|}$$

### 3.3 第一基本形式

第一基本形式描述了曲面上的度量性质，决定了曲面上的长度、角度和面积。

**系数**：

$$E = \mathbf{r}_u \cdot \mathbf{r}_u, \quad F = \mathbf{r}_u \cdot \mathbf{r}_v, \quad G = \mathbf{r}_v \cdot \mathbf{r}_v$$

**第一基本形式**：

$$I = E \, du^2 + 2F \, du \, dv + G \, dv^2$$

**曲面元素**：

$$dA = \sqrt{EG - F^2} \, du \, dv$$

### 3.4 第二基本形式

第二基本形式描述了曲面的弯曲性质。

**系数**：

$$L = \mathbf{r}_{uu} \cdot \mathbf{n}, \quad M = \mathbf{r}_{uv} \cdot \mathbf{n}, \quad N = \mathbf{r}_{vv} \cdot \mathbf{n}$$

**第二基本形式**：

$$II = L \, du^2 + 2M \, du \, dv + N \, dv^2$$

### 3.5 高斯曲率与平均曲率

**高斯曲率**：

$$K = \frac{LN - M^2}{EG - F^2}$$

高斯曲率是曲面内蕴性质，与曲面的嵌入无关（高斯绝妙定理）。

**平均曲率**：

$$H = \frac{EN - 2FM + GL}{2(EG - F^2)}$$

平均曲率与曲面的嵌入相关，表示曲面的外在弯曲程度。

**特殊曲面**：

- **平面**：$K = 0, H = 0$
- **球面**：$K > 0, H = \text{const}$
- **极小曲面**：$H = 0$
- **常高斯曲率曲面**：$K = \text{const}$

## 4. 流形理论

### 4.1 流形的定义

n维流形是局部类似于$\mathbb{R}^n$的空间。

**定义**：拓扑空间$M$是n维流形，如果：

1. $M$是Hausdorff空间
2. $M$有可数拓扑基
3. $M$的每一点都有开邻域同胚于$\mathbb{R}^n$的开子集

**图册和局部坐标**：

- **图册**：$(U_\alpha, \varphi_\alpha)$的集合，其中$U_\alpha$是$M$的开子集，$\varphi_\alpha: U_\alpha \rightarrow \mathbb{R}^n$是同胚映射
- **坐标变换**：$\varphi_\beta \circ \varphi_\alpha^{-1}: \varphi_\alpha(U_\alpha \cap U_\beta) \rightarrow \varphi_\beta(U_\alpha \cap U_\beta)$

**光滑流形**：所有坐标变换都是$C^{\infty}$的流形。

### 4.2 切空间与余切空间

**切空间**：

在点$p \in M$处，切空间$T_p M$可以定义为：

- 曲线等价类的集合
- 导数算子的集合
- 在一个局部坐标系下由基$\frac{\partial}{\partial x^i}$生成的向量空间

**余切空间**：

余切空间$T_p^* M$是切空间$T_p M$的对偶空间，由基$dx^i$生成。

**切丛和余切丛**：

- **切丛**：$TM = \bigcup_{p \in M} T_p M$
- **余切丛**：$T^*M = \bigcup_{p \in M} T_p^* M$

### 4.3 向量场与微分形式

**向量场**：

向量场$X$是把流形上每一点$p$映射到其切空间$T_p M$中一个向量的光滑映射。

局部表示：$X = X^i \frac{\partial}{\partial x^i}$

**微分形式**：

k阶微分形式$\omega$是把流形上每一点$p$映射到$T_p^* M$的k次外积的光滑映射。

局部表示：$\omega = \omega_{i_1 i_2 \cdots i_k} dx^{i_1} \wedge dx^{i_2} \wedge \cdots \wedge dx^{i_k}$

**外微分**：

外微分$d$是把k阶微分形式映射到k+1阶微分形式的算子。

性质：$d^2 = 0$（外微分的幂等性）

### 4.4 联络理论

**联络**：

联络提供了在流形上比较不同点的切空间的方法。

**协变导数**：

协变导数$\nabla_X Y$表示向量场$Y$沿向量场$X$的方向导数。

局部表示：$\nabla_{\frac{\partial}{\partial x^i}} \frac{\partial}{\partial x^j} = \Gamma_{ij}^k \frac{\partial}{\partial x^k}$

其中$\Gamma_{ij}^k$是Christoffel符号。

**平行移动**：

平行移动是将一个向量沿曲线移动，使其在联络意义下保持"平行"。

### 4.5 黎曼流形

**黎曼度量**：

黎曼度量$g$是流形上每点处切空间上的正定双线性形式。

局部表示：$g = g_{ij} dx^i \otimes dx^j$

**Levi-Civita联络**：

Levi-Civita联络是与黎曼度量相容且无挠的唯一联络。

**测地线**：

测地线是黎曼流形中局部最短的曲线，满足：

$$\frac{d^2 x^i}{dt^2} + \Gamma_{jk}^i \frac{dx^j}{dt} \frac{dx^k}{dt} = 0$$

**黎曼曲率张量**：

黎曼曲率张量$R$描述了流形的弯曲程度：

$$R(X,Y)Z = \nabla_X \nabla_Y Z - \nabla_Y \nabla_X Z - \nabla_{[X,Y]} Z$$

局部表示：$R^l_{ijk} = \frac{\partial \Gamma^l_{jk}}{\partial x^i} - \frac{\partial \Gamma^l_{ik}}{\partial x^j} + \Gamma^m_{jk} \Gamma^l_{im} - \Gamma^m_{ik} \Gamma^l_{jm}$

## 5. 微分几何的应用

### 5.1 物理学应用

- **广义相对论**：时空作为4维黎曼流形，引力表现为时空弯曲
- **规范场论**：联络理论在规范场理论中的应用
- **统计力学**：信息几何在统计力学中的应用
- **弦理论**：复几何和辛几何在弦理论中的应用

### 5.2 计算机科学应用

- **计算机图形学**：曲面表示和处理
- **计算机视觉**：形状分析和识别
- **机器学习**：流形学习和降维方法
- **机器人学**：路径规划和控制理论

### 5.3 其他领域应用

- **生物学**：生物形态和生长模型
- **医学影像**：形状分析和配准
- **工程学**：应力分析和流体动力学
- **建筑设计**：复杂曲面的设计和构建

## 6. 计算实现

### 6.1 Rust实现

下面是曲线和曲面基本计算的Rust实现示例：

```rust
use nalgebra::{Vector3, Matrix3};

/// 曲线的基本结构
pub struct Curve3D {
    /// 参数化函数，输入参数t，返回三维空间中的点
    parametrization: Box<dyn Fn(f64) -> Vector3<f64>>,
    /// 参数定义域
    domain: (f64, f64),
}

impl Curve3D {
    /// 创建新曲线
    pub fn new<F>(param_func: F, domain: (f64, f64)) -> Self 
    where F: Fn(f64) -> Vector3<f64> + 'static {
        Curve3D {
            parametrization: Box::new(param_func),
            domain,
        }
    }
    
    /// 计算曲线上参数t处的点
    pub fn point_at(&self, t: f64) -> Vector3<f64> {
        (self.parametrization)(t)
    }
    
    /// 计算曲线上参数t处的切向量
    pub fn tangent(&self, t: f64, h: f64) -> Vector3<f64> {
        // 使用中心差分近似导数
        let pt_plus = self.point_at(t + h);
        let pt_minus = self.point_at(t - h);
        (pt_plus - pt_minus) / (2.0 * h)
    }
    
    /// 计算曲率
    pub fn curvature(&self, t: f64, h: f64) -> f64 {
        let tangent = self.tangent(t, h);
        
        // 计算二阶导数（中心差分）
        let pt_plus = self.point_at(t + h);
        let pt = self.point_at(t);
        let pt_minus = self.point_at(t - h);
        let second_deriv = (pt_plus - 2.0 * pt + pt_minus) / (h * h);
        
        // 计算曲率
        let cross_prod = tangent.cross(&second_deriv);
        cross_prod.norm() / tangent.norm().powi(3)
    }
}

/// 曲面的基本结构
pub struct Surface {
    /// 参数化函数，输入参数(u,v)，返回三维空间中的点
    parametrization: Box<dyn Fn(f64, f64) -> Vector3<f64>>,
    /// 参数定义域
    domain_u: (f64, f64),
    domain_v: (f64, f64),
}

impl Surface {
    /// 创建新曲面
    pub fn new<F>(param_func: F, domain_u: (f64, f64), domain_v: (f64, f64)) -> Self 
    where F: Fn(f64, f64) -> Vector3<f64> + 'static {
        Surface {
            parametrization: Box::new(param_func),
            domain_u,
            domain_v,
        }
    }
    
    /// 计算曲面上参数(u,v)处的点
    pub fn point_at(&self, u: f64, v: f64) -> Vector3<f64> {
        (self.parametrization)(u, v)
    }
    
    /// 计算曲面上参数(u,v)处的u方向切向量
    pub fn tangent_u(&self, u: f64, v: f64, h: f64) -> Vector3<f64> {
        let pt_plus = self.point_at(u + h, v);
        let pt_minus = self.point_at(u - h, v);
        (pt_plus - pt_minus) / (2.0 * h)
    }
    
    /// 计算曲面上参数(u,v)处的v方向切向量
    pub fn tangent_v(&self, u: f64, v: f64, h: f64) -> Vector3<f64> {
        let pt_plus = self.point_at(u, v + h);
        let pt_minus = self.point_at(u, v - h);
        (pt_plus - pt_minus) / (2.0 * h)
    }
    
    /// 计算法向量
    pub fn normal(&self, u: f64, v: f64, h: f64) -> Vector3<f64> {
        let tu = self.tangent_u(u, v, h);
        let tv = self.tangent_v(u, v, h);
        tu.cross(&tv).normalize()
    }
    
    /// 计算第一基本形式的系数
    pub fn first_fundamental_form(&self, u: f64, v: f64, h: f64) -> (f64, f64, f64) {
        let tu = self.tangent_u(u, v, h);
        let tv = self.tangent_v(u, v, h);
        
        let e = tu.dot(&tu);
        let f = tu.dot(&tv);
        let g = tv.dot(&tv);
        
        (e, f, g)
    }
    
    /// 计算高斯曲率
    pub fn gaussian_curvature(&self, u: f64, v: f64, h: f64) -> f64 {
        // 这是一个简化的实现，实际应用中可能需要更精确的方法
        
        // 计算第一基本形式的系数
        let (e, f, g) = self.first_fundamental_form(u, v, h);
        
        // 计算法向量
        let normal = self.normal(u, v, h);
        
        // 计算第二基本形式的系数（使用数值近似）
        let tu = self.tangent_u(u, v, h);
        let tv = self.tangent_v(u, v, h);
        
        // 近似二阶导数
        let tuu = (self.tangent_u(u + h, v, h) - self.tangent_u(u - h, v, h)) / (2.0 * h);
        let tuv = (self.tangent_u(u, v + h, h) - self.tangent_u(u, v - h, h)) / (2.0 * h);
        let tvv = (self.tangent_v(u, v + h, h) - self.tangent_v(u, v - h, h)) / (2.0 * h);
        
        let l = tuu.dot(&normal);
        let m = tuv.dot(&normal);
        let n = tvv.dot(&normal);
        
        // 计算高斯曲率
        (l * n - m * m) / (e * g - f * f)
    }
}
```

### 6.2 数值计算方法

微分几何中的数值方法主要包括：

1. **微分方程数值求解**：用于计算测地线和平行移动
2. **曲率估计算法**：在离散点集上估计曲率
3. **离散微分几何**：处理三角网格等离散表示
4. **最小二乘拟合**：用于曲面重建和平滑
5. **谱方法**：用于形状分析和比较

## 7. 参考文献

1. do Carmo, M. P. *Differential Geometry of Curves and Surfaces*. Prentice-Hall, 1976.
2. Spivak, M. *A Comprehensive Introduction to Differential Geometry*. Publish or Perish, 1999.
3. Lee, J. M. *Introduction to Smooth Manifolds*. Springer, 2012.
4. O'Neill, B. *Semi-Riemannian Geometry With Applications to Relativity*. Academic Press, 1983.
5. Kobayashi, S., Nomizu, K. *Foundations of Differential Geometry*. Wiley, 1996.
6. Crane, K., Wardetzky, M. *A Glimpse Into Discrete Differential Geometry*. Notices of the AMS, 2017.
