# 04 - 计数分析与古典概型

---

title: "计数分析与古典概型"
date: 2025-07-03

---

## 1. 引言：等可能性的世界

概率论起源于对赌博游戏的分析，而这些游戏大多具有一个共同的特点：其结果是有限的，且每种结果出现的可能性被认为是均等的。例如，一个质地均匀的骰子，掷出任何一面（1到6）的概率都是相同的。

这种基于"等可能性"假设的概率模型，被称为**古典概率模型 (Classical Probability Model)** 或**古典概型**。在这种模型下，计算概率的核心任务，就从复杂的分析转变为一个纯粹的**计数问题**。

## 2. 古典概型

**定义 (古典概型)**:
一个随机试验如果满足以下两个条件，则称其为古典概型：

1. **有限性**: 试验的样本空间 Ω 是一个**有限集**，包含 $n$ 个样本点。
2. **等可能性**: 每个基本事件（样本点）发生的概率都是相等的。
    由于所有样本点的概率之和必须为1（根据概率公理），所以每个样本点的概率必然是 $1/n$。

在这种模型下，一个事件 A 的概率计算非常直观：
$$ P(A) = \frac{\text{事件 A 中包含的样本点数}}{\text{样本空间中的总样本点数}} = \frac{|A|}{|\Omega|} $$

因此，解决古典概型问题的关键，就在于如何准确地数出 $|\Omega|$ 和 $|A|$ 的大小。这就需要我们掌握一些基本的**组合计数 (combinatorics)** 工具。

## 3. 基本计数原理

### 乘法原理 (Multiplication Principle)

如果一个任务可以分为 $k$ 个步骤完成，第一步有 $n_1$ 种方法，第二步有 $n_2$ 种方法，...，第 $k$ 步有 $n_k$ 种方法，那么完成整个任务的总方法数就是：
$$ N = n_1 \times n_2 \times \dots \times n_k $$

- **例子**: 从北京到上海有3种航班，从上海到东京有2种航班。那么从北京经上海到东京的总航线选择有 $3 \times 2 = 6$ 种。

### 加法原理 (Addition Principle)

如果完成一个任务有 $k$ 类互不相干的方法，第一类方法有 $n_1$ 种，第二类方法有 $n_2$ 种，...，第 $k$ 类方法有 $n_k$ 种，那么完成这个任务的总方法数就是：
$$ N = n_1 + n_2 + \dots + n_k $$

- **例子**: 从书架上选一本书，其中有5本小说，3本诗集。那么总的选择有 $5 + 3 = 8$ 种。

## 4. 排列与组合

排列和组合是计数的核心，它们都涉及到从一个集合中选取元素，其关键区别在于**是否关心元素的顺序**。

### 排列 (Permutation)

**排列**是指从 $n$ 个不同元素中，取出 $k$ 个元素，并**按照一定的顺序**进行排列。顺序是重要的。

从 $n$ 个元素中取出 $k$ 个进行排列的总数，记作 $P_n^k$ 或 $A_n^k$:
$$ P_n^k = n \times (n-1) \times \dots \times (n-k+1) = \frac{n!}{(n-k)!} $$

- **全排列**: 当 $k=n$ 时，称为全排列。$P_n^n = n!$。
- **例子**: 从5个人中选出3个人分别担任主席、副主席和秘书，有多少种选法？
  - 这是一个排列问题，因为职位不同，顺序是重要的。
  - $P_5^3 = 5 \times 4 \times 3 = 60$ 种。

### 组合 (Combination)

**组合**是指从 $n$ 个不同元素中，只取出 $k$ 个元素，**不考虑它们的顺序**，形成一个子集。顺序不重要。

从 $n$ 个元素中取出 $k$ 个进行组合的总数，记作 $C_n^k$ 或 $\binom{n}{k}$ ("n choose k"):
$$ C_n^k = \frac{P_n^k}{k!} = \frac{n!}{k!(n-k)!} $$

- **直观理解**: 先按排列选出 $k$ 个元素（有 $P_n^k$ 种方法），然后除以这 $k$ 个元素自身的全排列数 $k!$，因为在组合中这些顺序被视为同一种情况。
- **例子**: 从5个人中选出3个人组成一个委员会，有多少种选法？
  - 这是一个组合问题，因为委员会成员没有职位区别，顺序不重要。
  - $C_5^3 = \frac{5!}{3!2!} = \frac{5 \times 4}{2 \times 1} = 10$ 种。

## 5. 应用举例：扑克牌问题

从一副52张的扑克牌中随机抽取5张，求拿到"同花顺"（花色相同且点数相连）的概率。

1. **计算样本空间大小 $|\Omega|$**:
    从52张牌中任选5张，不考虑顺序，是组合问题。
    $|\Omega| = C_{52}^5 = \frac{52 \times 51 \times 50 \times 49 \times 48}{5 \times 4 \times 3 \times 2 \times 1} = 2,598,960$

2. **计算事件A的大小 $|A|$ (同花顺)**:
    - **选择花色**: 有4种花色可选 (黑桃、红桃、梅花、方片)。
    - **选择点数**: 点数要相连。可能的序列有 (A,2,3,4,5), (2,3,4,5,6), ..., (10,J,Q,K,A)，共10种。
    - 根据乘法原理，同花顺的总数是 $|A| = 4 \times 10 = 40$。

3. **计算概率**:
    $P(A) = \frac{|A|}{|\Omega|} = \frac{40}{2,598,960} \approx 0.0000154$

## 6. 总结

古典概型是概率论中最基本和直观的模型，它将复杂的概率问题简化为"数数"的问题。为了有效地进行计数，我们必须熟练掌握**乘法原理**、**加法原理**，并深刻理解**排列**（关心顺序）与**组合**（不关心顺序）的核心区别。

虽然现实世界中很多问题不满足"等可能性"的假设，但古典概型和组合计数分析不仅是解决许多实际问题的有力工具，更是我们建立更高级概率直觉和理解更复杂概率模型的训练场。

---
在等可能性的理想国里，组合计数是概率的唯一法官。

---
[返回模块总览](./00-模块总览.md) | [返回上一级: 06-概率论与统计学总览](../00-06-概率论与统计学总览.md) | [返回项目总览](../../09-项目总览/00-项目总览.md)
