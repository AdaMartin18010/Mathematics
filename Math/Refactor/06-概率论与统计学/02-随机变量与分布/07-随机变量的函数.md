---
title: "随机变量的函数"
date: 2025-07-04
---

## 1. 问题背景

在实际应用中，我们常常对某个已知随机变量的**函数**更感兴趣。

- 已知一个圆的半径 $R$ 是一个随机变量，我们可能更关心它的面积 $A = \pi R^2$。
- 已知一个投资的日收益率 $X$ 是一个随机变量，我们可能更关心三天总收益 $Y = X_1+X_2+X_3$。
- 已知测量的温度值 $C$ (摄氏度) 是一个随机变量，我们可能需要把它转换为华氏度 $F = \frac{9}{5}C + 32$。

在这些情况下，$A, Y, F$ 都是另一个随机变量的函数，因此它们本身也是随机变量。一个核心问题随之产生：**如果已知 $X$ 的概率分布，如何求出 $Y=g(X)$ 的概率分布？**

本节将探讨解决这个问题的基本方法，我们将分别考虑离散和连续两种情况。

## 2. 离散型随机变量的函数

对于离散型随机变量，情况相对直观和简单。如果 $X$ 是一个离散型随机变量，那么 $Y=g(X)$ 也是一个离散型随机变量。我们可以通过以下步骤找到 $Y$ 的概率质量函数 (PMF)，$p_Y(y)$：

1. **确定 $Y$ 的所有可能取值**:
    遍历 $X$ 的所有可能取值 $x_i$，计算出对应的 $y_i = g(x_i)$。所有不重复的 $y_i$ 构成了 $Y$ 的样本空间。
2. **计算每个取值的概率**:
    对于 $Y$ 的每一个可能取值 $y_j$，找到所有满足 $g(x_i) = y_j$ 的 $x_i$ 值。然后，将这些 $x_i$ 对应的概率相加。
    $$ p_Y(y_j) = P(Y=y_j) = \sum_{x_i: g(x_i)=y_j} P(X=x_i) $$

**示例**:
假设离散随机变量 $X$ 的分布如下：

| $x$    | -2    | -1    | 0     | 1     | 2     |
| :----- | :---- | :---- | :---- | :---- | :---- |
| $p(x)$ | 0.1   | 0.2   | 0.4   | 0.2   | 0.1   |

令 $Y = X^2$。求 $Y$ 的概率分布。

1. **确定 $Y$ 的取值**:
    - $(-2)^2 = 4$
    - $(-1)^2 = 1$
    - $0^2 = 0$
    - $1^2 = 1$
    - $2^2 = 4$
    所以，$Y$ 的可能取值为 $\{0, 1, 4\}$。

2. **计算概率**:
    - **$P(Y=0)$**:
        只有当 $X=0$ 时，$Y=0$。所以 $P(Y=0) = P(X=0) = 0.4$。
    - **$P(Y=1)$**:
        当 $X=-1$ 或 $X=1$ 时，$Y=1$。所以 $P(Y=1) = P(X=-1) + P(X=1) = 0.2 + 0.2 = 0.4$。
    - **$P(Y=4)$**:
        当 $X=-2$ 或 $X=2$ 时，$Y=4$。所以 $P(Y=4) = P(X=-2) + P(X=2) = 0.1 + 0.1 = 0.2$。

**$Y$ 的概率分布 (PMF) 表**:

| $y$    | 0     | 1     | 4     |
| :----- | :---- | :---- | :---- |
| $p(y)$ | 0.4   | 0.4   | 0.2   |

(检查归一性: $0.4+0.4+0.2=1$)

## 3. 连续型随机变量的函数

对于连续型随机变量，我们不能再使用求和，而需要借助**累积分布函数 (CDF)** 来找到 $Y=g(X)$ 的分布。

**通用方法 (CDF法)**:

1. 写出 $Y$ 的 CDF 定义：$F_Y(y) = P(Y \le y)$。
2. 将 $Y=g(X)$ 代入：$F_Y(y) = P(g(X) \le y)$。
3. 通过代数变换，将不等式 $g(X) \le y$ 转化为关于 $X$ 的不等式。
4. 利用 $X$ 的已知 CDF 或 PDF 计算这个关于 $X$ 的不等式的概率，从而得到 $F_Y(y)$ 的表达式。
5. 求导：对 $F_Y(y)$ 求导，即可得到 $Y$ 的概率密度函数 (PDF)：$f_Y(y) = \frac{dF_Y(y)}{dy}$。

**示例**:
假设 $X$ 是一个服从 $[0, 1]$ 上均匀分布的随机变量，$X \sim U(0, 1)$。令 $Y = -2 \ln X$。求 $Y$ 的 PDF。

- $X$ 的 PDF: $f_X(x)=1$ for $x \in [0, 1]$。
- $X$ 的 CDF: $F_X(x)=x$ for $x \in [0, 1]$。
- 首先确定 $Y$ 的取值范围：当 $x \in (0, 1]$ 时，$\ln x \in (-\infty, 0]$，所以 $y = -2 \ln x \in [0, \infty)$。

**开始推导**:

1. **$Y$ 的 CDF**: $F_Y(y) = P(Y \le y)$ for $y \ge 0$。
2. **代入 $g(X)$**: $F_Y(y) = P(-2 \ln X \le y)$。
3. **变换不等式**:
    $$ -2 \ln X \le y \iff \ln X \ge -\frac{y}{2} \iff X \ge e^{-y/2} $$
    (注意：$e^x$ 是增函数，不等号方向不变)
4. **用 $X$ 的分布计算概率**:
    $$ P(X \ge e^{-y/2}) = 1 - P(X < e^{-y/2}) = 1 - P(X \le e^{-y/2}) $$
    (因为 $X$ 是连续变量，小于和小于等于的概率相同)
    $$ F_Y(y) = 1 - F_X(e^{-y/2}) $$
    因为 $y \ge 0$，所以 $e^{-y/2} \in (0, 1]$，这个值在 $X$ 的有效定义域内。
    将 $X$ 的 CDF $F_X(x)=x$ 代入：
    $$ F_Y(y) = 1 - e^{-y/2} $$
5. **求导得到 PDF**:
    $$ f_Y(y) = \frac{d}{dy}(1 - e^{-y/2}) = -(-\frac{1}{2}e^{-y/2}) = \frac{1}{2}e^{-y/2} $$
    这正是参数为 $\lambda = 1/2$ 的**指数分布**的PDF！这个例子揭示了均匀分布和指数分布之间的一个深刻联系。

## 4. 总结

- 求解随机变量函数的分布是概率论中的一个基本而重要的问题。
- **离散情况**: 方法直接，通过**枚举和求和**即可得到新变量的PMF。关键是正确找出所有能映射到同一个新值的原始值，并将其概率相加。
- **连续情况**: 方法更具技巧性，通常采用**CDF法**。这是一个"**定义-代换-变形-计算-求导**"的标准化流程，核心是利用已知变量的CDF来表达未知变量的CDF。
- 这个过程不仅是计算技巧的训练，也常常能揭示不同概率分布之间的内在联系。
