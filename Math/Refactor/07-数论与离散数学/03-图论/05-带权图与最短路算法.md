---
title: "带权图与最短路算法"
date: 2025-07-04
---

## 1. 带权图 (Weighted Graph)

在许多实际问题中，图的边不仅仅表示"连接关系"，还带有关联的数值信息，如距离、成本、时间、带宽等。这种边上赋有数值的图，就是带权图。

**定义 (带权图)**:

- 一个**带权图**是一个图 $G=(V, E)$，其中每条边 $e \in E$ 都被赋予一个数值，称为**权重 (weight)** 或**成本 (cost)**。
- 权重可以表示任何可量化的度量。通常情况下，我们假设权重是非负的，尤其是在讨论最短路问题时。
- **路径的长度（或成本）**: 在带权图中，一条路径的长度不再是其包含的边数，而是路径上所有**边的权重之和**。

**应用场景**:

- **交通网络**: 顶点是城市，边是道路，权重是道路的长度或开车所需的时间。
- **通信网络**: 顶点是路由器，边是通信链路，权重是延迟或带宽的倒数。
- **项目管理**: 顶点是任务，有向边表示依赖关系，权重是完成任务所需的时间。

---

## 2. 最短路问题 (Shortest Path Problem)

最短路问题是图论中最基本、最重要、应用最广泛的算法问题之一。其目标是在一个带权图中，找到从一个顶点到另一个（或所有其他）顶点的、路径成本最低的路径。

**问题的分类**:

1. **单源最短路 (Single-Source Shortest Path, SSSP)**:
    - 给定一个源顶点 $s$，找出从 $s$ 到图中所有其他顶点的最短路径。
    - 这是最常见的类型，我们下面将要介绍的迪杰斯特拉算法就是解决这个问题的。
2. **单目的地最短路 (Single-Destination Shortest Path)**:
    - 找出从所有顶点到某个特定目的地顶点 $d$ 的最短路径。
    - 如果将图中所有边的方向反转，这个问题就等价于以 $d$ 为源点的单源最短路问题。
3. **点对点最短路 (Single-Pair Shortest Path)**:
    - 找出两个特定顶点 $u, v$ 之间的最短路径。
    - 目前没有比最好的单源最短路算法效率更高的解法。通常做法是直接以 $u$ 为源点运行单源最短路算法。
4. **所有点对最短路 (All-Pairs Shortest Path, APSP)**:
    - 找出图中每一对顶点 $(u, v)$ 之间的最短路径。
    - 可以通过对每个顶点运行一次单源最短路算法来解决，也可以使用专门的算法如弗洛伊德-沃歇尔 (Floyd-Warshall) 算法。

---

## 3. 迪杰斯特拉 (Dijkstra) 算法

迪杰斯特拉算法是解决**非负权重**带权图上**单源最短路问题**的经典贪心算法。它由荷兰计算机科学家艾兹赫尔·迪杰斯特拉于1956年提出。

**算法思想 (贪心策略)**:
算法维护一个已找到最短路径的顶点集合 $S$。

1. **初始化**:
    - 将源顶点 $s$ 放入集合 $S$。
    - 创建一个距离数组 `dist`，初始化 `dist[s] = 0`，对于所有其他顶点 $v$，`dist[v] = \infty$。
2. **迭代**:
    - 重复以下步骤，直到所有顶点都加入 $S$：
        a.  从 $S$ **外部**的顶点中，选择一个 `dist` 值最小的顶点 $u$。
        b.  将 $u$ 加入集合 $S$。
        c.  **松弛 (Relaxation)**: 对于 $u$ 的每一个**不在** $S$ 中的邻居 $v$，更新其 `dist` 值：如果从 $s$ 经过 $u$ 到达 $v$ 的路径比已知的到 $v$ 的路径更短，就更新它。即：
           `if dist[u] + weight(u, v) < dist[v]`, then `dist[v] = dist[u] + weight(u, v)`。

**算法的关键**:

- **贪心选择**: 每次都选择当前看起来"最近"的顶点加入 $S$。
- **正确性保证**: 算法的正确性依赖于**边权重非负**的假设。因为权重非负，所以一旦一个顶点 $u$ 被选入 $S$，就意味着从源点到 $u$ 的最短路径已经被找到，不可能再通过 $S$ 之外的其他顶点找到一条更短的路径了。如果存在负权重边，这个贪心选择就不再成立。

**例子**:
想象一下，你在地图上，`dist` 数组记录了你当前所知的到达每个城市的最短距离。你每次都走到你"认为"最近的那个未访问过的城市 ($u$)，然后以这个城市为中转站，看看能不能刷新它旁边那些城市的最短距离记录。

---

## 4. 总结

引入"权重"概念，使得图论从单纯研究拓扑连接的抽象结构，扩展到了能够解决大量现实世界优化问题的强大工具。最短路问题是这种应用价值的集中体现，它为网络路由、物流规划、地理信息系统等领域提供了坚实的算法基础。

迪杰斯特拉算法作为解决单源最短路问题的基石，其优美的贪心思想和高效的实现（通常使用优先队列），使其成为每个计算机科学家和工程师都必须掌握的核心算法之一。理解它，不仅是掌握一个算法，更是理解一种解决优化问题的通用范式。
