---
title: "排列与组合"
date: 2025-07-04
---

## 1. 核心问题：选择与排序

在基本计数原理的基础上，我们遇到了两类非常普遍且重要的问题：

1. 从一组不同的对象中，选出若干个，**并按一定顺序排列**，有多少种方法？
2. 从一组不同的对象中，选出若干个，**不考虑顺序**，有多少种方法？

这两个问题分别对应着数学中两个核心概念：**排列 (Permutation)** 和 **组合 (Combination)**。

**关键区别**: **排列在乎顺序，组合不在乎顺序。**

- 从 $\{A, B, C\}$ 中选2个字母：
  - **排列**的结果有：$AB, BA, AC, CA, BC, CB$ (共6种)
  - **组合**的结果有：$\{A, B\}, \{A, C\}, \{B, C\}$ (共3种)
  - 注意：在组合中，$AB$ 和 $BA$ 被认为是**同一种**选择。

---

## 2. 排列 (Permutation)

**定义**:
从 $n$ 个不同的元素中，取出 $k$ 个（$1 \le k \le n$）元素，并按照一定的顺序排成一列，称为从 $n$ 个不同元素中取出 $k$ 个元素的一个**排列**。

排列数用符号 $P(n, k)$ 或 $A_k^n$ 表示。

**计算公式**:
我们可以用乘法原理来推导排列数的公式。

- 选择第1个位置的元素：有 $n$ 种选择。
- 选择第2个位置的元素：剩下 $n-1$ 个元素，有 $n-1$ 种选择。
- ...
- 选择第 $k$ 个位置的元素：剩下 $n-(k-1)$ 个元素，有 $n-k+1$ 种选择。

根据乘法原理，总的排列数是：
$$ P(n, k) = n \times (n-1) \times (n-2) \times \dots \times (n-k+1) $$

**使用阶乘表示**:
为了让公式更紧凑，我们引入阶乘 (factorial) 的概念：$n! = n \times (n-1) \times \dots \times 1$。
上述公式可以写成：
$$ P(n, k) = \frac{n!}{(n-k)!} $$

- **推导**:
    $n \times (n-1) \times \dots \times (n-k+1) = \frac{[n \times (n-1) \times \dots \times (n-k+1)] \times [(n-k) \times \dots \times 1]}{[(n-k) \times \dots \times 1]} = \frac{n!}{(n-k)!}$

**特殊情况：全排列 (Full Permutation)**
当 $k=n$ 时，即从 $n$ 个元素中取出所有元素进行排列，称为全排列。
$$ P(n, n) = n! $$
(因为 $(n-n)! = 0!$，我们规定 $0!=1$)

**例子**:
从10名选手中选出冠、亚、季军，有多少种不同的获奖顺序？

- 这是一个排列问题，因为“选手A是冠军，选手B是亚军”和“选手B是冠军，选手A是亚军”是不同的结果。
- $n=10, k=3$
- $P(10, 3) = 10 \times 9 \times 8 = 720$ 种。

---

## 3. 组合 (Combination)

**定义**:
从 $n$ 个不同的元素中，取出 $k$ 个（$0 \le k \le n$）元素组成一个**子集**（不考虑顺序），称为从 $n$ 个不同元素中取出 $k$ 个元素的一个**组合**。

组合数用符号 $C(n, k)$ 或 $\binom{n}{k}$ 表示（后者在现代数学中更常用）。

**计算公式**:
我们可以通过排列来推导组合的公式。

1. **分步思考**:
    - **第一步**: 从 $n$ 个元素中**选出** $k$ 个，不考虑顺序。这就是我们要求的组合数 $C(n, k)$。
    - **第二步**: 将这选出的 $k$ 个元素进行**全排列**。方法数是 $k!$。

2. **关联**:
    根据乘法原理，完成这两步的总方法数是 $C(n, k) \times k!$。
    这个结果是什么呢？它等价于“从n个元素中选出k个并排序”，这正是排列 $P(n, k)$ 的定义！

3. **建立等式**:
    $$ C(n, k) \times k! = P(n, k) $$

4. **求解 $C(n, k)$**:
    $$ C(n, k) = \frac{P(n, k)}{k!} = \frac{n!}{k!(n-k)!} $$

这个公式非常重要，在组合数学中无处不在。

**例子**:
从10名选手中选出3人组成一个代表队，有多少种不同的组队方式？

- 这是一个组合问题，因为选出{A, B, C}和选出{B, C, A}是同一个代表队。
- $n=10, k=3$
- $C(10, 3) = \binom{10}{3} = \frac{10!}{3!(10-3)!} = \frac{10!}{3!7!} = \frac{10 \times 9 \times 8}{3 \times 2 \times 1} = 10 \times 3 \times 4 = 120$ 种。

**重要恒等式**:
$$ \binom{n}{k} = \binom{n}{n-k} $$

- **代数证明**: 从公式上看，$\frac{n!}{k!(n-k)!}$ 和 $\frac{n!}{(n-k)!k!}$ 显然相等。
- **组合证明 (更直观)**: “从 $n$ 个人中选出 $k$ 个人组成一个团队”的方法数，和“从 $n$ 个人中选出 $n-k$ 个人**不**参加这个团队”的方法数，必然是相等的。选择前者等价于确定了后者。

## 4. 总结

排列和组合是组合计数的基石。

| 特性     | 排列 (Permutation) | 组合 (Combination) |
| :------- | :----------------- | :----------------- |
| **本质** | 排序的列表         | 无序的子集         |
| **关键词** | 顺序、排名、位置     | 选择、分组、团队     |
| **在乎顺序?** | **是**             | **否**             |
| **公式** | $P(n,k)=\frac{n!}{(n-k)!}$ | $C(n,k)=\frac{n!}{k!(n-k)!}$ |

正确区分一个问题是排列还是组合，是解决计数问题的关键第一步。始终问自己：**改变元素的顺序，会得到一个新的结果吗？** 如果会，就是排列问题；如果不会，就是组合问题。

## 国际化对齐补全：排列与组合（对齐 Wikipedia/EoM）

### 一、基本公式

- 排列：P(n,k)=n!/(n-k)!
- 组合：C(n,k)=n!/(k!(n-k)!)
- 关系：P(n,k)=k!×C(n,k)

### 二、多重集排列组合

- 多重集排列：n!/(n₁!n₂!...nₖ!)
- 多重集组合：C(n+k-1,k)（stars and bars）
- 应用：多项式展开、概率分布

### 三、二项式系数性质

- 对称性：C(n,k)=C(n,n-k)
- 递推关系：C(n,k)=C(n-1,k)+C(n-1,k-1)
- 二项式定理：(x+y)ⁿ=∑C(n,k)xᵏyⁿ⁻ᵏ

### 四、重要应用

- 概率：二项分布、超几何分布
- 组合恒等式：范德蒙德恒等式、朱世杰恒等式
- 组合优化：子集和问题、背包问题

### 五、参考

- Stanley, Enumerative Combinatorics, Vol.1, Ch.1；Aigner, Combinatorial Theory
- [Wikipedia: Combination](https://en.wikipedia.org/wiki/Combination)
- [EoM: Combinatorial analysis](https://encyclopediaofmath.org/wiki/Combinatorial_analysis)

> 本节遵循《国际化数学内容标准》与《条目结构模板》。
